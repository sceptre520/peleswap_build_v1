(this["webpackJsonpzilswap-webapp"]=this["webpackJsonpzilswap-webapp"]||[]).push([[8],{2011:function(e,t,n){"use strict";var a=n(72),o=n(73);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n(1)),r=(0,a(n(74)).default)(i.createElement("path",{d:"M20 15.31l1.9-1.9c.78-.78.78-2.05 0-2.83L20 8.69V6c0-1.1-.9-2-2-2h-2.69l-1.9-1.9c-.78-.78-2.05-.78-2.83 0L8.69 4H6c-1.1 0-2 .9-2 2v2.69l-1.9 1.9c-.78.78-.78 2.05 0 2.83l1.9 1.9V18c0 1.1.9 2 2 2h2.69l1.9 1.9c.78.78 2.05.78 2.83 0l1.9-1.9H18c1.1 0 2-.9 2-2v-2.69zM12 18c-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.69 6-6 6z"}),"BrightnessLowRounded");t.default=r},2014:function(e,t,n){"use strict";var a=n(72),o=n(73);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n(1)),r=(0,a(n(74)).default)(i.createElement("path",{d:"M6.14 11.86l-2.78 2.79c-.19.2-.19.51 0 .71l2.78 2.79c.31.32.85.09.85-.35V16H13c.55 0 1-.45 1-1s-.45-1-1-1H6.99v-1.79c0-.45-.54-.67-.85-.35zm14.51-3.21l-2.78-2.79c-.31-.32-.85-.09-.85.35V8H11c-.55 0-1 .45-1 1s.45 1 1 1h6.01v1.79c0 .45.54.67.85.35l2.78-2.79c.2-.19.2-.51.01-.7z"}),"SwapHorizRounded");t.default=r},2017:function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var a=n(12),o=n(26),i=n(7),r=n(3),c=n(1),s=n(1998),l=n(1898),d=n(257),u=n(1945),p=n(10),b=n.n(p),m=n(18),j=n(75),f=n(61),v=n(34),h=n(23),O=n(0),x=["children","className","staticContext"],g=Object(c.forwardRef)((function(e,t){return Object(O.jsx)("div",{ref:t,style:{flexGrow:1,flexBasis:1},children:Object(O.jsx)(j.NavLink,Object(r.a)({},e))})})),k=Object(u.a)((function(e){var t,n;return{root:(t={flex:1,padding:e.spacing(8,0,2),display:"flex",flexDirection:"column"},Object(i.a)(t,e.breakpoints.down("sm"),{padding:e.spacing(6,0,2)}),Object(i.a)(t,e.breakpoints.down("xs"),{padding:e.spacing(6,2,2)}),t),graph:(n={},Object(i.a)(n,e.breakpoints.down("sm"),{height:400}),Object(i.a)(n,e.breakpoints.down("xs"),{}),Object(i.a)(n,e.breakpoints.down("md"),{padding:e.spacing(6,0,2),flexDirection:"row",width:"100%"}),n),card:Object(i.a)({maxWidth:488,margin:"0 auto",background:"dark"===e.palette.type?"linear-gradient(#13222C, #002A34)":"#F6FFFC",border:e.palette.border,boxShadow:e.palette.mainBoxShadow,borderRadius:12},e.breakpoints.down("sm"),{maxWidth:450}),tabs:Object(i.a)({display:"flex",width:"488px",marginBottom:"2em"},e.breakpoints.down("sm"),{maxWidth:450}),tab:{position:"relative",width:"100%",borderRadius:0,paddingTop:e.spacing(2),paddingBottom:e.spacing(2),backgroundColor:e.palette.tab.disabledBackground,color:e.palette.tab.disabled,"&:hover":{backgroundColor:e.palette.tab.active,color:e.palette.tab.selected},"&.Mui-disabled":{backgroundColor:e.palette.tab.disabledBackground}},tabLeft:{borderTopLeftRadius:12,borderBottomLeftRadius:12,border:e.palette.border},tabNoBorder:{borderTopRightRadius:0,borderBottomRightRadius:0,border:e.palette.border,borderWidth:"1px 1px 1px 0"},tabRight:{borderTopRightRadius:12,borderBottomRightRadius:12,border:e.palette.border,borderWidth:"1px 1px 1px 0"},tabActive:{backgroundColor:e.palette.tab.active,color:e.palette.tab.selected,"&:hover":{backgroundColor:e.palette.tab.active,color:e.palette.tab.selected}},tabNoticeOpposite:{"&:after":{borderBottom:"8px solid ".concat(e.palette.background.paperOpposite)}}}})),w=function(e){var t,n=e.children,u=(e.className,e.staticContext,Object(o.a)(e,x)),p=k(),j=Object(f.n)("/pool"),w=Object(f.n)("/swap"),A=Object(m.c)((function(e){return e.layout})),y=Object(m.c)((function(e){return e.swap})),T=Object(m.c)((function(e){return e.pool.token})),N=Object(m.c)((function(e){return e.transaction})),B=Object(c.useRef)(null),C=Object(c.useState)(0),S=Object(a.a)(C,2),R=S[0],E=S[1],I=Object(m.b)();Object(c.useEffect)((function(){var e,t;(null===(e=B.current)||void 0===e?void 0:e.clientHeight)&&E((null===(t=B.current)||void 0===t?void 0:t.clientHeight)||0)}),[null===(t=B.current)||void 0===t?void 0:t.clientHeight]);var L=j&&T&&!(null===T||void 0===T?void 0:T.pool)||j&&!A.liquidityEarnHidden&&"add"===A.showPoolType||j&&(null===T||void 0===T?void 0:T.pool)&&!(null===T||void 0===T?void 0:T.registered)||w&&(y.inToken&&!y.inToken.registered||y.outToken&&!y.outToken.registered)||!!A.notification||N.observingTxs.length>0||N.submittedTxs.length>0,z=w&&(y.inToken||y.outToken),W=function(){I(h.a.Layout.showAdvancedSetting(!1))};return Object(O.jsx)(c.Fragment,{children:Object(O.jsxs)(s.a,{className:p.root,children:[Object(O.jsx)(s.a,{display:"flex",justifyContent:"center",children:Object(O.jsxs)(s.a,{className:p.tabs,children:[Object(O.jsx)(l.a,{disableElevation:!0,onClick:W,color:"primary",variant:"contained",className:b()(p.tab,p.tabLeft),activeClassName:b()(p.tabActive,Object(i.a)({},p.tabNoticeOpposite,L)),component:g,to:"/swap",children:"Swap"}),Object(O.jsx)(l.a,{disableElevation:!0,onClick:W,color:"primary",variant:"contained",className:b()(p.tab,p.tabRight),activeClassName:b()(p.tabActive,Object(i.a)({},p.tabNoticeOpposite,L)),component:g,to:"/pool",children:"Pool"})]})}),Object(O.jsxs)(s.a,{display:"flex",justifyContent:"center",children:[z&&Object(O.jsx)(v.kb,{boxHeight:R,inToken:y.inToken,outToken:y.outToken}),Object(O.jsx)(s.a,{width:488,children:Object(O.jsx)(d.a,Object(r.a)(Object(r.a)({ref:B},u),{},{className:p.card,children:Object(O.jsx)(s.a,{children:n})}))})]})]})})}},2028:function(e,t,n){"use strict";var a=n(72),o=n(73);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n(1)),r=(0,a(n(74)).default)(i.createElement("path",{d:"M12 6v3l4-4-4-4v3c-4.42 0-8 3.58-8 8 0 1.57.46 3.03 1.24 4.26L6.7 14.8c-.45-.83-.7-1.79-.7-2.8 0-3.31 2.69-6 6-6zm6.76 1.74L17.3 9.2c.44.84.7 1.79.7 2.8 0 3.31-2.69 6-6 6v-3l-4 4 4 4v-3c4.42 0 8-3.58 8-8 0-1.57-.46-3.03-1.24-4.26z"}),"Autorenew");t.default=r},2029:function(e,t,n){"use strict";var a=n(72),o=n(73);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n(1)),r=(0,a(n(74)).default)(i.createElement("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");t.default=r},2030:function(e,t,n){"use strict";var a=n(72),o=n(73);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n(1)),r=(0,a(n(74)).default)(i.createElement("path",{d:"M18 13H6c-.55 0-1-.45-1-1s.45-1 1-1h12c.55 0 1 .45 1 1s-.45 1-1 1z"}),"RemoveRounded");t.default=r},2040:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return ce}));var a,o,i=n(2),r=n.n(i),c=n(20),s=n(3),l=n(12),d=n(26),u=n(7),p=n(1),b=n(1945),m=n(1998),j=n(908),f=n(1898),v=n(1903),h=n(121),O=n(1912),x=n(71),g=Object(x.a)(p.createElement("path",{d:"M4.47 21h15.06c1.54 0 2.5-1.67 1.73-3L13.73 4.99c-.77-1.33-2.69-1.33-3.46 0L2.74 18c-.77 1.33.19 3 1.73 3zM12 14c-.55 0-1-.45-1-1v-2c0-.55.45-1 1-1s1 .45 1 1v2c0 .55-.45 1-1 1zm1 4h-2v-2h2v2z"}),"WarningRounded"),k=n(2029),w=n.n(k),A=n(2028),y=n.n(A),T=n(2011),N=n.n(T),B=n(2030),C=n.n(B),S=n(62),R=n(60),E=n(28),I=n.n(E),L=n(10),z=n.n(L),W=n(18),D=n(61),M=n(40),P=n(80),F=n(47),Z=n(34),H=n(2017),_=n(23),q=n(9),V=n(21),U=n(339),G=n(2014),K=n.n(G),X=n(0),J=["children","className","token"],Y=Object(b.a)((function(e){return{root:{},textColoured:{color:e.palette.primary.dark},textWrapper:{color:e.palette.label},helpInfo:{marginBottom:e.spacing(.4)},switchIcon:{height:14,width:14,backgroundColor:"dark"===e.palette.type?"#2B4648":"#E4F1F2",marginLeft:8,borderRadius:"50%",cursor:"pointer",transform:"rotate(0)",transition:"transform .5s ease-in-out",verticalAlign:"middle",marginBottom:e.spacing(.4),"& path":{fill:e.palette.label},"&:hover":{"& path":{fill:e.palette.primary.dark}}},activeSwitchIcon:{transform:"rotate(180deg)"}}})),Q=function(e){e.children;var t=e.className,n=(e.token,Object(d.a)(e,J)),a=Y(),o=Object(W.c)((function(e){return e.swap})),i=o.inAmount,r=o.inToken,c=o.outAmount,b=o.outToken,j=o.expectedExchangeRate,f=o.expectedSlippage,v=Object(q.u)({maxFractionDigits:5,showCurrency:!0}),h=Object(p.useState)(!1),O=Object(l.a)(h,2),x=O[0],g=O[1];return Object(X.jsxs)(m.a,Object(s.a)(Object(s.a)({},n),{},{className:z()(a.root,t),children:[Object(X.jsxs)(Z.O,{kkey:"Price",mb:"8px",children:[function(){var e,t;if(!r||!b)return Object(X.jsx)("span",{className:a.textWrapper,children:"-"});var n=j||V.b,o=r,i=b;if(x&&(i=r,o=b),n.eq(0))try{var c=F.c.getExchangeRate({amount:V.a.shiftedBy(o.decimals),exactOf:x?"out":"in",tokenInID:r.address,tokenOutID:b.address});c.expectedAmount.isNaN()||c.expectedAmount.isNegative()||(n=c.expectedAmount.shiftedBy(-i.decimals).pow(x?-1:1))}catch(l){n=V.b}var s=x&&!n.isZero();return Object(X.jsxs)("span",{className:a.textWrapper,children:["1 ",(null===(e=o)||void 0===e?void 0:e.symbol)||""," = ",Object(X.jsx)("span",{className:a.textColoured,children:v(n.pow(s?-1:1))})," ",null===(t=i)||void 0===t?void 0:t.symbol]})}()," ",Object(X.jsx)(K.a,{onClick:function(){return g(!x)},className:z()(a.switchIcon,Object(u.a)({},a.activeSwitchIcon,x))})]}),Object(X.jsxs)(Z.O,{kkey:"Min. Received",mb:"8px",children:[c.isEqualTo(0)?Object(X.jsx)("span",{className:a.textWrapper,children:"-"}):Object(X.jsxs)("span",{className:a.textWrapper,children:[Object(X.jsx)("span",{className:a.textColoured,children:v(c,{maxFractionDigits:null===b||void 0===b?void 0:b.decimals})})," ",null===b||void 0===b?void 0:b.symbol]})," ",Object(X.jsx)(Z.M,{className:a.helpInfo,placement:"top",title:Object(X.jsxs)("span",{children:["Minimum amount you will receive for this swap.",Object(X.jsx)("br",{}),"Note: Your transaction will be reverted if there is large, unfavorable price movements prior to confirmation."]})})]}),Object(X.jsxs)(Z.O,{kkey:"Price Impact",mb:"8px",children:[f?Object(X.jsx)("span",{className:a.textWrapper,children:Object(X.jsxs)("span",{className:a.textColoured,children:[v(100*(f||0)),"%"]})}):Object(X.jsx)("span",{className:a.textWrapper,children:"-"})," ",Object(X.jsx)(Z.M,{className:a.helpInfo,placement:"top",title:"Difference between the market price and estimated price due to amount swapped."})]}),Object(X.jsxs)(Z.O,{kkey:"Estimated Fee",mb:"8px",children:[i.isEqualTo(0)?Object(X.jsx)("span",{className:a.textWrapper,children:"-"}):Object(X.jsx)("span",{className:a.textWrapper,children:Object(X.jsxs)("span",{className:a.textColoured,children:["\u2248 ",v(i.multipliedBy(.003))," ",null===r||void 0===r?void 0:r.symbol]})})," ",Object(X.jsx)(Z.M,{className:a.helpInfo,placement:"top",title:"Liquidity providers will receive 0.3% of this trade."})]})]}))},$=["title","titleId"];function ee(){return(ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function te(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function ne(e,t){var n=e.title,i=e.titleId,r=te(e,$);return p.createElement("svg",ee({width:54,height:54,viewBox:"0 0 54 54",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},r),n?p.createElement("title",{id:i},n):null,a||(a=p.createElement("g",{clipPath:"url(#clip0)"},p.createElement("path",{d:"M25.5381 40.5149L32.0206 46.9216C32.4853 47.3595 33.2056 47.3595 33.6703 46.9216L40.1529 40.5149C40.8964 39.8005 40.362 38.556 39.3397 38.556L35.1574 38.556L35.1574 24.7055C35.1574 23.438 34.1118 22.401 32.8339 22.401C31.5559 22.401 30.5104 23.438 30.5104 24.7055L30.5104 38.556L26.3513 38.556C25.3057 38.556 24.7946 39.8005 25.5381 40.5149ZM18.0797 7.07558L11.5971 13.4823C10.8536 14.1967 11.388 15.4412 12.4103 15.4412L16.5694 15.4412L16.5694 29.3147C16.5694 30.5822 17.615 31.6193 18.8929 31.6193C20.1708 31.6193 21.2164 30.5822 21.2164 29.3147L21.2164 15.4642L25.3754 15.4642C26.421 15.4642 26.9322 14.2197 26.1887 13.5053L19.7061 7.09863C19.2647 6.63771 18.5211 6.63771 18.0797 7.07558Z"}))),o||(o=p.createElement("defs",null,p.createElement("clipPath",{id:"clip0"},p.createElement("rect",{width:54,height:54,fill:"white",transform:"translate(0 54) rotate(-90)"})))))}var ae=p.forwardRef(ne),oe=(n.p,["children","className"]),ie=Object(b.a)((function(e){var t;return{root:{},container:Object(u.a)({padding:e.spacing(2,4,2)},e.breakpoints.down("xs"),{padding:e.spacing(2,2,2)}),swapButton:(t={padding:0,marginTop:-49,marginBottom:-15,transform:"rotate(0)",transition:"transform .5s ease-in-out"},Object(u.a)(t,e.breakpoints.down("sm"),{marginTop:-55}),Object(u.a)(t,"zIndex",1),t),rotateSwapButton:{transform:"rotate(180deg)"},switchIcon:{height:16,width:16,marginLeft:8,backgroundColor:"dark"===e.palette.type?"#2B4648":"#E4F1F2",borderRadius:8,cursor:"pointer",transform:"rotate(0)",transition:"transform .5s ease-in-out"},activeSwitchIcon:{transform:"rotate(180deg)"},inputRow:{paddingLeft:0},proportionSelect:{marginTop:3,marginBottom:4},currencyButton:{borderRadius:0,color:e.palette.text.primary,fontWeight:600,width:150,display:"flex",justifyContent:"space-between"},label:{fontSize:"12px",lineHeight:"14px",fontWeight:"bold",letterSpacing:0,marginBottom:e.spacing(1)},form:{display:"flex",flexDirection:"column"},keyValueLabel:{marginTop:e.spacing(1)},exchangeRateLabel:{flex:1,marginBottom:e.spacing(2)},actionButton:{marginTop:e.spacing(4),marginBottom:e.spacing(4),height:46},advanceDetails:{marginBottom:e.spacing(2),justifyContent:"center",alignItems:"center",display:"flex",color:e.palette.text.secondary,cursor:"pointer"},primaryColor:{color:e.palette.primary.main},accordionButton:{verticalAlign:"middle",paddingBottom:3,cursor:"pointer",color:e.palette.primary.main},addAddressButton:{borderRadius:0,padding:0,fontSize:"12px","& .MuiButton-label":{justifyContent:"flex-start"}},addressLabel:{display:"flex",alignItems:"center"},addressInput:{marginBottom:e.spacing(2),"& input":{padding:"17.5px 14px",fontSize:"14px"}},addressError:{justifySelf:"flex-end",marginLeft:"auto"},warningText:{color:e.palette.colors.zilliqa.warning,"& svg":{verticalAlign:"middle",fontSize:"inherit"},paddingBottom:e.spacing(.5)},errorText:{color:e.palette.colors.zilliqa.danger,"& svg":{verticalAlign:"middle",fontSize:"inherit"}},errorMessage:{marginTop:e.spacing(1)},swapIcon:{"& path":{fill:e.palette.icon}},iconButton:{color:"dark"===e.palette.type?"rgba(222, 255, 255, 0.5)":"#003340",backgroundColor:e.palette.background.contrast,borderRadius:12,padding:5,marginLeft:5},swapIconBox:Object(u.a)({zIndex:1,justifyContent:"center"},e.breakpoints.down("sm"),{justifyContent:"flex-start"})}})),re={inAmount:"0",outAmount:"0",showRecipientAddress:!1},ce=function(e){e.children;var t,n,a=e.className,o=Object(d.a)(e,oe),i=ie(),b="true"===Object(q.x)("enableChangeRecipient"),x=Object(p.useState)(!1),k=Object(l.a)(x,2),A=k[0],T=k[1],B=Object(p.useState)(re),E=Object(l.a)(B,2),L=E[0],G=E[1],K=Object(q.v)(),J=Object(W.c)((function(e){return e.swap})),Y=Object(W.b)(),$=Object(W.c)((function(e){return e.token})),ee=Object(W.c)((function(e){return e.wallet})),te=Object(W.c)((function(e){return e.layout})),ne=Object(q.o)("swap"),ce=Object(l.a)(ne,4),se=ce[0],le=ce[1],de=ce[2],ue=ce[3],pe=Object(q.o)("wrap"),be=Object(l.a)(pe,4),me=be[0],je=be[1],fe=be[2],ve=be[3],he=Object(q.p)(),Oe=Object(l.a)(he,1)[0],xe=Object(q.o)("approveTx"),ge=Object(l.a)(xe,4),ke=ge[0],we=ge[1],Ae=ge[2],ye=ge[3],Te=Object(p.useState)(),Ne=Object(l.a)(Te,2),Be=Ne[0],Ce=Ne[1],Se=new URLSearchParams(Object(D.l)().search),Re=Object(p.useState)(!1),Ee=Object(l.a)(Re,2),Ie=Ee[0],Le=Ee[1],ze=Object(q.z)();Object(p.useEffect)((function(){J.forNetwork&&J.forNetwork!==K&&(G(Object(s.a)(Object(s.a)({},L),{},{inAmount:"0",outAmount:"0"})),Y(_.a.Swap.clearForm()))}),[K]),Object(p.useEffect)((function(){var e,t;if(!qe&&!_e){var n=P.d[K],a=null!==(e=Se.get("tokenIn"))&&void 0!==e?e:V.p[K],o=null!==(t=Se.get("tokenOut"))&&void 0!==t?t:n;if(a!==o||!o){var i=a?$.tokens[a]:null,r=o?$.tokens[o]:null;We(Object(s.a)(Object(s.a)({},i&&{inToken:i}),r&&{outToken:r}))}}}),[$.tokens,K]),Object(p.useEffect)((function(){var e=!!J.recipientAddress&&Oe(J.recipientAddress);Le(e)}),[J.recipientAddress,Oe]);var We=function(e){Y(_.a.Swap.update(Object(s.a)({forNetwork:K},e)))},De=(null===(t=J.inToken)||void 0===t?void 0:t.isWzil)||(null===(n=J.outToken)||void 0===n?void 0:n.isWzil),Me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.inAmount||J.inAmount,n=e.outAmount||J.outAmount,a=e.inToken||J.inToken,o=e.outToken||J.outToken,i=e.exactOf||J.exactOf;if(!a||!o)return{inAmount:t,outAmount:n,inToken:a,outToken:o,exactOf:i};var r="in"===i?a:o,c="in"===i?o:a,l=("in"===i?t:n).shiftedBy(r.decimals),d=V.a,u=0,p=l,b=!1;if(l.abs().gt(0))if((null===a||void 0===a?void 0:a.isWzil)||(null===o||void 0===o?void 0:o.isWzil))p=l.shiftedBy(-r.decimals);else{var m=F.c.getExchangeRate({amount:l.decimalPlaces(0),exactOf:i,tokenInID:a.address,tokenOutID:o.address});if(m.expectedAmount.isNaN()||m.expectedAmount.isNegative())b=!0,d=V.b,u=0,p=V.b;else{var j=m.expectedAmount.shiftedBy(-c.decimals),f=l.shiftedBy(-r.decimals);d=j.div(f).pow("in"===i?1:-1).abs(),u=m.slippage.shiftedBy(-2).toNumber(),p=m.expectedAmount.shiftedBy(-(null===c||void 0===c?void 0:c.decimals)||0).decimalPlaces((null===c||void 0===c?void 0:c.decimals)||0)}}else d=V.b,p=V.b;return Object(s.a)(Object(s.a)(Object(s.a)({inAmount:t,outAmount:n,inToken:a,outToken:o,exactOf:i},"in"===i&&{outAmount:p}),"out"===i&&{inAmount:p}),{},{isInsufficientReserves:b,expectedExchangeRate:d,expectedSlippage:u})},Pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0",t=arguments.length>1?arguments[1]:void 0,n=new I.a(e);(n.isNaN()||n.isNegative()||!n.isFinite())&&(n=V.b);var a=Me(Object(s.a)({exactOf:"out",outAmount:n},t&&{inToken:J.outToken,outToken:J.inToken}));G(Object(s.a)(Object(s.a)({},L),{},{outAmount:e,inAmount:a.inAmount.toString()})),Y(_.a.Swap.update(Object(s.a)({forNetwork:K},a)))},Fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0",t=arguments.length>1?arguments[1]:void 0,n=new I.a(e);(n.isNaN()||n.isNegative()||!n.isFinite())&&(n=V.b);var a=Me(Object(s.a)({exactOf:"in",inAmount:n},t&&{inToken:J.outToken,outToken:J.inToken}));G(Object(s.a)(Object(s.a)({},L),{},{inAmount:e,outAmount:a.outAmount.toString()})),Y(_.a.Swap.update(Object(s.a)({forNetwork:K},a)))},Ze=function(){J.inToken&&(J.inToken.isZil||J.inAmount.isZero()||le||(ue(),ve(),ke(Object(c.a)(r.a.mark((function e(){var t,n,a,o,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=J.inToken.address,a=J.inAmount,e.next=4,F.c.approveTokenTransfer({tokenAmount:a.shiftedBy(J.inToken.decimals),tokenID:n});case 4:if(o=e.sent){e.next=7;break}throw new Error("Transfer allowance already sufficient for specified amount");case 7:i=Object(s.a)(Object(s.a)({},o),{},{address:(null===(t=ee.wallet)||void 0===t?void 0:t.addressInfo.bech32)||"",network:K}),Y(_.a.Transaction.observe({observedTx:i})),ze("Submitted",{hash:i.hash});case 10:case"end":return e.stop()}}),e)}))))))},He=function(){G(Object(s.a)(Object(s.a)({},L),{},{inAmount:J.inAmount.toString(),outAmount:J.outAmount.toString()}))},_e=J.outToken,qe=J.inToken,Ve=!1;if(qe&&!(null===qe||void 0===qe?void 0:qe.isZil)){var Ue,Ge=M.CONTRACTS[K],Ke=Object(S.fromBech32Address)(Ge).toLowerCase(),Xe=J.inAmount.shiftedBy(J.inToken.decimals);Ve=Object(q.b)(null===qe||void 0===qe||null===(Ue=qe.allowances)||void 0===Ue?void 0:Ue[Ke]).comparedTo(Xe)<0}return Object(X.jsxs)(H.a,Object(s.a)(Object(s.a)({},o),{},{className:z()(i.root,a),children:[Object(X.jsx)(Z.U,{}),!te.showAdvancedSetting&&Object(X.jsxs)(m.a,{display:"flex",flexDirection:"column",className:i.container,children:[Object(X.jsxs)(m.a,{display:"flex",justifyContent:"flex-end",mb:1.5,children:[Object(X.jsx)(j.a,{onClick:function(){Y(_.a.Layout.showAdvancedSetting(!te.showAdvancedSetting))},className:i.iconButton,children:Object(X.jsx)(N.a,{})}),Object(X.jsx)(j.a,{onClick:function(){Fe(L.inAmount)},className:i.iconButton,children:Object(X.jsx)(y.a,{})})]}),Object(X.jsx)(Z.E,{label:"From",token:qe||null,amount:L.inAmount,disabled:!qe,dialogOpts:{hideNoPool:!0,wrapZil:null===_e||void 0===_e?void 0:_e.isWzil},onEditorBlur:He,onAmountChange:Fe,onCurrencyChange:function(e){var t,n,a=J.outToken;if((null===(t=J.outToken)||void 0===t?void 0:t.address)===e.address){if(!e.isWzil)return;a=$.tokens[V.D]}if((null===(n=J.inToken)||void 0===n?void 0:n.address)!==e.address){e.isZil||a||(a=$.tokens[V.D]),e.isWzil&&(a=$.tokens[V.D]);var o=Me({inToken:e,outToken:a});G(Object(s.a)(Object(s.a)({},L),{},{outAmount:o.outAmount.toString(),inAmount:o.inAmount.toString()})),Y(_.a.Swap.update(Object(s.a)({forNetwork:K},o)))}}}),Object(X.jsx)(m.a,{display:"flex",justifyContent:"flex-end",children:Object(X.jsx)(Z.Z,{size:"small",className:i.proportionSelect,onSelectProp:function(e){var t=J.inToken;if(t){var n=Object(q.b)(t.balance),a=n.times(e).decimalPlaces(0),o=t.isZil?F.c.adjustedForGas(a,n):a;Fe(o.shiftedBy(-t.decimals).toString())}}})}),Object(X.jsx)(m.a,{display:"flex",className:i.swapIconBox,children:Object(X.jsx)(j.a,{disabled:!qe||!_e,onClick:function(){return function(){T(!A);var e=Me({inToken:J.outToken,outToken:J.inToken});"in"===e.exactOf?Pe(e.inAmount.toString(),!0):"out"===e.exactOf&&Fe(e.outAmount.toString(),!0)}()},className:z()(i.swapButton,Object(u.a)({},i.rotateSwapButton,A)),children:Object(X.jsx)(ae,{className:i.swapIcon})})}),Object(X.jsx)(Z.E,{label:"To",token:_e||null,amount:L.outAmount,disabled:!_e,dialogOpts:{hideNoPool:!0,wrapZil:null===qe||void 0===qe?void 0:qe.isWzil},onEditorBlur:He,onAmountChange:Pe,onCurrencyChange:function(e){var t,n,a=J.inToken;if((null===(t=J.inToken)||void 0===t?void 0:t.address)===e.address){if(!e.isWzil)return;a=$.tokens[V.D]}if((null===(n=J.outToken)||void 0===n?void 0:n.address)!==e.address){e.isZil||a||(a=$.tokens[V.D]),e.isWzil&&(a=$.tokens[V.D]);var o=Me({inToken:a,outToken:e});G(Object(s.a)(Object(s.a)({},L),{},{outAmount:o.outAmount.toString(),inAmount:o.inAmount.toString()})),Y(_.a.Swap.update(Object(s.a)({forNetwork:K},o)))}}}),b&&Object(X.jsxs)(m.a,{display:"flex",flexDirection:"column",marginTop:3,children:[!L.showRecipientAddress&&Object(X.jsxs)(f.a,{variant:"text",className:i.addAddressButton,onClick:function(){return G(Object(s.a)(Object(s.a)({},L),{},{showRecipientAddress:!0}))},children:[Object(X.jsx)(w.a,{className:i.accordionButton}),Object(X.jsx)("span",{children:"Add Receiving Address"})]}),L.showRecipientAddress&&Object(X.jsxs)(X.Fragment,{children:[Object(X.jsxs)(v.a,{className:i.addressLabel,children:[Object(X.jsx)(C.a,{className:i.accordionButton,onClick:function(){return G(Object(s.a)(Object(s.a)({},L),{},{showRecipientAddress:!1}))}}),Object(X.jsx)("span",{children:"Receiving Address"}),!!Be&&Object(X.jsx)(h.a,{className:i.addressError,component:"span",color:"error",children:Be})]}),Object(X.jsx)(O.a,{onBlur:function(){var e=J.recipientAddress,t=void 0;e&&!R.validation.isBech32(e)&&(t="Invalid address format"),t!==Be&&Ce(t)},className:i.addressInput,value:J.recipientAddress||"",placeholder:V.s.ZilAddress,onChange:function(e){Y(_.a.Swap.update({recipientAddress:e.target.value}))}}),Ie&&Object(X.jsxs)(Z.ib,{className:i.errorText,children:[Object(X.jsx)(g,{color:"error"}),"  Address appears to be a known CEX/DEX address. Please ensure you have entered a correct address!"]}),Object(X.jsxs)(Z.ib,{className:i.warningText,children:[Object(X.jsx)(g,{color:"inherit"}),"  Do not send tokens directly to an exchange address as it may result in failure to receive your fund."]})]})]}),Object(X.jsx)(h.a,{className:i.errorMessage,color:"error",children:(null===de||void 0===de?void 0:de.message)||(null===Ae||void 0===Ae?void 0:Ae.message)||(null===fe||void 0===fe?void 0:fe.message)}),J.isInsufficientReserves&&Object(X.jsx)(h.a,{color:"error",children:"Pool reserve is too small to fulfill desired output."}),De?Object(X.jsx)(Z.K,{walletRequired:!0,loading:je,className:i.actionButton,showTxApprove:Ve,loadingTxApprove:we,onClickTxApprove:Ze,variant:"contained",color:"primary",disabled:!qe||!_e||Ie,onClick:function(){var e=J.outToken,t=J.inToken,n=J.inAmount,a=J.outAmount;t&&e&&(n.isZero()||a.isZero()||le||(ye(),me(Object(c.a)(r.a.mark((function e(){var a,o,i,c,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=n.shiftedBy(t.decimals)).isNaN()&&a.isFinite()){e.next=3;break}throw new Error("Invalid input amount");case 3:if(o=Object(q.b)(t.balance),!n.shiftedBy(t.decimals).gt(o)){e.next=6;break}throw new Error("Insufficient ".concat(t.symbol," balance."));case 6:if(i=new U.a(K),c=F.c.getSDK(),!t.isZil){e.next=14;break}return e.next=11,i.wrapZil(a,c);case 11:s=e.sent,e.next=17;break;case 14:return e.next=16,i.unwrapZil(a,c);case 16:s=e.sent;case 17:c.observeTx({hash:s.id,deadline:Number.MAX_SAFE_INTEGER}),ze("".concat(t.isZil?"Wrap":"Unwrap"," token txn submitted!"),{hash:s.id});case 19:case"end":return e.stop()}}),e)}))))))},children:(null===qe||void 0===qe?void 0:qe.isWzil)?"Unwrap":"Wrap"}):Object(X.jsx)(Z.K,{walletRequired:!0,loading:le,className:i.actionButton,showTxApprove:Ve,loadingTxApprove:we,onClickTxApprove:Ze,variant:"contained",color:"primary",disabled:!qe||!_e||Ie,onClick:function(){var e=J.outToken,t=J.inToken,n=J.inAmount,a=J.outAmount,o=J.exactOf,i=J.slippage,l=J.expiry,d=J.recipientAddress;t&&e&&(n.isZero()||a.isZero()||le||(ye(),se(Object(c.a)(r.a.mark((function c(){var u,p,b,m,j;return r.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(p="in"===o?n.shiftedBy(t.decimals):a.shiftedBy(e.decimals)).isNaN()&&p.isFinite()){r.next=3;break}throw new Error("Invalid input amount");case 3:if(b=Object(q.b)(t.balance),!n.shiftedBy(t.decimals).gt(b)){r.next=6;break}throw new Error("Insufficient ".concat(t.symbol," balance."));case 6:return F.c.setDeadlineBlocks(l),r.next=9,F.c.swap(Object(s.a)({tokenInID:t.address,tokenOutID:e.address,amount:p,exactOf:o,maxAdditionalSlippage:Object(F.g)(i).toNumber()},L.showRecipientAddress&&{recipientAddress:d}));case 9:m=r.sent,j=Object(s.a)(Object(s.a)({},m),{},{address:(null===(u=ee.wallet)||void 0===u?void 0:u.addressInfo.bech32)||"",network:K}),Y(_.a.Transaction.observe({observedTx:j})),ze("Submitted",{hash:j.hash});case 13:case"end":return r.stop()}}),c)}))))))},children:"Swap"}),Object(X.jsx)(Q,{token:_e||void 0})]}),Object(X.jsx)(Z.fb,{showAdvanced:te.showAdvancedSetting})]}))}}}]);
//# sourceMappingURL=8.09dd05b2.chunk.js.map