(this["webpackJsonpzilswap-webapp"]=this["webpackJsonpzilswap-webapp"]||[]).push([[12],{2018:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var a=n(26),r=n(7),o=n(3),i=n(1),c=n(1945),l=n(1998),s=n(1898),d=n(10),u=n.n(d),b=n(75),h=n(0),p=["children","className","staticContext"],f=Object(i.forwardRef)((function(e,t){return Object(h.jsx)("div",{ref:t,style:{flexGrow:1,flexBasis:1},children:Object(h.jsx)(b.NavLink,Object(o.a)({},e))})})),m=Object(c.a)((function(e){var t;return{root:(t={flex:1,padding:e.spacing(8,4,2)},Object(r.a)(t,e.breakpoints.down("sm"),{padding:e.spacing(6,4,2)}),Object(r.a)(t,e.breakpoints.down("xs"),{padding:e.spacing(6,2,2)}),t),tabs:Object(r.a)({display:"flex",width:"488px"},e.breakpoints.down("sm"),{maxWidth:450}),tab:{position:"relative",width:"100%",paddingTop:e.spacing(2),paddingBottom:e.spacing(2),borderRadius:12,backgroundColor:e.palette.tab.disabledBackground,color:e.palette.tab.disabled,"&:hover":{backgroundColor:e.palette.tab.active,color:e.palette.tab.selected}},tabCornerLeft:{borderTopRightRadius:0,borderBottomRightRadius:0,border:e.palette.border},tabCornerRight:{borderTopLeftRadius:0,borderBottomLeftRadius:0,border:e.palette.border,borderWidth:"1px 1px 1px 0"},tabActive:{backgroundColor:e.palette.tab.active,color:e.palette.tab.selected,"&:hover":{backgroundColor:e.palette.tab.active,color:e.palette.tab.selected}},tabNoticeOpposite:{"&:after":{borderBottom:"8px solid ".concat(e.palette.background.paperOpposite)}}}})),j=function(e){var t=e.children,n=(e.className,e.staticContext,Object(a.a)(e,p)),r=m();return Object(h.jsxs)(l.a,{className:r.root,children:[Object(h.jsx)(l.a,{display:"flex",justifyContent:"center",marginBottom:"2em",children:Object(h.jsxs)(l.a,{className:r.tabs,children:[Object(h.jsx)(s.a,{disableElevation:!0,color:"primary",variant:"contained",className:u()(r.tab,r.tabCornerLeft),activeClassName:u()(r.tabActive),component:f,to:"/bridge",children:"New Transfer"}),Object(h.jsx)(s.a,{disableElevation:!0,color:"primary",variant:"contained",className:u()(r.tab,r.tabCornerRight),activeClassName:u()(r.tabActive),component:f,to:"/history",children:"Transfer History"})]})}),Object(h.jsx)(l.a,Object(o.a)(Object(o.a)({},n),{},{children:t}))]})}},2031:function(e,t,n){"use strict";var a=n(72),r=n(73);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(1)),i=(0,a(n(74)).default)(o.createElement("path",{d:"M7 6.12c-.43-.35-1.06-.3-1.41.13l-4.24 5.11c-.31.37-.31.91 0 1.28l4.24 5.11c.35.43.98.48 1.41.13.43-.35.48-.98.13-1.41L3.42 12l3.71-4.47c.35-.43.3-1.06-.13-1.41zM7 13h2v-2H7v2zm10-2h-2v2h2v-2zm-6 2h2v-2h-2v2zm6-6.88c-.43.35-.48.98-.13 1.41L20.58 12l-3.71 4.47c-.35.43-.29 1.06.13 1.41.43.35 1.06.3 1.41-.13l4.24-5.11c.31-.37.31-.91 0-1.28l-4.24-5.11c-.35-.42-.99-.48-1.41-.13z"}),"SettingsEthernetRounded");t.default=i},2039:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return ae}));var a=n(3),r=n(2),o=n.n(r),i=n(20),c=n(12),l=n(26),s=n(7),d=n(1),u=n(1998),b=n(1946),h=n(1899),p=n(1913),f=n(1955),m=n(1898),j=n(1945),g=n(62),v=n(28),k=n.n(v),O=n(10),x=n.n(O),w=n(91),B=n(18),y=n(35),N=n(517),C=n.n(N),A=n(40),T=n(252),S=n(34),E=n(67),F=n(23),I=n(9),q=n(0),M=["children","className"],Z=Object(j.a)((function(e){var t,n;return{root:Object(s.a)({},e.breakpoints.down("xs"),{width:"100%!important"}),container:(t={backgroundColor:e.palette.background.default,borderLeft:e.palette.border,borderRight:e.palette.border,borderBottom:e.palette.border,borderRadius:"0 0 12px 12px",padding:e.spacing(2,8,2),minWidth:510},Object(s.a)(t,e.breakpoints.down("sm"),{padding:e.spacing(2,3,2)}),Object(s.a)(t,e.breakpoints.down("xs"),{minWidth:320}),t),warning:{color:e.palette.warning.main},actionButton:{marginTop:e.spacing(1),marginBottom:e.spacing(1),height:46},cancel:{color:null===(n=e.palette)||void 0===n?void 0:n.label,textDecoration:"underline","&:hover":{cursor:"pointer"}},dotIcon:{marginRight:e.spacing(1),marginBottom:e.spacing(.1)},connectedButton:{height:46,width:"fit-content",backgroundColor:"transparent",border:"1px solid ".concat("dark"===e.palette.type?"rgba".concat(Object(I.f)("#DEFFFF",.1)):"#D2E5DF"),"&:hover":{backgroundColor:"rgba".concat(Object(I.f)("#DEFFFF",.2))}},breakLine:{wordBreak:"break-word"},link:{color:e.palette.link,"&:hover":{textDecoration:"underline"}}}})),L=function(e){e.children;var t=e.className,n=Object(l.a)(e,M),r=Z(),o=Object(B.b)(),i=Object(I.v)(),s=Object(d.useState)(null),b=Object(c.a)(s,2),h=b[0],p=b[1],f=Object(B.c)((function(e){return e.bridge}));Object(d.useEffect)((function(){var e;(null===(e=f.activeBridgeTx)||void 0===e?void 0:e.depositFailedAt)?p(f.activeBridgeTx):f.activeBridgeTx||p(null)}),[f.activeBridgeTx]);var j=function(){h&&(o(F.a.Bridge.dismissBridgeTx(h)),o(F.a.Layout.showTransferConfirmation(!1)))},g=Object(d.useMemo)((function(){var e,t=null!==(e=null===h||void 0===h?void 0:h.sourceTxHash)&&void 0!==e?e:"";if(i===A.Network.MainNet)switch(null===h||void 0===h?void 0:h.srcChain){case E.Blockchain.Ethereum:return"https://etherscan.io/search?q=".concat(t);default:return"https://viewblock.io/zilliqa/tx/".concat(t)}else switch(null===h||void 0===h?void 0:h.srcChain){case E.Blockchain.Ethereum:return"https://ropsten.etherscan.io/search?q=".concat(t);default:return"https://viewblock.io/zilliqa/tx/".concat(t,"?network=testnet")}}),[h,i]);return Object(q.jsx)(S.H,Object(a.a)(Object(a.a)({open:!!h,onClose:j},n),{},{className:x()(r.root,t),children:Object(q.jsxs)(u.a,{overflow:"hidden",display:"flex",flexDirection:"column",className:r.container,children:[Object(q.jsx)(S.ib,{variant:"h2",align:"center",className:r.warning,children:"Bridge TX Failed"}),Object(q.jsxs)(u.a,{mt:2,mb:2.5,display:"flex",flexDirection:"column",alignItems:"center",children:[Object(q.jsx)(S.ib,{marginBottom:1,variant:"h6",align:"center",children:"The bridge transaction has been rejected, your funds are not deducted, you may try again."}),Object(q.jsxs)(S.ib,{marginBottom:1,variant:"h6",align:"center",className:r.breakLine,children:["TX: ",null===h||void 0===h?void 0:h.sourceTxHash]}),Object(q.jsx)(m.a,{variant:"contained",className:r.connectedButton,href:g,target:"_blank",children:Object(q.jsx)(S.ib,{variant:"button",children:"View on Explorer"})})]}),Object(q.jsx)(u.a,{display:"flex",mb:1,children:Object(q.jsx)(m.a,{variant:"contained",color:"primary",className:r.actionButton,onClick:j,fullWidth:!0,children:"Try Again"})})]})}))},W=n(63),D=n(2031),R=n.n(D),P=n(287),z=Object(j.a)((function(e){var t,n;return{root:(t={backgroundColor:e.palette.background.default,borderLeft:e.palette.border,borderRight:e.palette.border,borderBottom:e.palette.border,borderRadius:"0 0 12px 12px",padding:e.spacing(2,8,2),minWidth:510},Object(s.a)(t,e.breakpoints.down("sm"),{padding:e.spacing(2,3,2)}),Object(s.a)(t,e.breakpoints.down("xs"),{minWidth:320}),t),warning:{color:e.palette.warning.main},settingsEthernetIcon:{verticalAlign:"text-top"},actionButton:{marginTop:e.spacing(1),marginBottom:e.spacing(1),height:46},cancel:{color:null===(n=e.palette)||void 0===n?void 0:n.label,textDecoration:"underline","&:hover":{cursor:"pointer"}},dotIcon:{marginRight:e.spacing(1),marginBottom:e.spacing(.1)},connectedButton:{height:46,width:"fit-content",backgroundColor:"transparent",border:"1px solid ".concat("dark"===e.palette.type?"rgba".concat(Object(I.f)("#DEFFFF",.1)):"#D2E5DF"),"&:hover":{backgroundColor:"rgba".concat(Object(I.f)("#DEFFFF",.2))}}}})),H=function(e){var t=e.className,n=e.currentChainName,a=e.requiredChainName,r=e.requiredChainID,c=e.walletToChange,l=e.ethWallet,s=z(),b=Object(B.b)();Object(d.useEffect)((function(){null===a&&b(F.a.Layout.toggleShowNetworkSwitch("close"))}),[a]);var h=function(){b(F.a.Layout.toggleShowNetworkSwitch("close"))},p=function(){var e=Object(i.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,l){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,l.provider.request({method:"wallet_switchEthereumChain",params:[{chainId:r}]});case 5:h(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(q.jsxs)(u.a,{overflow:"hidden",display:"flex",flexDirection:"column",className:x()(s.root,t),children:[Object(q.jsxs)(S.ib,{variant:"h2",align:"center",className:s.warning,children:[Object(q.jsx)(R.a,{fontSize:"large",className:s.settingsEthernetIcon})," Network Switch Required"]}),Object(q.jsxs)(u.a,{mt:2,mb:2.5,display:"flex",flexDirection:"column",alignItems:"center",children:[Object(q.jsx)(S.ib,{marginBottom:1,variant:"h6",align:"center",children:"You are currently connected to"}),Object(q.jsx)(m.a,{variant:"contained",className:s.connectedButton,children:Object(q.jsxs)(S.ib,{variant:"button",children:[Object(q.jsx)(P.a,{className:s.dotIcon}),n]})})]}),Object(q.jsxs)(S.ib,{marginBottom:2.5,align:"center",children:["Switch to the ",Object(q.jsx)("span",{style:{fontWeight:"bold"},children:a})," on ",Object(q.jsx)("span",{style:{fontWeight:"bold"},children:c})," to start using ZilBridge."]}),r&&!(null===l||void 0===l?void 0:l.provider.isBoltX)?Object(q.jsxs)(d.Fragment,{children:[Object(q.jsxs)(m.a,{variant:"contained",color:"primary",className:s.actionButton,onClick:p,children:["Switch to ",a]}),Object(q.jsx)(S.ib,{marginTop:1.5,marginBottom:1.5,className:s.cancel,align:"center",onClick:h,children:"Cancel"})]}):Object(q.jsx)(u.a,{display:"flex",mb:1,children:Object(q.jsx)(m.a,{variant:"contained",color:"primary",className:s.actionButton,onClick:h,fullWidth:!0,children:"Close"})})]})},_=["children","className"],G=Object(j.a)((function(e){return{root:{}}})),X=function(e){e.children;var t=e.className,n=Object(l.a)(e,_),r=G(),o=Object(I.v)(),i=Object(B.b)(),s=Object(B.c)((function(e){return e.layout.showNetworkSwitchDialog})),u=Object(B.c)((function(e){return e.wallet.wallet})),b=Object(B.c)((function(e){return e.wallet.bridgeWallets[E.Blockchain.Ethereum]})),h=Object(B.c)((function(e){return e.bridge.formState.fromBlockchain})),p=Object(d.useMemo)((function(){return h===E.Blockchain.Ethereum?3!==Number(null===b||void 0===b?void 0:b.chainId):h===E.Blockchain.Zilliqa?o===A.Network.MainNet:void 0}),[null===b||void 0===b?void 0:b.chainId,o,h]),f=Object(d.useMemo)((function(){var e=function(e){switch(e){case 1:return"Ethereum Network";case 3:return"Ropsten Test Network";default:return"Unknown Network"}},t=function(){return(null===b||void 0===b?void 0:b.provider.isBoltX)?"BoltX":(null===b||void 0===b?void 0:b.provider.isMetamask)?"Metamask":"Your Wallet"},n=function(){switch(null===u||void 0===u?void 0:u.type){case W.a.Zeeves:return"Zeeves Wallet";case W.a.ZilPay:return"ZilPay";case W.a.BoltX:return"BoltX";default:return"Your Wallet"}};if(!b||!u)return[null,null,null,null];var a=Number(null===b||void 0===b?void 0:b.chainId);if(p){if(1!==a)return i(F.a.Layout.toggleShowNetworkSwitch("open")),[e(1),"0x1",t(),e(a)];if((null===u||void 0===u?void 0:u.network)!==A.Network.MainNet)return i(F.a.Layout.toggleShowNetworkSwitch("open")),["Zilliqa MainNet",null,n(),"Zilliqa TestNet"]}else{if(3!==a)return i(F.a.Layout.toggleShowNetworkSwitch("open")),[e(3),"0x3",t(),e(a)];if((null===u||void 0===u?void 0:u.network)!==A.Network.TestNet)return i(F.a.Layout.toggleShowNetworkSwitch("open")),["Zilliqa TestNet",null,n(),"Zilliqa MainNet"]}return[null,null,null,null]}),[i,b,u,p]),m=Object(c.a)(f,4),j=m[0],g=m[1],v=m[2],k=m[3];return Object(q.jsx)(S.H,Object(a.a)(Object(a.a)({open:s,onClose:function(){i(F.a.Layout.toggleShowNetworkSwitch("close"))}},n),{},{className:x()(r.root,t),children:Object(q.jsx)(H,{ethWallet:b,requiredChainName:j,requiredChainID:g,walletToChange:v,currentChainName:k})}))},K=n(2018),Y=n(21),J=n(838),U=n(185),V=n(235),Q=n(359),$=n(236),ee=["children","className"],te=Object(j.a)((function(e){var t;return{root:{},container:(t={maxWidth:488,margin:"0 auto",boxShadow:e.palette.mainBoxShadow,borderRadius:12,background:"dark"===e.palette.type?"linear-gradient(#13222C, #002A34)":"#F6FFFC",border:e.palette.border},Object(s.a)(t,e.breakpoints.down("sm"),{maxWidth:450,padding:e.spacing(2,2,0)}),Object(s.a)(t,"padding",e.spacing(4,4,0)),Object(s.a)(t,"marginBottom",12),t),actionButton:{marginTop:e.spacing(4),marginBottom:e.spacing(4),height:46},connectWalletButton:{marginTop:e.spacing(2),height:46},connectedWalletButton:{backgroundColor:"transparent",border:"1px solid ".concat("dark"===e.palette.type?"rgba".concat(Object(I.f)("#DEFFFF",.1)):"#D2E5DF"),"&:hover":{backgroundColor:e.palette.label}},textColoured:{color:e.palette.primary.dark},textSpacing:{letterSpacing:"0.5px"},box:{display:"flex",flex:"1 1 0",flexDirection:"column",border:"1px solid ".concat("dark"===e.palette.type?"#29475A":"#D2E5DF"),borderRadius:12,padding:e.spacing(1)},formControl:{margin:e.spacing(1),minWidth:120,display:"contents","& .MuiSelect-select:focus":{backgroundColor:"transparent"},"& .MuiSelect-root":{borderRadius:12,"&:hover":{backgroundColor:"dark"===e.palette.type?"rgba(255, 255, 255, 0.05)":"rgba(0, 0, 0, 0.05)"}},"& .MuiOutlinedInput-root":{border:"none"},"& .MuiInputBase-input":{fontWeight:"bold",fontSize:"16px"},"& .MuiSelect-icon":{top:"calc(50% - 14px)",fill:e.palette.label},"& .MuiSelect-selectMenu":{minHeight:0}},selectMenu:{backgroundColor:e.palette.background.default,"& .MuiListItem-root":{borderRadius:"12px",padding:e.spacing(1.5),justifyContent:"center"},"& .MuiListItem-root.Mui-focusVisible":{backgroundColor:"dark"===e.palette.type?"rgba(255, 255, 255, 0.08)":"rgba(0, 0, 0, 0.04)"},"& .MuiListItem-root.Mui-selected":{backgroundColor:e.palette.label,color:e.palette.primary.contrastText},"& .MuiList-padding":{padding:"2px"}},wavyLine:Object(s.a)({cursor:"pointer",position:"absolute",top:"50%",left:"50%",marginLeft:"-80px",marginTop:"-80px",width:"160px"},e.breakpoints.down("xs"),{width:"110px",marginLeft:"-55px"}),closeIcon:{float:"right",right:0,position:"absolute",padding:5},priority:{zIndex:10},extraPadding:{padding:e.spacing(1)}}})),ne={zil:y.Blockchain.Zilliqa,eth:y.Blockchain.Ethereum},ae=function(e){e.children;var t=e.className,n=Object(l.a)(e,ee),r=te(),s=Object(B.b)(),j=Object(I.v)(),v=Object(I.A)(),O=Object(d.useState)(""),N=Object(c.a)(O,2),E=N[0],M=N[1],Z=Object(B.c)((function(e){return e.wallet.wallet})),W=Object(B.c)((function(e){return e.wallet.bridgeWallets[y.Blockchain.Ethereum]})),D=Object(B.c)((function(e){return e.bridge})),R=Object(B.c)((function(e){return e.bridge.formState})),P=Object(d.useState)({sourceAddress:R.sourceAddress||"",destAddress:R.destAddress||"",transferAmount:R.transferAmount.toString()||"0"}),z=Object(c.a)(P,2),H=z[0],_=z[1],G=Object(B.c)((function(e){return e.layout})),ae=Object(d.useState)(null),re=Object(c.a)(ae,2),oe=re[0],ie=re[1],ce=Object(I.o)("initTradeHubSDK"),le=Object(c.a)(ce,1)[0],se=Object(I.o)("loadGasPrice"),de=Object(c.a)(se,1)[0],ue=Object(d.useState)(),be=Object(c.a)(ue,2),he=be[0],pe=be[1],fe=Object(d.useState)(),me=Object(c.a)(fe,2),je=me[0],ge=me[1],ve=Object(d.useRef)(),ke=Object(d.useRef)();Object(d.useEffect)((function(){!(null===je||void 0===je?void 0:je.gt(0))&&oe&&de(Object(i.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===oe||void 0===oe?void 0:oe.eth.getProvider().getGasPrice();case 2:t=e.sent,ge(new k.a(t.toString()));case 4:case"end":return e.stop()}}),e)}))))}),[oe,je]),Object(d.useEffect)((function(){le(Object(i.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(I.g)(j),n=new y.TradeHubSDK({network:t}),e.next=4,n.token.reloadTokens();case 4:ie(n);case 5:case"end":return e.stop()}}),e)}))))}),[j]);var Oe=R.fromBlockchain===y.Blockchain.Zilliqa?"bridge-zil":"bridge-eth",xe=R.token,we=R.fromBlockchain,Be=R.toBlockchain,ye=Object(d.useMemo)((function(){return xe?{fromToken:v(xe.tokenAddress,xe.blockchain),toToken:v(xe.toTokenAddress,xe.toBlockchain)}:{}}),[v,xe]).fromToken;Object(d.useEffect)((function(){var e=D.activeBridgeTx;if(e){G.showTransferConfirmation||s(F.a.Layout.showTransferConfirmation());var t=D.tokens[e.srcChain].find((function(t){return t.denom===e.srcToken}));s(F.a.Bridge.updateForm({destAddress:e.dstAddr,sourceAddress:e.srcAddr,fromBlockchain:e.srcChain,toBlockchain:e.dstChain,forNetwork:j,token:t}))}}),[D.activeBridgeTx,D.tokens,G,j,s]),Object(d.useEffect)((function(){null!==Z?R.fromBlockchain===y.Blockchain.Zilliqa?Ne(Z.addressInfo.byte20):Ce(Z.addressInfo.byte20):R.fromBlockchain===y.Blockchain.Zilliqa?Ne(""):Ce("")}),[Z,R.fromBlockchain]);var Ne=function(e){_((function(t){return Object(a.a)(Object(a.a)({},t),{},{sourceAddress:e})})),s(F.a.Bridge.updateForm({sourceAddress:e}))},Ce=function(e){_((function(t){return Object(a.a)(Object(a.a)({},t),{},{destAddress:e})})),s(F.a.Bridge.updateForm({destAddress:e}))},Ae=function(){var e=Object(i.a)(o.a.mark((function e(){var t,n,a,r,i,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new C.a({cacheProvider:!1,disableInjectedProvider:!1,network:j===A.Network.MainNet?"mainnet":"ropsten",providerOptions:T.b}),e.next=3,t.connect();case 3:return n=e.sent,a=new w.ethers.providers.Web3Provider(n),r=a.getSigner(),e.next=8,r.getAddress();case 8:return i=e.sent,e.next=11,a.getNetwork();case 11:c=e.sent.chainId,R.fromBlockchain===y.Blockchain.Ethereum&&Ne(i),R.toBlockchain===y.Blockchain.Ethereum&&Ce(i),M(i),s(F.a.Wallet.setBridgeWallet({blockchain:y.Blockchain.Ethereum,wallet:{provider:n,address:i,chainId:c}})),s(F.a.Token.refetchState());case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Te=function(){s(F.a.Layout.toggleShowWallet()),null!==Z&&R.fromBlockchain===y.Blockchain.Zilliqa&&Ne(Z.addressInfo.byte20),null!==Z&&R.toBlockchain===y.Blockchain.Zilliqa&&Ce(Z.addressInfo.byte20)},Se=function(){1===Number(null===W||void 0===W?void 0:W.chainId)&&(null===Z||void 0===Z?void 0:Z.network)===A.Network.MainNet||3===Number(null===W||void 0===W?void 0:W.chainId)&&(null===Z||void 0===Z?void 0:Z.network)===A.Network.TestNet?s(F.a.Layout.showTransferConfirmation(!G.showTransferConfirmation)):s(F.a.Layout.toggleShowNetworkSwitch("open"))},Ee=function(e){var t={};t=Be===y.Blockchain.Zilliqa?{sourceAddress:void 0,token:void 0}:{destAddress:void 0,token:void 0};var n=new C.a({cacheProvider:!0,disableInjectedProvider:!1,network:"ropsten",providerOptions:T.b});e&&n.clearCachedProvider(),pe(null),s(F.a.Bridge.updateForm(t)),s(F.a.Wallet.setBridgeWallet({blockchain:y.Blockchain.Ethereum,wallet:null}))},Fe=Object(d.useMemo)((function(){return!(!H.sourceAddress||!H.destAddress)&&(!R.transferAmount.isZero()&&(!ye||!R.transferAmount.isGreaterThan(Object(I.b)(ye.balance).shiftedBy(-ye.decimals))))}),[H,R.transferAmount,ye]),Ie=function(e){return"0000000000000000000000000000000000000000"===e.asset_id},qe=function(e,t){if(t===y.Blockchain.Zilliqa){var n=new k.a("".concat(U.a.ZIL_GAS_PRICE)),a=new k.a("".concat(U.a.ZIL_GAS_LIMIT));return e.minus(n.multipliedBy(a))}var r=new k.a(w.ethers.utils.formatUnits((null!==je&&void 0!==je?je:new k.a(65)).toString(10),"gwei")),o=new k.a("".concat(U.a.ETH_GAS_LIMIT));return e.minus(r.multipliedBy(o))},Me=function(){var e=Object(i.a)(o.a.mark((function e(){var t,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ye&&oe){e.next=2;break}return e.abrupt("return");case 2:if(n=Object(I.b)(ye.balance),r=oe.token.tokens[null!==(t=null===xe||void 0===xe?void 0:xe.denom)&&void 0!==t?t:""]){e.next=6;break}return e.abrupt("return");case 6:Ie(r)&&ne[ye.blockchain]===we&&(n=qe(n,ye.blockchain)),_(Object(a.a)(Object(a.a)({},H),{},{transferAmount:n.decimalPlaces(0).shiftedBy(-ye.decimals).toString()})),s(F.a.Bridge.updateForm({forNetwork:j,transferAmount:n.decimalPlaces(0).shiftedBy(-ye.decimals)}));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(q.jsxs)(K.a,Object(a.a)(Object(a.a)({},n),{},{className:x()(r.root,t),children:[!G.showTransferConfirmation&&Object(q.jsxs)(u.a,{display:"flex",flexDirection:"column",className:r.container,children:[Object(q.jsxs)(S.ib,{variant:"h2",align:"center",marginTop:2,children:["Zil",Object(q.jsx)("span",{className:r.textColoured,children:"Bridge"})]}),Object(q.jsx)(S.ib,{margin:1,align:"center",color:"textSecondary",className:r.textSpacing,children:Object(q.jsx)(b.a,{placement:"bottom",arrow:!0,title:"TradeHub has been renamed Carbon!",children:Object(q.jsxs)("span",{children:["Powered by"," ",Object(q.jsx)("a",{href:"https://carbon.network",target:"_blank",rel:"noreferrer",children:"Carbon"})]})})}),Object(q.jsxs)(u.a,{mt:2,mb:2,display:"flex",justifyContent:"space-between",position:"relative",children:[Object(q.jsxs)(u.a,{className:r.box,bgcolor:"background.contrast",children:[Object(q.jsx)(S.ib,{variant:"h4",align:"center",children:"From"}),Object(q.jsx)(u.a,{display:"flex",flex:1,alignItems:"center",justifyContent:"center",mt:1.5,mb:1.5,children:we===y.Blockchain.Ethereum?Object(q.jsx)(V.a,{}):Object(q.jsx)($.a,{})}),Object(q.jsx)(u.a,{display:"flex",justifyContent:"center",children:Object(q.jsx)(h.a,{variant:"outlined",className:r.formControl,children:Object(q.jsxs)(p.a,{MenuProps:{classes:{paper:r.selectMenu}},value:we,onChange:function(e){e.target.value===y.Blockchain.Zilliqa?(Ne(null===Z||void 0===Z?void 0:Z.addressInfo.byte20),Ce(E),s(F.a.Bridge.updateForm({fromBlockchain:y.Blockchain.Zilliqa,toBlockchain:y.Blockchain.Ethereum}))):(Ne(E),Ce(null===Z||void 0===Z?void 0:Z.addressInfo.byte20),s(F.a.Bridge.updateForm({fromBlockchain:y.Blockchain.Ethereum,toBlockchain:y.Blockchain.Zilliqa})))},label:"",children:[Object(q.jsx)(f.a,{value:y.Blockchain.Zilliqa,children:"Zilliqa"}),Object(q.jsx)(f.a,{value:y.Blockchain.Ethereum,children:"Ethereum"})]})})}),Object(q.jsx)(J.a,{buttonRef:ve,chain:we,address:R.sourceAddress||"",onClick:function(){return we===y.Blockchain.Zilliqa?Te():R.sourceAddress&&W?void pe(ve):Ae()}})]}),Object(q.jsx)(u.a,{flex:.3}),Object(q.jsx)(Q.a,{className:r.wavyLine,onClick:function(){var e=we===y.Blockchain.Zilliqa;_(Object(a.a)(Object(a.a)({},H),{},{destAddress:H.sourceAddress,sourceAddress:H.destAddress})),s(F.a.Bridge.updateForm({fromBlockchain:e?y.Blockchain.Ethereum:y.Blockchain.Zilliqa,toBlockchain:e?y.Blockchain.Zilliqa:y.Blockchain.Ethereum,sourceAddress:H.destAddress,destAddress:H.sourceAddress,token:void 0}))}}),Object(q.jsxs)(u.a,{className:r.box,bgcolor:"background.contrast",children:[Object(q.jsx)(S.ib,{variant:"h4",align:"center",children:"To"}),Object(q.jsx)(u.a,{display:"flex",flex:1,alignItems:"center",justifyContent:"center",mt:1.5,mb:1.5,children:Be===y.Blockchain.Zilliqa?Object(q.jsx)($.a,{}):Object(q.jsx)(V.a,{})}),Object(q.jsx)(u.a,{display:"flex",justifyContent:"center",children:Object(q.jsx)(h.a,{variant:"outlined",className:r.formControl,children:Object(q.jsxs)(p.a,{MenuProps:{classes:{paper:r.selectMenu}},value:Be,onChange:function(e){e.target.value===y.Blockchain.Zilliqa?(Ce(null===Z||void 0===Z?void 0:Z.addressInfo.byte20),Ne(E),s(F.a.Bridge.updateForm({fromBlockchain:y.Blockchain.Ethereum,toBlockchain:y.Blockchain.Zilliqa}))):(Ce(E),Ne(null===Z||void 0===Z?void 0:Z.addressInfo.byte20),s(F.a.Bridge.updateForm({fromBlockchain:y.Blockchain.Zilliqa,toBlockchain:y.Blockchain.Ethereum})))},label:"",children:[Object(q.jsx)(f.a,{value:y.Blockchain.Ethereum,children:"Ethereum"}),Object(q.jsx)(f.a,{value:y.Blockchain.Zilliqa,children:"Zilliqa"})]})})}),Object(q.jsx)(J.a,{buttonRef:ke,chain:Be,address:R.destAddress||"",onClick:function(){return Be===y.Blockchain.Zilliqa?Te():R.sourceAddress&&W?void pe(ke):Ae()}})]})]}),Object(q.jsx)(S.E,{label:"Transfer Amount",disabled:!R.sourceAddress||!R.destAddress,token:null!==ye&&void 0!==ye?ye:null,amount:H.transferAmount,onEditorBlur:function(){_(Object(a.a)(Object(a.a)({},H),{},{transferAmount:R.transferAmount.toString(10)}))},onAmountChange:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0",n=new k.a(t).decimalPlaces(null!==(e=null===ye||void 0===ye?void 0:ye.decimals)&&void 0!==e?e:0);(n.isNaN()||n.isNegative()||!n.isFinite())&&(n=Y.b),_(Object(a.a)(Object(a.a)({},H),{},{transferAmount:t})),s(F.a.Bridge.updateForm({forNetwork:j,transferAmount:n}))},onCurrencyChange:function(e){var t;t=(t=we===y.Blockchain.Ethereum?e.address.toLowerCase():Object(g.fromBech32Address)(e.address).toLowerCase()).replace(/^0x/,"");var n=D.tokens[we].find((function(e){return e.tokenAddress===t}));R.token&&R.token===n||s(F.a.Bridge.updateForm({forNetwork:j,token:n}))},tokenList:Oe,onSelectMax:Me,showMaxButton:!0,onEnterKeyPress:function(){Fe&&Se()}}),Object(q.jsx)(m.a,{onClick:Se,disabled:!Fe,className:r.actionButton,color:"primary",variant:"contained",children:H.sourceAddress&&H.destAddress?R.transferAmount.isZero()?"Enter Amount":"Head to Confirmation":"Connect Wallet"})]}),Object(q.jsx)(X,{}),Object(q.jsx)(L,{}),Object(q.jsx)(S.A,{showTransfer:G.showTransferConfirmation}),Object(q.jsx)(S.B,{open:!!he,anchorEl:null===he||void 0===he?void 0:he.current,className:r.priority,onChangeWallet:function(){Ee(!0),Ae()},onDisconnectEth:function(){return Ee()},onClickaway:function(){return pe(void 0)}})]}))}}}]);
//# sourceMappingURL=12.ce2b8e98.chunk.js.map