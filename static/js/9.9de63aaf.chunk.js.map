{"version":3,"sources":["../node_modules/@material-ui/icons/BrightnessLowRounded.js","../node_modules/@material-ui/icons/SwapHorizRounded.js","app/layouts/MainCard/MainCard.tsx","app/views/main/Pool/components/AddLiquidityEarnMessage/receive_money.svg","app/views/main/Pool/components/NewPoolMessage/warning_logo.svg","app/views/main/Pool/components/AddLiquidityEarnMessage/AddLiquidityEarnMessage.tsx","app/views/main/Pool/components/CreatePoolDialog/components/AddressInput/AddressInput.tsx","app/views/main/Pool/components/CreatePoolDialog/CreatePoolDialog.tsx","app/views/main/Pool/components/PoolIcon/minus_pool.svg","app/views/main/Pool/components/NewPoolMessage/NewPoolMessage.tsx","app/views/main/Pool/components/PoolDetail/PoolDetail.tsx","app/views/main/Pool/components/PoolIcon/plus_pool.svg","app/views/main/Pool/plus_icon.svg","app/views/main/Pool/components/PoolIcon/PoolIcon.tsx","app/views/main/Pool/components/PoolDeposit/PoolDeposit.tsx","../node_modules/@material-ui/icons/esm/ArrowDropUpRounded.js","../node_modules/@material-ui/icons/esm/ArrowDropDownRounded.js","app/views/main/Pool/components/PoolManage/components/PoolInfoDropdown/PoolInfoDropdown.tsx","app/views/main/Pool/components/PoolManage/PoolManage.tsx","app/views/main/Pool/components/PoolToggleButton/PoolToggleButton.tsx","app/views/main/Pool/components/PoolWithdraw/PoolWithdraw.tsx","app/views/main/Pool/Pool.tsx"],"names":["_interopRequireDefault","require","_interopRequireWildcard","Object","defineProperty","exports","value","default","React","_default","createElement","d","CustomRouterLink","forwardRef","props","ref","style","flexGrow","flexBasis","useStyles","makeStyles","theme","root","flex","padding","spacing","display","flexDirection","breakpoints","down","graph","height","width","card","maxWidth","margin","background","palette","type","border","boxShadow","mainBoxShadow","borderRadius","tabs","marginBottom","tab","position","paddingTop","paddingBottom","backgroundColor","disabledBackground","color","disabled","active","selected","tabLeft","borderTopLeftRadius","borderBottomLeftRadius","tabNoBorder","borderTopRightRadius","borderBottomRightRadius","borderWidth","tabRight","tabActive","tabNoticeOpposite","borderBottom","paperOpposite","MainCard","children","rest","className","staticContext","classes","isPool","useRouteMatch","isSwap","layoutState","useSelector","state","layout","swapState","swap","poolToken","pool","token","transactionState","transaction","boxRef","useRef","useState","boxHeight","setBoxHeight","dispatch","useDispatch","useEffect","current","clientHeight","hasNotification","liquidityEarnHidden","showPoolType","registered","inToken","outToken","notification","observingTxs","length","submittedTxs","showGraph","closeAdvancedSetting","actions","Layout","showAdvancedSetting","Box","justifyContent","Button","disableElevation","onClick","variant","cls","activeClassName","component","to","Paper","_path","_excluded","_extends","assign","target","i","arguments","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgReceiveMoney","_ref","svgRef","title","titleId","viewBox","xmlns","xmlnsXlink","id","fill","_g","ForwardRef","notificationMessage","fontWeight","colors","zilliqa","neutral","notificationSymbol","primary","dark","warning","AddLiquidityEarnMessage","onRemove","hideLiquidityEarn","ml","Typography","input","inputError","error","main","inputText","fontSize","preview","marginTop","float","floatLeft","AddressInput","placeholder","onTokenChanged","address","setAddress","tokenPreview","setTokenPreview","useAsyncTask","runAsyncTask","loading","walletState","wallet","inputAddress","ZilliqaValidate","isAddress","toBech32Address","isBech32","a","Error","ZilswapConnector","addPoolToken","contract","init","getInit","contractInitRaw","contractInit","zilParamsToMap","name","symbol","decimals","parseInt","undefined","InputLabel","message","OutlinedInput","PlaceholderStrings","ZilAddress","fullWidth","onChange","e","kkey","mb","content","actionButton","CreatePoolDialog","open","onCloseDialog","network","useNetwork","header","onClose","DialogContent","ZilTokenAddress","walletRequired","zilswapSdk","getSDK","getAppState","tokens","initialized","whitelisted","isWzil","isZil","isZwap","balance","BIG_ZERO","allowances","blockchain","Blockchain","Zilliqa","Token","add","Pool","select","setTimeout","refetchState","SvgWarningLogo","stroke","strokeWidth","fillRule","transform","viewDetail","marginLeft","NewPoolMessage","mr","Link","rel","href","textColoured","textBold","textWrapper","label","helpInfo","switchIcon","cursor","transition","verticalAlign","activeSwitchIcon","PoolDetail","tokenState","store","moneyFormat","useMoneyFormatter","maxFractionDigits","showCurrency","reversedRate","setReversedRate","liquidityTokenRate","totalContribution","isPositive","tokenReserve","div","zilFormatOpts","compression","formatOpts","zilToken","ZIL_ADDRESS","rate","exchangeRate","shiftedBy","pow","toNumber","toLocaleString","maximumFractionDigits","getExchangeRateValue","BigNumber","times","getPoolTokenValue","placement","zilReserve","getPoolSizeValue","contributionPercentage","toFixed","getUserPoolShare","share","tokenContribution","zilContribution","getShareValue","SvgMinusPool","SvgPlusPool","icon","PoolIcon","container","proportionSelect","keyValueLabel","svg","alignSelf","errorMessage","primaryColor","poolIcon","poolIconBox","initialFormState","zilAmount","tokenAmount","PoolDeposit","formState","setFormState","currencyDialogOverride","setCurrencyDialogOverride","runAddLiquidity","clearPoolError","runApproveTx","loadingApproveTx","errorApproveTx","clearApproveError","poolFormState","swapFormState","toaster","useToaster","forNetwork","clear","onTokenChange","amount","bnTokenAmount","isNegative","isNaN","isFinite","peleToken","PELE_ADDRESS","bnZilAmount","decimalPlaces","toString","update","addTokenAmount","addZilAmount","onDoneEditing","zilswapContractAddress","CONTRACTS","byte20ContractAddress","fromBech32Address","toLowerCase","showTxApprove","addTokenUnitlessAmount","bnOrZero","comparedTo","addPeleUnitlessAmount","PELE_DECIMALS","clsx","showCurrencyDialog","onEditorBlur","onAmountChange","onCurrencyChange","dialogOpts","hideZil","size","onSelectProp","percentage","intendedAmount","slippage","netGasAmount","adjustedForGas","fixedToken","loadingTxApprove","onClickTxApprove","isZero","tmp_allowance","tmp_token","tokenAddress","approveTokenTransfer","tokenID","observedTx","walletObservedTx","addressInfo","bech32","Transaction","observe","hash","tokenBalance","zilBalance","gt","lt","minus","setDeadlineBlocks","expiry","addLiquidity","maxExchangeRateChange","toBasisPoints","updatedPool","getPool","createSvgIcon","buttonWrapper","divider","textGreen","arrowIcon","PoolInfoDropdown","valueCalculators","useValueCalculators","potentialRewardsByPool","rewards","setActive","poolPair","poolShare","poolShareLabel","peleAmount","poolValue","prices","depositedValue","rawPotentialRewards","usdValues","values","EMPTY_USD_VALUE","potentialRewards","map","item","rewardToken","roiPerDay","rewardsPerSecond","dividedBy","poolLiquidity","roiLabel","dp","toFormat","disableRipple","alignItems","pair","join","ArrowDropUpRounded","ArrowDropDownRounded","ValueComponent","iconStyle","currency","align","toHumanNumber","reward","Divider","viewPoolsButton","newLinkIcon","PoolManage","useTaskSubscriber","LoadingKeys","connectWallet","loadingConnectWallet","useMemo","reduce","accum","push","toggleShowWallet","marginY","CircularProgress","PoolToggleButton","poolType","onTypeChange","ButtonGroup","backButton","text","readOnly","textAlign","previewAmount","lineHeight","poolDetails","advanceDetails","secondary","showAdvanced","letterSpacing","hexToRGBA","contrastText","iconButton","currencyInput","viewIcon","top","left","box","currencyText","removeContribution","PoolWithdraw","runRemoveLiquidity","formatMoney","userPoolTokenPercent","inPoolAmount","updateFormStates","inputAmount","removeZilAmount","removeTokenAmount","userContribution","removeRatio","isGreaterThan","ArrowBack","IconButton","hideBalance","showPoolBalance","hideNoPool","bgcolor","py","px","mt","removeLiquidity","contributionAmount","SvgPlusIcon","createButton","advancedSettingContainer","plusIcon","PoolView","showCreatePool","onShowCreatePool","override","toggleShowCreatePool","startIcon"],"mappings":"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","file":"static/js/9.9de63aaf.chunk.js","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M20 15.31l1.9-1.9c.78-.78.78-2.05 0-2.83L20 8.69V6c0-1.1-.9-2-2-2h-2.69l-1.9-1.9c-.78-.78-2.05-.78-2.83 0L8.69 4H6c-1.1 0-2 .9-2 2v2.69l-1.9 1.9c-.78.78-.78 2.05 0 2.83l1.9 1.9V18c0 1.1.9 2 2 2h2.69l1.9 1.9c.78.78 2.05.78 2.83 0l1.9-1.9H18c1.1 0 2-.9 2-2v-2.69zM12 18c-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.69 6-6 6z\"\n}), 'BrightnessLowRounded');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M6.14 11.86l-2.78 2.79c-.19.2-.19.51 0 .71l2.78 2.79c.31.32.85.09.85-.35V16H13c.55 0 1-.45 1-1s-.45-1-1-1H6.99v-1.79c0-.45-.54-.67-.85-.35zm14.51-3.21l-2.78-2.79c-.31-.32-.85-.09-.85.35V8H11c-.55 0-1 .45-1 1s.45 1 1 1h6.01v1.79c0 .45.54.67.85.35l2.78-2.79c.2-.19.2-.51.01-.7z\"\n}), 'SwapHorizRounded');\n\nexports.default = _default;","import React, {\r\n  Fragment,\r\n  forwardRef,\r\n  useEffect,\r\n  useRef,\r\n  useState,\r\n} from \"react\";\r\nimport { Box, Button, Paper } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport cls from \"classnames\";\r\nimport { PaperProps } from \"material-ui\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { NavLink as RouterLink, useRouteMatch } from \"react-router-dom\";\r\nimport { TokenGraph } from \"app/components\";\r\nimport { actions } from \"app/store\";\r\nimport {\r\n  LayoutState,\r\n  RootState,\r\n  SwapFormState,\r\n  TokenInfo,\r\n  TransactionState,\r\n} from \"app/store/types\";\r\nimport { AppTheme } from \"app/theme/types\";\r\n\r\nconst CustomRouterLink = forwardRef((props: any, ref: any) => (\r\n  <div ref={ref} style={{ flexGrow: 1, flexBasis: 1 }}>\r\n    <RouterLink {...props} />\r\n  </div>\r\n));\r\n\r\nconst CARD_BORDER_RADIUS = 12;\r\n\r\nconst useStyles = makeStyles((theme: AppTheme) => ({\r\n  root: {\r\n    flex: 1,\r\n    padding: theme.spacing(8, 0, 2),\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      padding: theme.spacing(6, 0, 2),\r\n    },\r\n    [theme.breakpoints.down(\"xs\")]: {\r\n      padding: theme.spacing(6, 2, 2),\r\n    },\r\n  },\r\n  graph: {\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      height: 400,\r\n    },\r\n    [theme.breakpoints.down(\"xs\")]: {},\r\n    [theme.breakpoints.down(\"md\")]: {\r\n      padding: theme.spacing(6, 0, 2),\r\n      flexDirection: \"row\",\r\n      width: \"100%\",\r\n    },\r\n  },\r\n  card: {\r\n    maxWidth: 488,\r\n    margin: \"0 auto\",\r\n    background:\r\n      theme.palette.type === \"dark\"\r\n        ? \"linear-gradient(#13222C, #002A34)\"\r\n        : \"#F6FFFC\",\r\n    border:\r\n      theme.palette.border,\r\n    boxShadow: theme.palette.mainBoxShadow,\r\n    borderRadius: CARD_BORDER_RADIUS,\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      maxWidth: 450,\r\n    },\r\n  },\r\n  tabs: {\r\n    display: \"flex\",\r\n    width: \"488px\",\r\n    marginBottom: \"2em\",\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      maxWidth: 450,\r\n    },\r\n  },\r\n  tab: {\r\n    position: \"relative\",\r\n    width: \"100%\",\r\n    borderRadius: 0,\r\n    paddingTop: theme.spacing(2),\r\n    paddingBottom: theme.spacing(2),\r\n    backgroundColor: theme.palette.tab.disabledBackground,\r\n    color: theme.palette.tab.disabled,\r\n    \"&:hover\": {\r\n      backgroundColor: theme.palette.tab.active,\r\n      color: theme.palette.tab.selected,\r\n    },\r\n    \"&.Mui-disabled\": {\r\n      backgroundColor: theme.palette.tab.disabledBackground,\r\n    },\r\n  },\r\n  tabLeft: {\r\n    borderTopLeftRadius: CARD_BORDER_RADIUS,\r\n    borderBottomLeftRadius: CARD_BORDER_RADIUS,\r\n    border:\r\n      theme.palette.border,\r\n  },\r\n  tabNoBorder: {\r\n    borderTopRightRadius: 0,\r\n    borderBottomRightRadius: 0,\r\n    border:\r\n      theme.palette.border,\r\n    borderWidth: \"1px 1px 1px 0\",\r\n  },\r\n  tabRight: {\r\n    borderTopRightRadius: CARD_BORDER_RADIUS,\r\n    borderBottomRightRadius: CARD_BORDER_RADIUS,\r\n    border:\r\n      theme.palette.border,\r\n    borderWidth: \"1px 1px 1px 0\",\r\n  },\r\n  tabActive: {\r\n    backgroundColor: theme.palette.tab.active,\r\n    color: theme.palette.tab.selected,\r\n    \"&:hover\": {\r\n      backgroundColor: theme.palette.tab.active,\r\n      color: theme.palette.tab.selected,\r\n    },\r\n  },\r\n  tabNoticeOpposite: {\r\n    \"&:after\": {\r\n      borderBottom: `8px solid ${theme.palette.background.paperOpposite!}`,\r\n    },\r\n  },\r\n}));\r\nconst MainCard: React.FC<PaperProps> = (props: any) => {\r\n  const { children, className, staticContext, ...rest } = props;\r\n  const classes = useStyles();\r\n  const isPool = useRouteMatch(\"/pool\");\r\n  const isSwap = useRouteMatch(\"/swap\");\r\n  const layoutState = useSelector<RootState, LayoutState>(\r\n    (state) => state.layout\r\n  );\r\n  const swapState = useSelector<RootState, SwapFormState>(\r\n    (state) => state.swap\r\n  );\r\n  const poolToken = useSelector<RootState, TokenInfo | null>(\r\n    (state) => state.pool.token\r\n  );\r\n  const transactionState = useSelector<RootState, TransactionState>(\r\n    (state) => state.transaction\r\n  );\r\n  const boxRef = useRef<HTMLDivElement | null>(null);\r\n  const [boxHeight, setBoxHeight] = useState<number>(0);\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    if (boxRef.current?.clientHeight) {\r\n      setBoxHeight(boxRef.current?.clientHeight || 0);\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [boxRef.current?.clientHeight]);\r\n\r\n  const hasNotification =\r\n    // show new pool warning\r\n    (isPool && poolToken && !poolToken?.pool) ||\r\n    // show liquidity fee (add liquidity incentive) message\r\n    (isPool &&\r\n      !layoutState.liquidityEarnHidden &&\r\n      layoutState.showPoolType === \"add\") ||\r\n    // show user created token warning for pool\r\n    (isPool && poolToken?.pool && !poolToken?.registered) ||\r\n    // show user created token warning for swap\r\n    (isSwap &&\r\n      ((swapState.inToken && !swapState.inToken.registered) ||\r\n        (swapState.outToken && !swapState.outToken.registered))) ||\r\n    // show generic notification\r\n    !!layoutState.notification ||\r\n    // show confirming tx message\r\n    transactionState.observingTxs.length > 0 ||\r\n    // show confirmed tx message\r\n    transactionState.submittedTxs.length > 0;\r\n\r\n  const showGraph = isSwap && (swapState.inToken || swapState.outToken);\r\n\r\n  const closeAdvancedSetting = () => {\r\n    dispatch(actions.Layout.showAdvancedSetting(false));\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      <Box className={classes.root}>\r\n        <Box display=\"flex\" justifyContent=\"center\">\r\n          <Box className={classes.tabs}>\r\n            <Button\r\n              disableElevation\r\n              onClick={closeAdvancedSetting}\r\n              color=\"primary\"\r\n              variant=\"contained\"\r\n              className={cls(classes.tab, classes.tabLeft)}\r\n              activeClassName={cls(classes.tabActive, {\r\n                [classes.tabNoticeOpposite]: hasNotification,\r\n              })}\r\n              component={CustomRouterLink}\r\n              to=\"/swap\"\r\n            >\r\n              Swap\r\n            </Button>\r\n            <Button\r\n              disableElevation\r\n              onClick={closeAdvancedSetting}\r\n              color=\"primary\"\r\n              variant=\"contained\"\r\n              className={cls(classes.tab, classes.tabRight)}\r\n              activeClassName={cls(classes.tabActive, {\r\n                [classes.tabNoticeOpposite]: hasNotification,\r\n              })}\r\n              component={CustomRouterLink}\r\n              to=\"/pool\"\r\n            >\r\n              Pool\r\n            </Button>\r\n            {/* <Button\r\n              disableElevation\r\n              color=\"primary\"\r\n              variant=\"contained\"\r\n              className={cls(classes.tab, classes.tabRight)}\r\n              activeClassName={cls(classes.tabActive, { [classes.tabNoticeOpposite]: hasNotification })}\r\n              component={CustomRouterLink}\r\n              to=\"/bridge\">Bridge</Button> */}\r\n          </Box>\r\n        </Box>\r\n        <Box display=\"flex\" justifyContent=\"center\">\r\n          {showGraph && (\r\n            <TokenGraph\r\n              boxHeight={boxHeight}\r\n              inToken={swapState.inToken}\r\n              outToken={swapState.outToken}\r\n            />\r\n          )}\r\n          <Box width={488}>\r\n            <Paper {...{ ref: boxRef }} {...rest} className={classes.card}>\r\n              <Box>{children}</Box>\r\n            </Paper>\r\n          </Box>\r\n        </Box>\r\n      </Box>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default MainCard;\r\n","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgReceiveMoney(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 14 13\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#29CCC4\",\n    d: \"M7.59847551,6.5 C7.8305837,6.5 8.02089391,6.31718254 8.02089391,6.09375 L8.02089391,5.64688492 C8.82127435,5.55546379 9.42669246,4.85977554 9.32121247,4.04727554 C9.2446659,3.46329117 8.77532267,2.99862289 8.18958119,2.83613777 L6.87053542,2.47305679 C6.78432855,2.45198059 6.71212555,2.35984039 6.70939599,2.26737785 C6.70939599,2.1505909 6.80879972,2.05411148 6.93106062,2.05411148 L7.79630983,2.05411148 C7.87451788,2.05423546 7.99680251,2.07925415 8.06926659,2.10995102 C8.19639324,2.16581535 8.34343386,2.15312004 8.44112865,2.05916977 L8.90292403,1.61483383 C8.92013217,1.5989151 8.94374887,1.56935883 8.95566402,1.54882812 C8.97840251,1.51022148 8.99684489,1.44210815 8.99684489,1.39678192 C8.99684489,1.30625343 8.93658078,1.1948719 8.86233654,1.14815712 C8.64793494,1.01379013 8.27203787,0.882968903 8.02333865,0.856164932 L8.02333865,0.40625 C8.02333865,0.182817459 7.8332658,0 7.60115761,0 L7.17897656,0 C6.94686837,0 6.75679552,0.182817459 6.75679552,0.40625 L6.75679552,0.853115082 C5.95741196,0.944536209 5.35075962,1.64022446 5.45623961,2.45272446 C5.53254882,3.03670883 6.00333991,3.50137711 6.58810824,3.66386223 L7.90715401,4.02694321 C7.99338461,4.04801941 8.06556388,4.14015961 8.06829344,4.23262215 C8.06829344,4.3494091 7.96888971,4.44588852 7.84662881,4.44588852 L6.9813796,4.44588852 C6.90345638,4.44566536 6.78159898,4.42064667 6.70939599,4.39004898 C6.58203199,4.33418465 6.43522872,4.34687996 6.33753393,4.44083023 L5.87573855,4.88516617 C5.85796076,4.90140724 5.83346586,4.93168259 5.82105226,4.9526844 C5.79864607,4.99106789 5.78048851,5.0586853 5.78048851,5.1036396 C5.78048851,5.19431686 5.84089503,5.30572319 5.91535289,5.35233879 C6.12970702,5.48673058 6.50546168,5.61752701 6.75411342,5.64433098 L6.75411342,6.09375 C6.75411342,6.31718254 6.94442363,6.5 7.17629447,6.5 L7.59847551,6.5 Z M9.0614051,13 C9.3622984,13 9.79729654,12.8407383 10.0323717,12.6445312 L13.7080312,9.57226562 C13.8691944,9.43760109 14,9.15334511 14,8.93774796 C14,8.73643303 13.883127,8.46445084 13.7391483,8.33065414 L13.7388872,8.33065414 C13.4520927,8.05899429 13.0048946,8.07674789 12.7035028,8.33065414 L10.4577095,10.2070312 C10.2235838,10.4032631 9.78996231,10.5625 9.48980481,10.5625 L6.6109654,10.5625 C6.39630271,10.5625 6.22208508,10.3805008 6.22208508,10.15625 C6.22208508,9.93199921 6.39630271,9.75 6.6109654,9.75 L8.51380636,9.75 C8.90026567,9.75 9.26021257,9.47323227 9.32194827,9.07461929 C9.32811946,9.03747559 9.33312763,8.97672653 9.33312763,8.93903732 L9.33312763,8.93598747 C9.33232062,8.48832893 8.98388538,8.125 8.55536699,8.125 L4.66656381,8.125 C4.10697871,8.12514877 3.30011851,8.42420769 2.86557134,8.79252052 L1.73538791,9.75 L0.388880318,9.75 C0.174217623,9.75 0,9.93199921 0,10.15625 L0,12.59375 C0,12.8180008 0.174217623,13 0.388880318,13 L9.0614051,13 Z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgReceiveMoney);\nexport default __webpack_public_path__ + \"static/media/receive_money.eaf64f5d.svg\";\nexport { ForwardRef as ReactComponent };","var _g;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgWarningLogo(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: \"5px\",\n    height: \"18px\",\n    viewBox: \"0 0 5 18\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    stroke: \"none\",\n    strokeWidth: 1,\n    fill: \"none\",\n    fillRule: \"evenodd\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"translate(-511.000000, -189.000000)\",\n    fill: \"#DCA00E\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M515.25,205.125 C515.25,204.089466 514.410534,203.25 513.375,203.25 C512.339466,203.25 511.5,204.089466 511.5,205.125 C511.5,206.160534 512.339466,207 513.375,207 C514.410534,207 515.25,206.160534 515.25,205.125 Z\",\n    id: \"Path\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M512.015869,189 L514.734131,189 C515.010273,189 515.234131,189.223858 515.234131,189.5 C515.234131,189.505207 515.23405,189.510413 515.233887,189.515617 L514.890137,200.515617 C514.881702,200.785548 514.660443,201 514.390381,201 L512.359619,201 C512.089557,201 511.868298,200.785548 511.859863,200.515617 L511.516113,189.515617 C511.507488,189.23961 511.724244,189.008869 512.000252,189.000244 C512.005456,189.000081 512.010662,189 512.015869,189 Z\",\n    id: \"Rectangle\"\n  })))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgWarningLogo);\nexport default __webpack_public_path__ + \"static/media/warning_logo.a251fa98.svg\";\nexport { ForwardRef as ReactComponent };","import React from \"react\";\r\nimport { Box, Typography } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport cls from \"classnames\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { NotificationBox } from \"app/components\";\r\nimport { actions } from \"app/store\";\r\nimport { LayoutState, RootState } from \"app/store/types\";\r\nimport { AppTheme } from \"app/theme/types\";\r\nimport { ReactComponent as Icon } from \"./receive_money.svg\";\r\n\r\nexport interface AddLiquidityEarnMessageProps extends React.HTMLAttributes<HTMLDivElement> {\r\n};\r\n\r\nconst useStyles = makeStyles((theme: AppTheme) => ({\r\n  root: {\r\n  },\r\n  notificationMessage: {\r\n    fontWeight: 400,\r\n    margin: theme.spacing(1, 0),\r\n    color: theme.palette.type === \"light\" ? theme.palette.colors.zilliqa.neutral[\"200\"] : theme.palette.colors.zilliqa.neutral[\"100\"]\r\n  },\r\n  notificationSymbol: {\r\n    margin: theme.spacing(1, 1.5, 0),\r\n    \"& path\": {\r\n      fill: theme.palette.primary.dark\r\n    }\r\n  },\r\n  warning: {\r\n    width: theme.spacing(8),\r\n  },\r\n}));\r\n\r\nconst AddLiquidityEarnMessage: React.FC<AddLiquidityEarnMessageProps> = (props: AddLiquidityEarnMessageProps) => {\r\n  const { children, className, ...rest } = props;\r\n  const layoutState = useSelector<RootState, LayoutState>(state => state.layout);\r\n  const dispatch = useDispatch();\r\n  const classes = useStyles();\r\n\r\n  const onRemove = () => {\r\n    dispatch(actions.Layout.hideLiquidityEarn());\r\n  };\r\n\r\n  if (layoutState.liquidityEarnHidden || layoutState.showPoolType !== \"add\") return null;\r\n\r\n  return (\r\n    <NotificationBox {...rest} className={cls(classes.root, className)} onRemove={onRemove}>\r\n      <Box className={cls(classes.notificationSymbol, classes.warning)}>\r\n        <Icon />\r\n      </Box>\r\n      <Box ml={1}>\r\n        <Typography className={classes.notificationMessage} variant=\"body1\">\r\n          By adding liquidity, you will earn 0.3% on trades for this pool,\r\n          proportional to your share of liquidity. Earned fees are added back\r\n          to the pool and claimable by removing liquidity.\r\n        </Typography>\r\n      </Box>\r\n    </NotificationBox>\r\n  );\r\n};\r\n\r\nexport default AddLiquidityEarnMessage;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Box, BoxProps, InputLabel, OutlinedInput, Typography, makeStyles } from \"@material-ui/core\";\r\nimport cls from \"classnames\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { zilParamsToMap } from \"core/utilities\";\r\nimport { Contract, ZilliqaValidate, ZilswapConnector, toBech32Address } from \"core/zilswap\";\r\nimport { KeyValueDisplay, LoadableArea } from \"app/components\";\r\nimport { RootState, WalletState } from \"app/store/types\";\r\nimport { useAsyncTask } from \"app/utils\";\r\nimport { PlaceholderStrings } from \"app/utils/constants\";\r\n\r\nexport type TokenPreview = {\r\n  contract: Contract;\r\n  name: string;\r\n  symbol: string;\r\n  address: string;\r\n  decimals: number;\r\n};\r\n\r\nexport interface AddressInputProps extends BoxProps {\r\n  onTokenChanged: (tokenPreview?: TokenPreview) => void;\r\n  placeholder: string;\r\n};\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n  },\r\n  input: {\r\n    marginBottom: 20,\r\n  },\r\n  inputError: {\r\n    border: `1px solid ${theme.palette.error.main}`\r\n  },\r\n  inputText: {\r\n    fontSize: '16px!important',\r\n    [theme.breakpoints.down(\"xs\")]: {\r\n      fontSize: \"12px!important\"\r\n    },\r\n    padding: \"18.5px 14px!important\"\r\n  },\r\n  preview: {\r\n    marginTop: theme.spacing(3),\r\n    marginBottom: theme.spacing(6),\r\n  },\r\n  error: {\r\n    float: \"right\",\r\n  },\r\n  floatLeft: {\r\n    float: \"left\",\r\n  },\r\n}));\r\n\r\nconst AddressInput: React.FC<AddressInputProps> = (props: AddressInputProps) => {\r\n  const { children, className, placeholder, onTokenChanged, ...rest } = props;\r\n  const classes = useStyles();\r\n  const [address, setAddress] = useState<string>(\"\");\r\n  const [tokenPreview, setTokenPreview] = useState<TokenPreview | undefined>();\r\n  const [runAsyncTask, loading, error] = useAsyncTask(\"createPoolQueryTokenAddress\");\r\n  const walletState = useSelector<RootState, WalletState>(state => state.wallet);\r\n\r\n  useEffect(() => {\r\n    if (typeof onTokenChanged === \"function\")\r\n      onTokenChanged(tokenPreview);\r\n\r\n    // eslint-disable-next-line\r\n  }, [tokenPreview]);\r\n\r\n  useEffect(() => {\r\n    if (loading) return;\r\n\r\n    const inputAddress = ZilliqaValidate.isAddress(address) ? toBech32Address(address) : address;\r\n\r\n    if (ZilliqaValidate.isBech32(inputAddress)) {\r\n      runAsyncTask(async () => {\r\n        if (!walletState.wallet)\r\n          throw new Error(\"Connect wallet to view token information\");\r\n\r\n        const token = await ZilswapConnector.addPoolToken({ address: inputAddress });\r\n        const contract = token.contract\r\n        const contractInitRaw = contract.init ?? await contract.getInit();\r\n        const contractInit = zilParamsToMap(contractInitRaw);\r\n\r\n        setTokenPreview({\r\n          contract,\r\n          name: contractInit.name,\r\n          symbol: contractInit.symbol,\r\n          address: inputAddress,\r\n          decimals: parseInt(contractInit.decimals),\r\n        });\r\n      });\r\n    } else {\r\n      setTokenPreview(undefined);\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [walletState.wallet, address]);\r\n\r\n  return (\r\n    <Box {...rest} className={cls(classes.root, className)}>\r\n      <InputLabel className={classes.floatLeft}>Token Address</InputLabel>\r\n      {error && (\r\n        <InputLabel className={classes.error}><Typography color=\"error\">{error.message}</Typography></InputLabel>\r\n      )}\r\n      <OutlinedInput\r\n        placeholder={placeholder || PlaceholderStrings.ZilAddress}\r\n        value={address}\r\n        fullWidth\r\n        className={cls(classes.input, error ? classes.inputError : {})}\r\n        onChange={(e) => setAddress(e.target.value)}\r\n        classes={{ input: classes.inputText }}\r\n      />\r\n      <Box className={classes.preview}>\r\n        <LoadableArea loading={loading}>\r\n          {!!tokenPreview && (\r\n            <>\r\n              <KeyValueDisplay kkey={\"Name\"} mb=\"8px\">{tokenPreview.name}</KeyValueDisplay>\r\n              <KeyValueDisplay kkey={\"Symbol\"} mb=\"8px\">{tokenPreview.symbol}</KeyValueDisplay>\r\n              <KeyValueDisplay kkey={\"Decimals\"} mb=\"8px\">{tokenPreview.decimals}</KeyValueDisplay>\r\n            </>\r\n          )}\r\n        </LoadableArea>\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default AddressInput;\r\n","import React, { useState } from \"react\";\r\nimport { DialogContent, Typography, makeStyles } from \"@material-ui/core\";\r\nimport cls from \"classnames\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Blockchain } from \"tradehub-api-js\";\r\nimport { ZilswapConnector } from \"core/zilswap\";\r\nimport { DialogModal, FancyButton } from \"app/components\";\r\nimport { actions } from \"app/store\";\r\nimport { RootState, TokenInfo, WalletState } from \"app/store/types\";\r\nimport { useAsyncTask, useNetwork } from \"app/utils\";\r\nimport { BIG_ZERO, PlaceholderStrings } from \"app/utils/constants\";\r\nimport { AppTheme } from \"app/theme/types\";\r\nimport { AddressInput } from \"./components\";\r\nimport { TokenPreview } from \"./components/AddressInput/AddressInput\";\r\n\r\nconst useStyles = makeStyles((theme: AppTheme) => ({\r\n  root: {\r\n  },\r\n  content: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    width: 516,\r\n    [theme.breakpoints.down(\"xs\")]: {\r\n      width: \"fit-content\",\r\n    },\r\n    backgroundColor: theme.palette.background!.default,\r\n    borderLeft: theme.palette.border,\r\n    borderRight: theme.palette.border,\r\n    borderBottom: theme.palette.border,\r\n    borderRadius: \"0 0 12px 12px\"\r\n  },\r\n  actionButton: {\r\n    height: 46,\r\n    marginBottom: theme.spacing(6),\r\n  },\r\n  error: {\r\n    marginBottom: theme.spacing(2),\r\n  },\r\n}));\r\n\r\nconst CreatePoolDialog = (props: any) => {\r\n  const { children, className, open, onCloseDialog, ...rest } = props;\r\n  const classes = useStyles();\r\n  const dispatch = useDispatch();\r\n  const network = useNetwork();\r\n  const [tokenPreview, setTokenPreview] = useState<TokenPreview | undefined>();\r\n  const [runAsyncTask, loading, error] = useAsyncTask(\"createPool\");\r\n  const walletState = useSelector<RootState, WalletState>(state => state.wallet);\r\n\r\n  const onCreatePool = () => {\r\n    if (loading) return;\r\n\r\n    runAsyncTask(async () => {\r\n      const zilswapSdk = ZilswapConnector.getSDK();\r\n      if (!zilswapSdk)\r\n        throw new Error(\"zilswap not initialized\");\r\n      if (!walletState.wallet)\r\n        throw new Error(\"Connect wallet to create pool\");\r\n      if (!tokenPreview) throw new Error(\"Address not valid\");\r\n      const { address } = tokenPreview;\r\n      if (zilswapSdk.getAppState().tokens[address])\r\n        throw new Error(`Pool for ${tokenPreview.symbol} already exists`);\r\n\r\n      const token: TokenInfo = {\r\n        address,\r\n        initialized: false,\r\n        whitelisted: false,\r\n        isWzil: false,\r\n        isZil: false,\r\n        isZwap: false,\r\n        registered: false,\r\n        symbol: tokenPreview.symbol,\r\n        name: tokenPreview.name,\r\n        decimals: tokenPreview.decimals,\r\n        balance: BIG_ZERO,\r\n        allowances: {},\r\n        blockchain: Blockchain.Zilliqa,\r\n      };\r\n\r\n      dispatch(actions.Token.add({ token }));\r\n      dispatch(actions.Pool.select({ token, network }));\r\n      dispatch(actions.Layout.showPoolType(\"add\"));\r\n      setTimeout(() => { dispatch(actions.Token.refetchState()) })\r\n\r\n      return onCloseDialog();\r\n    });\r\n  };\r\n\r\n  return (\r\n    <DialogModal header=\"Create Pool\" open={open} onClose={onCloseDialog} {...rest} className={cls(classes.root, className)}>\r\n      <DialogContent className={classes.content}>\r\n        <AddressInput placeholder={PlaceholderStrings.ZilTokenAddress} onTokenChanged={preview => setTokenPreview(preview)} />\r\n        {error && (\r\n          <Typography className={classes.error} color=\"error\">{error.message}</Typography>\r\n        )}\r\n        <FancyButton walletRequired fullWidth\r\n          disabled={!tokenPreview}\r\n          className={classes.actionButton}\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          onClick={onCreatePool}>\r\n          Create Pool\r\n        </FancyButton>\r\n      </DialogContent>\r\n    </DialogModal>\r\n  )\r\n}\r\n\r\nexport default CreatePoolDialog;\r\n","var _g;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgMinusPool(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 12 12\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    stroke: \"none\",\n    strokeWidth: 1,\n    fill: \"none\",\n    fillRule: \"evenodd\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M12,6 C12,6.30623922 11.7708407,6.55895541 11.4746478,6.59602275 L11.3992969,6.60070308 L0.600703083,6.60070308 C0.268943931,6.60070308 0,6.33175915 0,6 C0,5.69376078 0.229159326,5.44104459 0.525352165,5.40397725 L0.600703083,5.39929692 L11.3992969,5.39929692 C11.7310561,5.39929692 12,5.66824085 12,6 Z\",\n    fill: \"#149BA3\"\n  }))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgMinusPool);\nexport default __webpack_public_path__ + \"static/media/minus_pool.67dc96aa.svg\";\nexport { ForwardRef as ReactComponent };","import React from \"react\";\r\nimport { Box, Link, Typography } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport cls from \"classnames\";\r\nimport { NotificationBox } from \"app/components\";\r\nimport { TokenInfo } from \"app/store/types\";\r\nimport { AppTheme } from \"app/theme/types\";\r\nimport { ReactComponent as WarningLogo } from \"./warning_logo.svg\";\r\n\r\nexport interface NewPoolMessageProps extends React.HTMLAttributes<HTMLDivElement> {\r\n  token?: TokenInfo;\r\n};\r\n\r\nconst useStyles = makeStyles((theme: AppTheme) => ({\r\n  root: {\r\n  },\r\n  notificationSymbol: {\r\n    margin: theme.spacing(1.5, 3, 0),\r\n  },\r\n  notificationMessage: {\r\n    fontWeight: 400,\r\n    margin: theme.spacing(1, 0),\r\n    color: theme.palette.type === \"light\" ? theme.palette.colors.zilliqa.neutral[\"200\"] : theme.palette.colors.zilliqa.neutral[\"100\"]\r\n  },\r\n  viewDetail: {\r\n    color: theme.palette.primary.main,\r\n    marginLeft: theme.spacing(1)\r\n  },\r\n}));\r\n\r\nconst NewPoolMessage: React.FC<NewPoolMessageProps> = (props: NewPoolMessageProps) => {\r\n  const { children, className, token, ...rest } = props;\r\n  const classes = useStyles();\r\n\r\n  if (!token) return null;\r\n\r\n  return (\r\n    <NotificationBox {...rest} className={cls(classes.root, className)}>\r\n      <Box className={classes.notificationSymbol}>\r\n        <WarningLogo />\r\n      </Box>\r\n      <Box ml={2} mr={1}>\r\n        <Typography className={classes.notificationMessage} variant=\"body2\">\r\n          You are the first person to add liquidity.\r\n          The initial exchange rate will be set based on your deposits.\r\n          Make sure that your PELE and deposits have the same fiat value.\r\n          <Link className={classes.viewDetail} rel=\"noopener noreferrer\" target=\"_blank\" href=\"https://docs.zilswap.org/#/smart-contract?id=addliquidity\">\r\n            Learn More\r\n          </Link>\r\n        </Typography>\r\n      </Box>\r\n    </NotificationBox>\r\n  );\r\n};\r\n\r\nexport default NewPoolMessage;\r\n","import React, { useState } from \"react\";\r\nimport { Box, BoxProps } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport BigNumber from \"bignumber.js\";\r\nimport cls from \"classnames\";\r\nimport { useSelector } from \"react-redux\";\r\nimport SwapHorizontalCircleIcon from '@material-ui/icons/SwapHorizRounded';\r\nimport { HelpInfo, KeyValueDisplay, PotentialRewardInfo } from \"app/components\";\r\nimport { LayoutState, RootState, TokenInfo, TokenState } from \"app/store/types\";\r\nimport { AppTheme } from \"app/theme/types\";\r\nimport { useMoneyFormatter } from \"app/utils\";\r\nimport { BIG_ZERO, ZIL_ADDRESS } from \"app/utils/constants\";\r\nimport { MoneyFormatterOptions } from \"app/utils/useMoneyFormatter\";\r\n\r\nexport interface PoolDetailProps extends BoxProps {\r\n  token?: TokenInfo;\r\n};\r\n\r\nconst useStyles = makeStyles((theme: AppTheme) => ({\r\n  root: {\r\n  },\r\n  textColoured: {\r\n    color: theme.palette.primary.dark\r\n  },\r\n  textBold: {\r\n    fontWeight: \"bold\"\r\n  },\r\n  textWrapper: {\r\n    color: theme.palette.label\r\n  },\r\n  helpInfo: {\r\n    marginBottom: theme.spacing(0.4)\r\n  },\r\n  switchIcon: {\r\n    height: 14,\r\n    width: 14,\r\n    backgroundColor: theme.palette.type === \"dark\" ? \"#2B4648\" : \"#E4F1F2\",\r\n    marginLeft: 8,\r\n    borderRadius: \"50%\",\r\n    cursor: \"pointer\",\r\n    transform: \"rotate(0)\",\r\n    transition: \"transform .5s ease-in-out\",\r\n    verticalAlign: \"middle\",\r\n    marginBottom: theme.spacing(0.4),\r\n    \"& path\": {\r\n      fill: theme.palette.label,\r\n    },\r\n    \"&:hover\": {\r\n      \"& path\": {\r\n        fill: theme.palette.primary.dark,\r\n      }\r\n    }\r\n  },\r\n  activeSwitchIcon: {\r\n    transform: \"rotate(180deg)\",\r\n  },\r\n}));\r\nconst PoolDetail: React.FC<PoolDetailProps> = (props: PoolDetailProps) => {\r\n  const { children, className, token, ...rest } = props;\r\n  const classes = useStyles();\r\n  const tokenState = useSelector<RootState, TokenState>(store => store.token);\r\n  const layoutState = useSelector<RootState, LayoutState>(store => store.layout);\r\n  const poolToken = useSelector<RootState, TokenInfo | null>(state => state.pool.token);\r\n  const moneyFormat = useMoneyFormatter({ maxFractionDigits: 5, showCurrency: true });\r\n  const [reversedRate, setReversedRate] = useState(false);\r\n\r\n  const liquidityTokenRate = poolToken?.pool?.totalContribution.isPositive() ? poolToken!.pool!.tokenReserve.div(poolToken!.pool!.totalContribution) : BIG_ZERO;\r\n\r\n  const zilFormatOpts: MoneyFormatterOptions = {\r\n    // symbol: \"ZIL\",\r\n    compression: 12,\r\n  };\r\n  const formatOpts: MoneyFormatterOptions = {\r\n    // symbol: token?.symbol,\r\n    compression: token?.decimals,\r\n  };\r\n\r\n  const getPoolSizeValue = () => {\r\n    if (!token?.pool) return <span className={classes.textWrapper}>-</span>;\r\n    const { zilReserve, tokenReserve } = token.pool;\r\n    return (\r\n      <span className={classes.textWrapper}><span className={classes.textColoured}>{moneyFormat(zilReserve, zilFormatOpts)}</span> ZIL + <span className={classes.textColoured}>{moneyFormat(tokenReserve, formatOpts)}</span> {token!.symbol}</span>\r\n    )\r\n  };\r\n  const getShareValue = () => {\r\n    if (!token?.pool) return <span className={classes.textWrapper}>-</span>;\r\n    const { contributionPercentage, zilReserve, tokenReserve } = token.pool;\r\n\r\n    const share = contributionPercentage.shiftedBy(-2);\r\n    const tokenContribution = share.times(tokenReserve);\r\n    const zilContribution = share.times(zilReserve);\r\n    return (\r\n      <span className={classes.textWrapper}> (<span className={classes.textColoured}>{moneyFormat(zilContribution, zilFormatOpts)}</span> ZIL + <span className={classes.textColoured}>{moneyFormat(tokenContribution, formatOpts)}</span> {token!.symbol})</span>\r\n    )\r\n  };\r\n  const getUserPoolShare = () => {\r\n    if (!token?.pool) return \"\";\r\n    const { contributionPercentage } = token.pool;\r\n    return `${contributionPercentage.toFixed(1)}%`;\r\n  };\r\n  const getPoolTokenValue = () => {\r\n    if (!token?.pool) return <span className={classes.textWrapper}>-</span>;\r\n    return (\r\n      <span className={classes.textWrapper}>\r\n        <span className={classes.textColoured}>{moneyFormat(new BigNumber(liquidityTokenRate).times(poolToken?.pool?.exchangeRate || 0), { ...zilFormatOpts, compression: 0 })}</span>\r\n        {\" \"}ZIL + {\" \"}\r\n        <span className={classes.textColoured}>{moneyFormat(new BigNumber(liquidityTokenRate).shiftedBy(poolToken?.decimals || 0), formatOpts)}</span>\r\n        {\" \"}{token!.symbol}\r\n      </span>\r\n    )\r\n  };\r\n  const getExchangeRateValue= () => {\r\n    if (!token?.pool) return <span className={classes.textWrapper}>-</span>;\r\n    const zilToken = tokenState.tokens[ZIL_ADDRESS];\r\n    const rate = token.pool.exchangeRate.shiftedBy(token!.decimals - zilToken.decimals);\r\n\r\n    const shouldReverseRate = reversedRate;\r\n\r\n    return (\r\n      shouldReverseRate\r\n        ? <span className={classes.textWrapper}>1 {token!.symbol} = <span className={classes.textColoured}>{rate.pow(1).toNumber().toLocaleString(\"en-US\", { maximumFractionDigits: 12 })}</span> ZIL</span>\r\n        : <span className={classes.textWrapper}>1 ZIL = <span className={classes.textColoured}>{rate.pow(-1).toNumber().toLocaleString(\"en-US\", { maximumFractionDigits: 12 })}</span> {token!.symbol}</span>\r\n    )\r\n  };\r\n\r\n  return (\r\n    <Box {...rest} className={cls(classes.root, className)}>\r\n      <KeyValueDisplay kkey={\"Price\"} mb=\"8px\">\r\n        {getExchangeRateValue()}\r\n        { \" \" }\r\n        <SwapHorizontalCircleIcon onClick={() => setReversedRate(!reversedRate)}\r\n          className={cls(classes.switchIcon, {\r\n            [classes.activeSwitchIcon]: reversedRate,\r\n          })} />\r\n      </KeyValueDisplay>\r\n      {layoutState.showPoolType === \"remove\" && (\r\n        <KeyValueDisplay kkey={\"Pool Token Value\"} mb=\"8px\">{getPoolTokenValue()} <HelpInfo className={classes.helpInfo} placement=\"top\" title=\"Quantity of tokens you are withdrawing at.\" /></KeyValueDisplay>\r\n      )}\r\n      <KeyValueDisplay kkey={\"Current Pool Size\"} mb=\"8px\">{getPoolSizeValue()} <HelpInfo className={classes.helpInfo} placement=\"top\" title=\"Total quantity of tokens in the current pool.\" /></KeyValueDisplay>\r\n      <KeyValueDisplay kkey={\"Current Pool Share\"} mb=\"8px\">\r\n        <span className={cls(classes.textColoured, classes.textBold)}>{getUserPoolShare()}</span>\r\n        {getShareValue()} <HelpInfo className={classes.helpInfo} placement=\"top\" title=\"Your %  share in relation to the current pool size.\" />\r\n      </KeyValueDisplay>\r\n      {layoutState.showPoolType === \"add\" && (\r\n        <PotentialRewardInfo />\r\n      )}\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default PoolDetail;\r\n","var _g;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgPlusPool(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 12 12\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    stroke: \"none\",\n    strokeWidth: 1,\n    fill: \"none\",\n    fillRule: \"evenodd\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M12,6 C12,6.30623922 11.7708407,6.55895541 11.4746478,6.59602275 L11.3992969,6.60070308 L6.6003292,6.6000636 L6.60070308,11.3992969 C6.60070308,11.7310561 6.33175915,12 6,12 C5.69376078,12 5.44104459,11.7708407 5.40397725,11.4746478 L5.39929692,11.3992969 L5.3996708,6.6000636 L0.600703083,6.60070308 C0.268943931,6.60070308 0,6.33175915 0,6 C0,5.69376078 0.229159326,5.44104459 0.525352165,5.40397725 L0.600703083,5.39929692 L5.39919885,5.39893325 L5.39929692,0.600703083 C5.39929692,0.268943931 5.66824085,0 6,0 C6.30623922,0 6.55895541,0.229159326 6.59602275,0.525352165 L6.60070308,0.600703083 L6.60080115,5.39893325 L11.3992969,5.39929692 C11.7310561,5.39929692 12,5.66824085 12,6 Z\",\n    fill: \"#149BA3\"\n  }))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPlusPool);\nexport default __webpack_public_path__ + \"static/media/plus_pool.2633dcfd.svg\";\nexport { ForwardRef as ReactComponent };","var _g;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgPlusIcon(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: \"14px\",\n    height: \"14px\",\n    viewBox: \"0 0 14 14\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    stroke: \"none\",\n    strokeWidth: 1,\n    fill: \"none\",\n    fillRule: \"evenodd\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"translate(-181.000000, -327.000000)\",\n    fill: \"#149BA3\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M195,334 C195,334.357279 194.732647,334.652115 194.387089,334.69536 L194.29918,334.70082 L188.700384,334.700074 L188.70082,340.29918 C188.70082,340.686232 188.387052,341 188,341 C187.642721,341 187.347885,340.732647 187.30464,340.387089 L187.29918,340.29918 L187.299616,334.700074 L181.70082,334.70082 C181.313768,334.70082 181,334.387052 181,334 C181,333.642721 181.267353,333.347885 181.612911,333.30464 L181.70082,333.29918 L187.299065,333.298755 L187.29918,327.70082 C187.29918,327.313768 187.612948,327 188,327 C188.357279,327 188.652115,327.267353 188.69536,327.612911 L188.70082,327.70082 L188.700935,333.298755 L194.29918,333.29918 C194.686232,333.29918 195,333.612948 195,334 Z\",\n    id: \"Path\"\n  })))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPlusIcon);\nexport default __webpack_public_path__ + \"static/media/plus_icon.b37e1c9a.svg\";\nexport { ForwardRef as ReactComponent };","import React from \"react\";\r\nimport { Box } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport cls from \"classnames\";\r\nimport { AppTheme } from \"app/theme/types\";\r\nimport { ReactComponent as SvgMinus } from \"./minus_pool.svg\";\r\nimport { ReactComponent as SvgPlus } from \"./plus_pool.svg\";\r\n\r\nexport interface PoolIconProps extends React.HTMLAttributes<HTMLDivElement> {\r\n  type: \"plus\" | \"minus\";\r\n}\r\n\r\nconst useStyles = makeStyles((theme: AppTheme) => ({\r\n  root: {\r\n    borderRadius: 12,\r\n    margin: \"16px auto\",\r\n    height: 24,\r\n    width: 24,\r\n    padding: 6,\r\n    background: theme.palette.type === \"dark\" ? \"#303637\": \"#F7FAFA\",\r\n  },\r\n  icon: {\r\n    height: 12,\r\n    width: 12,\r\n    \"& path\": {\r\n      fill: theme.palette.icon\r\n    }\r\n  }\r\n}));\r\nconst PoolIcon: React.FC<PoolIconProps> = (props: PoolIconProps) => {\r\n  const { children, className, type, ...rest } = props;\r\n  const classes = useStyles();\r\n  return (\r\n    <Box {...rest} className={cls(classes.root, className)}>\r\n      {type === \"plus\" && <SvgPlus className={classes.icon} />}\r\n      {type === \"minus\" && <SvgMinus className={classes.icon} />}\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default PoolIcon;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Box, Typography } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { fromBech32Address } from \"@zilliqa-js/crypto\";\r\nimport BigNumber from \"bignumber.js\";\r\nimport clsx from \"clsx\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { CONTRACTS } from \"peleswap-sdk/lib/constants\";\r\nimport { ZilswapConnector, toBasisPoints } from \"core/zilswap\";\r\nimport { CurrencyInput, FancyButton, ProportionSelect } from \"app/components\";\r\nimport { actions } from \"app/store\";\r\nimport { PoolFormState, RootState, SwapFormState, TokenInfo, TokenState, WalletObservedTx, WalletState } from \"app/store/types\";\r\nimport { bnOrZero, useAsyncTask, useNetwork, useToaster } from \"app/utils\";\r\nimport { BIG_ZERO, PELE_ADDRESS, PELE_DECIMALS, ZIL_ADDRESS } from \"app/utils/constants\";\r\nimport { AppTheme } from \"app/theme/types\";\r\nimport PoolDetail from \"../PoolDetail\";\r\nimport PoolIcon from \"../PoolIcon\";\r\n\r\nconst useStyles = makeStyles((theme: AppTheme) => ({\r\n  root: {\r\n  },\r\n  container: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    justifyContent: \"space-around\",\r\n    padding: theme.spacing(0, 4, 2),\r\n    [theme.breakpoints.down(\"xs\")]: {\r\n      padding: theme.spacing(0, 2, 2),\r\n    },\r\n  },\r\n  proportionSelect: {\r\n    marginTop: 3,\r\n    marginBottom: 4,\r\n  },\r\n  actionButton: {\r\n    marginTop: theme.spacing(4),\r\n    marginBottom: theme.spacing(4),\r\n    height: 46\r\n  },\r\n  keyValueLabel: {\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  svg: {\r\n    alignSelf: \"center\"\r\n  },\r\n  errorMessage: {\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  primaryColor: {\r\n    color: theme.palette.primary.main\r\n  },\r\n  poolIcon: {\r\n    margin: 12,\r\n    marginTop: -30,\r\n    marginBottom: 0,\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      marginTop: -33\r\n    },\r\n  },\r\n  poolIconBox: {\r\n    justifyContent: \"center\",\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      justifyContent: \"flex-start\"\r\n    },\r\n  }\r\n}));\r\n\r\nconst initialFormState = {\r\n  zilAmount: \"0\",\r\n  tokenAmount: \"0\",\r\n};\r\n\r\nconst PoolDeposit: React.FC<React.HTMLAttributes<HTMLDivElement>> = (props: any) => {\r\n  const { className, ...rest } = props;\r\n  const classes = useStyles();\r\n  const [formState, setFormState] = useState<typeof initialFormState>(initialFormState);\r\n  const [currencyDialogOverride, setCurrencyDialogOverride] = useState<boolean>(false);\r\n  const [runAddLiquidity, loading, error, clearPoolError] = useAsyncTask(\"poolAddLiquidity\");\r\n  const [runApproveTx, loadingApproveTx, errorApproveTx, clearApproveError] = useAsyncTask(\"approveTx\");\r\n  const dispatch = useDispatch();\r\n  const network = useNetwork();\r\n  const poolFormState = useSelector<RootState, PoolFormState>(state => state.pool);\r\n  const swapFormState = useSelector<RootState, SwapFormState>(state => state.swap);\r\n  const poolToken = useSelector<RootState, TokenInfo | null>(state => state.pool.token);\r\n  const tokenState = useSelector<RootState, TokenState>(state => state.token);\r\n  const walletState = useSelector<RootState, WalletState>(state => state.wallet);\r\n  // const formatMoney = useMoneyFormatter({ showCurrency: true, maxFractionDigits: 6 });\r\n  const toaster = useToaster();\r\n\r\n  useEffect(() => {\r\n    if (poolToken && currencyDialogOverride) {\r\n      setCurrencyDialogOverride(false);\r\n    }\r\n  }, [poolToken, currencyDialogOverride]);\r\n\r\n  useEffect(() => {\r\n    if (!poolFormState.forNetwork) return\r\n\r\n    // clear form if network changed\r\n    if (poolFormState.forNetwork !== network) {\r\n      setFormState({\r\n        zilAmount: \"0\",\r\n        tokenAmount: \"0\",\r\n      });\r\n      dispatch(actions.Pool.clear());\r\n    }\r\n\r\n    // eslint-disable-next-line\r\n  }, [network]);\r\n\r\n\r\n  const onPercentage = (percentage: number) => {\r\n    if (!poolToken) return;\r\n\r\n    const balance = new BigNumber(poolToken.balance?.toString() || 0);\r\n    const intendedAmount = balance.times(percentage - swapFormState.slippage).decimalPlaces(0);\r\n    const netGasAmount = poolToken.isZil ? ZilswapConnector.adjustedForGas(intendedAmount, balance) : intendedAmount;\r\n    onTokenChange(netGasAmount.shiftedBy(-poolToken.decimals).toString());\r\n  };\r\n\r\n  const onPoolChange = (token: TokenInfo) => {\r\n    if (token.symbol === \"PELE\") return;\r\n    dispatch(actions.Pool.select({ token, network }));\r\n    onTokenChange(\"0\");\r\n  };\r\n\r\n  const onZilChange = (amount: string = \"0\") => {\r\n    if (poolToken) {\r\n      const zilAmount = amount;\r\n      let bnZilAmount = new BigNumber(amount);\r\n      if (bnZilAmount.isNegative() || bnZilAmount.isNaN() || !bnZilAmount.isFinite())\r\n        bnZilAmount = BIG_ZERO;\r\n\r\n      const peleToken = tokenState.tokens[PELE_ADDRESS[network]];\r\n      const rate = poolToken.pool?.exchangeRate.shiftedBy(poolToken!.decimals - peleToken.decimals);\r\n      let bnTokenAmount = bnZilAmount.div(rate || 1).decimalPlaces(poolToken.decimals);\r\n      const tokenAmount = bnTokenAmount.toString();\r\n\r\n      setFormState({\r\n        ...formState,\r\n        zilAmount,\r\n\r\n        // only update counter currency if exchange rate is available\r\n        ...poolToken.pool && { tokenAmount },\r\n      });\r\n\r\n      dispatch(actions.Pool.update({\r\n        forNetwork: network,\r\n        addZilAmount: bnZilAmount,\r\n\r\n        // only update counter currency if exchange rate is available\r\n        ...poolToken.pool && { addTokenAmount: bnTokenAmount },\r\n      }));\r\n    }\r\n  };\r\n\r\n  const onTokenChange = (amount: string = \"0\") => {\r\n    if (poolToken) {\r\n      const tokenAmount = amount;\r\n      let bnTokenAmount = new BigNumber(amount);\r\n      if (bnTokenAmount.isNegative() || bnTokenAmount.isNaN() || !bnTokenAmount.isFinite())\r\n        bnTokenAmount = BIG_ZERO;\r\n\r\n      const peleToken = tokenState.tokens[PELE_ADDRESS[network]];\r\n      const rate = poolToken.pool?.exchangeRate.shiftedBy(poolToken!.decimals - peleToken.decimals);\r\n      let bnZilAmount = bnTokenAmount.times(rate || 1).decimalPlaces(peleToken?.decimals || 12);\r\n      const zilAmount = bnZilAmount.toString();\r\n\r\n      setFormState({\r\n        ...formState,\r\n        tokenAmount,\r\n\r\n        // only update counter currency if exchange rate is available\r\n        ...poolToken.pool && { zilAmount },\r\n      });\r\n\r\n      dispatch(actions.Pool.update({\r\n        forNetwork: network,\r\n        addTokenAmount: bnTokenAmount,\r\n\r\n        // only update counter currency if exchange rate is available\r\n        ...poolToken.pool && { addZilAmount: bnZilAmount },\r\n      }));\r\n    }\r\n  };\r\n\r\n  const onAddLiquidity = () => {\r\n    if (!poolToken) return setCurrencyDialogOverride(true);\r\n    if (poolFormState.addTokenAmount.isZero()) return;\r\n    if (loading) return;\r\n\r\n    clearApproveError();\r\n\r\n    runAddLiquidity(async () => {\r\n      const tokenAddress = poolToken.address;\r\n      const { addTokenAmount, addZilAmount } = poolFormState;\r\n      const { slippage } = swapFormState;\r\n      const tokenBalance = bnOrZero(poolToken!.balance).shiftedBy(-poolToken.decimals);\r\n      const peleToken = tokenState.tokens[PELE_ADDRESS[network]];\r\n      const zilBalance = bnOrZero(peleToken!.balance).shiftedBy(-peleToken.decimals);\r\n\r\n      if (addTokenAmount.gt(tokenBalance)) {\r\n        throw new Error(`Insufficient ${poolToken.symbol} balance.`)\r\n      }\r\n\r\n      if (addZilAmount.gt(zilBalance)) {\r\n        throw new Error(`Insufficient ZIL balance.`)\r\n      }\r\n\r\n      if (addZilAmount.lt(10)) {\r\n        throw new Error('Minimum contribution is 10 PELEs.')\r\n      }\r\n\r\n      if (zilBalance.minus(addZilAmount).lt(5)) {\r\n        throw new Error('Please reserve at least 5 ZIL to pay for transaction fees.')\r\n      }\r\n\r\n      ZilswapConnector.setDeadlineBlocks(swapFormState.expiry);\r\n\r\n      const observedTx = await ZilswapConnector.addLiquidity({\r\n        tokenAmount: addTokenAmount.shiftedBy(poolToken.decimals),\r\n        zilAmount: addZilAmount.shiftedBy(peleToken.decimals),\r\n        tokenID: tokenAddress,\r\n        maxExchangeRateChange: toBasisPoints(slippage).toNumber(),\r\n      });\r\n      const walletObservedTx: WalletObservedTx = {\r\n        ...observedTx,\r\n        address: walletState.wallet?.addressInfo.bech32 || \"\",\r\n        network,\r\n      };\r\n\r\n      const updatedPool = ZilswapConnector.getPool(tokenAddress) || undefined;\r\n      dispatch(actions.Token.update({\r\n        address: tokenAddress,\r\n        pool: updatedPool,\r\n      }));\r\n      dispatch(actions.Transaction.observe({ observedTx: walletObservedTx }));\r\n      toaster(\"Submitted\", { hash: walletObservedTx.hash });\r\n    });\r\n  };\r\n\r\n  const onApproveTx = () => {\r\n    if (!poolToken) return;\r\n    if (poolFormState.addTokenAmount.isZero()) return;\r\n    if (loading) return;\r\n\r\n    clearPoolError();\r\n\r\n    runApproveTx(async () => {\r\n      const addTokenUnitlessAmount = poolFormState.addTokenAmount.shiftedBy(poolToken.decimals);\r\n      var tmp_allowance = bnOrZero(poolToken.allowances?.[byte20ContractAddress]).comparedTo(addTokenUnitlessAmount) < 0\r\n      var tmp_token = poolToken\r\n      if(tmp_allowance === false) {\r\n        const peleToken = tokenState.tokens[PELE_ADDRESS[network]];\r\n        const addPeleUnitlessAmount = poolFormState.addZilAmount.shiftedBy(PELE_DECIMALS);\r\n        tmp_allowance = bnOrZero(peleToken.allowances?.[byte20ContractAddress]).comparedTo(addPeleUnitlessAmount) < 0;\r\n        if(tmp_allowance) {\r\n          tmp_token = peleToken\r\n        }\r\n      }\r\n\r\n      const tokenAddress = tmp_token.address;\r\n      const { addTokenAmount } = poolFormState;\r\n      const observedTx = await ZilswapConnector.approveTokenTransfer({\r\n        tokenAmount: addTokenAmount.shiftedBy(tmp_token!.decimals),\r\n        tokenID: tokenAddress,\r\n      });\r\n      const walletObservedTx: WalletObservedTx = {\r\n        ...observedTx!,\r\n        address: walletState.wallet?.addressInfo.bech32 || \"\",\r\n        network,\r\n      };\r\n\r\n      if (!observedTx)\r\n        throw new Error(\"Allowance already sufficient for specified amount\");\r\n      dispatch(actions.Transaction.observe({ observedTx: walletObservedTx }));\r\n      toaster(\"Submitted\", { hash: walletObservedTx.hash });\r\n    });\r\n  };\r\n\r\n  const onDoneEditing = () => {\r\n    setFormState({\r\n      tokenAmount: poolFormState.addTokenAmount.toString(),\r\n      zilAmount: poolFormState.addZilAmount.toString(),\r\n    });\r\n  };\r\n\r\n  const zilswapContractAddress = CONTRACTS[network];\r\n  const byte20ContractAddress = fromBech32Address(zilswapContractAddress).toLowerCase();\r\n  let showTxApprove = false;\r\n  if (poolToken) {\r\n    const addTokenUnitlessAmount = poolFormState.addTokenAmount.shiftedBy(poolToken.decimals);\r\n    showTxApprove = bnOrZero(poolToken.allowances?.[byte20ContractAddress]).comparedTo(addTokenUnitlessAmount) < 0\r\n    const peleToken = tokenState.tokens[PELE_ADDRESS[network]];\r\n    const addPeleUnitlessAmount = poolFormState.addZilAmount.shiftedBy(PELE_DECIMALS);\r\n    showTxApprove = showTxApprove || (bnOrZero(peleToken.allowances?.[byte20ContractAddress]).comparedTo(addPeleUnitlessAmount) < 0)\r\n  }\r\n\r\n  return (\r\n    <Box display=\"flex\" flexDirection=\"column\" {...rest} className={clsx(classes.root, className)}>\r\n      <Box className={classes.container}>\r\n        <CurrencyInput\r\n          label=\"Deposit\"\r\n          token={poolToken}\r\n          showCurrencyDialog={currencyDialogOverride}\r\n          onCloseDialog={() => setCurrencyDialogOverride(false)}\r\n          amount={formState.tokenAmount.toString()}\r\n          disabled={!poolToken}\r\n          onEditorBlur={onDoneEditing}\r\n          onAmountChange={onTokenChange}\r\n          onCurrencyChange={onPoolChange}\r\n          dialogOpts={{ hideZil: true }} />\r\n\r\n        <Box display=\"flex\" justifyContent=\"flex-end\">\r\n          <ProportionSelect\r\n            color=\"primary\"\r\n            size=\"small\"\r\n            className={classes.proportionSelect}\r\n            onSelectProp={onPercentage} />\r\n        </Box>\r\n\r\n        <Box display=\"flex\" className={classes.poolIconBox}>\r\n          <PoolIcon type=\"plus\" className={classes.poolIcon} />\r\n        </Box>\r\n\r\n        <CurrencyInput fixedToken\r\n          label=\"Deposit\"\r\n          token={tokenState.tokens[PELE_ADDRESS[network]]}\r\n          amount={formState.zilAmount}\r\n          disabled={!poolToken}\r\n          onEditorBlur={onDoneEditing}\r\n          onAmountChange={onZilChange} />\r\n\r\n        <Typography color=\"error\" className={classes.errorMessage}>{error?.message || errorApproveTx?.message}</Typography>\r\n\r\n        <FancyButton\r\n          loading={loading}\r\n          walletRequired\r\n          showTxApprove={showTxApprove}\r\n          loadingTxApprove={loadingApproveTx}\r\n          onClickTxApprove={onApproveTx}\r\n          className={classes.actionButton}\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          onClick={onAddLiquidity}>\r\n          Add Liquidity\r\n        </FancyButton>\r\n        <PoolDetail token={poolToken || undefined} />\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default PoolDeposit;\r\n","import * as React from 'react';\nimport createSvgIcon from './utils/createSvgIcon';\nexport default createSvgIcon( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M8.71 12.29L11.3 9.7c.39-.39 1.02-.39 1.41 0l2.59 2.59c.63.63.18 1.71-.71 1.71H9.41c-.89 0-1.33-1.08-.7-1.71z\"\n}), 'ArrowDropUpRounded');","import * as React from 'react';\nimport createSvgIcon from './utils/createSvgIcon';\nexport default createSvgIcon( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M8.71 11.71l2.59 2.59c.39.39 1.02.39 1.41 0l2.59-2.59c.63-.63.18-1.71-.71-1.71H9.41c-.89 0-1.33 1.08-.7 1.71z\"\n}), 'ArrowDropDownRounded');","import React, { useState } from \"react\";\r\nimport { Box, BoxProps, Button, Divider } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { ArrowDropDownRounded, ArrowDropUpRounded } from \"@material-ui/icons\";\r\nimport { Link } from \"react-router-dom\";\r\nimport cls from \"classnames\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { actions } from \"app/store\";\r\nimport { AmountLabel, ContrastBox, KeyValueDisplay, PoolLogo, Text } from \"app/components\";\r\nimport { PotentialRewards, RootState, TokenInfo, TokenState } from \"app/store/types\";\r\nimport { AppTheme } from \"app/theme/types\";\r\nimport { BIG_ZERO, ZIL_ADDRESS, PELE_ADDRESS } from \"app/utils/constants\";\r\nimport { toHumanNumber } from \"app/utils\";\r\nimport { useNetwork, useValueCalculators } from \"app/utils\";\r\nimport { EMPTY_USD_VALUE } from \"app/store/token/reducer\";\r\n\r\ninterface Props extends BoxProps {\r\n  token: TokenInfo;\r\n};\r\n\r\nconst useStyles = makeStyles((theme: AppTheme) => ({\r\n  root: {\r\n  },\r\n  buttonWrapper: {\r\n    borderRadius: \"12px\",\r\n    padding: theme.spacing(1),\r\n  },\r\n  divider: {\r\n    backgroundColor: \"rgba(20,155,163,0.3)\",\r\n    margin: theme.spacing(1, 0),\r\n  },\r\n  textGreen: {\r\n    marginTop: theme.spacing(0.2),\r\n    color: theme.palette.primary.dark\r\n  },\r\n  arrowIcon: {\r\n    color: theme.palette.label\r\n  }\r\n}));\r\n\r\nconst PoolInfoDropdown: React.FC<Props> = (props: Props) => {\r\n  const { children, className, token, ...rest } = props;\r\n  const dispatch = useDispatch();\r\n  const classes = useStyles();\r\n  const valueCalculators = useValueCalculators();\r\n  const network = useNetwork();\r\n  const potentialRewardsByPool = useSelector<RootState, PotentialRewards>((state) => state.rewards.potentialRewardsByPool);\r\n  const tokenState = useSelector<RootState, TokenState>((state) => state.token);\r\n  const [active, setActive] = useState<boolean>(false);\r\n  const poolPair: [string, string] = [token.symbol, \"PELE\"];\r\n\r\n  const onToggleDropdown = () => {\r\n    setActive(!active);\r\n  };\r\n\r\n  const poolShare = token.pool?.contributionPercentage.shiftedBy(-2) ?? BIG_ZERO;\r\n  const poolShareLabel = poolShare.shiftedBy(2).decimalPlaces(3).toString(10) ?? \"\";\r\n  const tokenAmount = poolShare.times(token.pool?.tokenReserve ?? BIG_ZERO);\r\n  const peleAmount = poolShare.times(token.pool?.zilReserve ?? BIG_ZERO);\r\n\r\n  const poolValue = valueCalculators.pool(tokenState.prices, token);\r\n  const depositedValue = poolShare.times(poolValue);\r\n\r\n  const rawPotentialRewards = potentialRewardsByPool[token.address] ?? [];\r\n  const usdValues = tokenState.values[token.address] ?? EMPTY_USD_VALUE;\r\n\r\n  const potentialRewards = rawPotentialRewards.map(item => {\r\n    const rewardToken = tokenState.tokens[item.tokenAddress];\r\n    return {\r\n      rewardToken,\r\n      amount: item.amount,\r\n      value: valueCalculators.amount(tokenState.prices, rewardToken, item.amount),\r\n    }\r\n  })\r\n\r\n  const roiPerSecond = usdValues.rewardsPerSecond.dividedBy(usdValues.poolLiquidity);\r\n  const secondsPerDay = 24 * 3600\r\n  const roiPerDay = roiPerSecond.times(secondsPerDay).shiftedBy(2).decimalPlaces(2);\r\n  const roiLabel = roiPerDay.isZero() ? \"-\" : `${roiPerDay.dp(2).toFormat()}%`\r\n\r\n  const onGotoAdd = () => {\r\n    dispatch(actions.Pool.select({ token, network }));\r\n    dispatch(actions.Layout.showPoolType(\"add\"));\r\n  };\r\n\r\n  const onGotoRemove = () => {\r\n    dispatch(actions.Pool.select({ token, network }));\r\n    dispatch(actions.Layout.showPoolType(\"remove\"));\r\n  };\r\n\r\n  return (\r\n    <Box {...rest} className={cls(classes.root, className)}>\r\n      <Button variant=\"text\" fullWidth className={classes.buttonWrapper} onClick={onToggleDropdown} disableRipple>\r\n        <Box flex={1} display=\"flex\" alignItems=\"center\">\r\n          <PoolLogo pair={poolPair} tokenAddress={token.address} />\r\n          <Text marginLeft={1}>{poolPair.join(\" - \")}</Text>\r\n          <Box flex={1} />\r\n          {active && <ArrowDropUpRounded className={classes.arrowIcon} />}\r\n          {!active && <ArrowDropDownRounded className={classes.arrowIcon} />}\r\n        </Box>\r\n      </Button>\r\n      {active && (\r\n        <ContrastBox>\r\n          <KeyValueDisplay marginBottom={1.5} kkey={`Your Pool Share (${poolShareLabel}%)`} ValueComponent=\"span\">\r\n            <AmountLabel\r\n              iconStyle=\"small\"\r\n              justifyContent=\"flex-end\"\r\n              marginBottom={1}\r\n              marginTop={-0.5}\r\n              currency={token.symbol}\r\n              address={token.address}\r\n              amount={tokenAmount}\r\n              compression={token.decimals} />\r\n            <AmountLabel\r\n              iconStyle=\"small\"\r\n              justifyContent=\"flex-end\"\r\n              currency=\"PELE\"\r\n              address={PELE_ADDRESS[network]}\r\n              amount={peleAmount} />\r\n            <Text variant=\"body2\" className={classes.textGreen} align=\"right\">\r\n              ≈ ${toHumanNumber(depositedValue, 2)}\r\n            </Text>\r\n          </KeyValueDisplay>\r\n          {\r\n            potentialRewards.map(reward => (\r\n              [\r\n                <KeyValueDisplay marginBottom={1.5} kkey=\"Your Potential Rewards\" ValueComponent=\"span\">\r\n                  <Text color=\"textPrimary\">\r\n                    {toHumanNumber(reward.amount.shiftedBy(-reward.rewardToken.decimals))} {reward.rewardToken.symbol}\r\n                  </Text>\r\n                  <Text variant=\"body2\" className={classes.textGreen} align=\"right\">\r\n                    ≈ ${toHumanNumber(reward.value, 2)}\r\n                  </Text>\r\n                </KeyValueDisplay>,\r\n                <KeyValueDisplay marginBottom={1.5} kkey=\"ROI\" ValueComponent=\"span\">\r\n                  <Text color=\"textPrimary\">{roiLabel} / daily</Text>\r\n                </KeyValueDisplay>\r\n              ]\r\n            ))\r\n          }\r\n\r\n          <Box display=\"flex\" marginTop={3}>\r\n            <Button\r\n              className={classes.buttonWrapper}\r\n              onClick={onGotoAdd}\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              fullWidth>\r\n              Add\r\n            </Button>\r\n            <Box margin={1} />\r\n            <Button\r\n              className={classes.buttonWrapper}\r\n              onClick={onGotoRemove}\r\n              component={Link}\r\n              to=\"/pool\"\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              fullWidth>\r\n              Remove\r\n            </Button>\r\n          </Box>\r\n        </ContrastBox>\r\n      )}\r\n      <Divider className={classes.divider} />\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default PoolInfoDropdown;\r\n","import React from \"react\";\r\nimport { Box, BoxProps, Button, CircularProgress } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport cls from \"classnames\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { ContrastBox, Text } from \"app/components\";\r\nimport { ReactComponent as NewLinkIcon } from \"app/components/new_link.svg\";\r\nimport { actions } from \"app/store\";\r\nimport { RootState, TokenInfo, TokenState, WalletState } from \"app/store/types\";\r\nimport { AppTheme } from \"app/theme/types\";\r\nimport { useTaskSubscriber } from \"app/utils\";\r\nimport { LoadingKeys } from \"app/utils/constants\";\r\nimport { PoolInfoDropdown } from \"./components\";\r\n\r\ninterface Props extends BoxProps {\r\n\r\n}\r\n\r\nconst useStyles = makeStyles((theme: AppTheme) => ({\r\n  root: {\r\n    padding: theme.spacing(2, 4, 0),\r\n    [theme.breakpoints.down(\"xs\")]: {\r\n      padding: theme.spacing(2, 2, 0),\r\n    },\r\n  },\r\n  viewPoolsButton: {\r\n    \"& svg\": {\r\n      marginLeft: theme.spacing(1),\r\n    },\r\n  },\r\n  actionButton: {\r\n    height: 46\r\n  },\r\n  newLinkIcon: {\r\n    \"& path\": {\r\n      fill: theme.palette.icon\r\n    }\r\n  }\r\n}));\r\n\r\nconst PoolManage: React.FC<Props> = (props: Props) => {\r\n  const { children, className, ...rest } = props;\r\n  const classes = useStyles();\r\n  const dispatch = useDispatch();\r\n  const [loadingConnectWallet] = useTaskSubscriber(...LoadingKeys.connectWallet);\r\n  const tokenState = useSelector<RootState, TokenState>(state => state.token);\r\n  const walletState = useSelector<RootState, WalletState>(state => state.wallet);\r\n\r\n  const {\r\n    tokens,\r\n  } = React.useMemo(() => {\r\n\r\n    const tokens = Object.values(tokenState.tokens).reduce((accum, token) => {\r\n      if (token.pool?.contributionPercentage.gt(0))\r\n        accum.push(token);\r\n      return accum;\r\n    }, [] as TokenInfo[])\r\n\r\n    return {\r\n      tokens,\r\n    };\r\n  }, [tokenState]);\r\n\r\n  const onGotoAdd = () => {\r\n    dispatch(actions.Layout.showPoolType(\"add\"));\r\n  };\r\n\r\n  const onConnectWallet = () => {\r\n    if (loadingConnectWallet) return;\r\n\r\n    dispatch(actions.Layout.toggleShowWallet(\"open\"));\r\n  };\r\n\r\n  return (\r\n    <Box display=\"flex\" flexDirection=\"column\" {...rest} className={cls(classes.root, className)}>\r\n      <Text variant=\"h4\">Your Pools</Text>\r\n\r\n      {!loadingConnectWallet && (\r\n        <Box marginTop={2} marginBottom={5}>\r\n          {tokens.map((token) => (\r\n            <PoolInfoDropdown key={token.address} token={token} />\r\n          ))}\r\n          {!tokens.length && !!walletState.wallet && (\r\n            <ContrastBox display=\"flex\" flexDirection=\"column\" alignItems=\"center\">\r\n              <Text marginBottom={2}>You don't have shares in any liquidity pool yet.</Text>\r\n              <Button variant=\"contained\" color=\"primary\" onClick={onGotoAdd}>Add Liquidity Now</Button>\r\n            </ContrastBox>\r\n          )}\r\n          {!walletState.wallet && (\r\n            <Button\r\n              onClick={onConnectWallet}\r\n              className={classes.actionButton}\r\n              fullWidth\r\n              variant=\"contained\"\r\n              color=\"primary\">\r\n              Connect Wallet\r\n            </Button>\r\n          )}\r\n        </Box>\r\n      )}\r\n      {loadingConnectWallet && (\r\n        <ContrastBox padding={3} marginY={2} justifyContent=\"center\" display=\"flex\">\r\n          <CircularProgress color=\"primary\" />\r\n        </ContrastBox>\r\n      )}\r\n\r\n      <Box display=\"flex\" justifyContent=\"center\" marginBottom={5}>\r\n        <Button component={Link} variant=\"text\" to=\"/pools\" size=\"small\" className={classes.viewPoolsButton}>\r\n          <Box display=\"flex\" alignItems=\"center\">\r\n            <Text color=\"inherit\">View All Pools</Text>\r\n            <NewLinkIcon className={classes.newLinkIcon}/>\r\n          </Box>\r\n        </Button>\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default PoolManage;\r\n","import React from \"react\";\r\nimport { Button, ButtonGroup, ButtonGroupProps } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport cls from \"classnames\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { actions } from \"app/store\";\r\nimport { PoolType, RootState } from \"app/store/types\";\r\nimport { AppTheme } from \"app/theme/types\";\r\n\r\nconst useStyles = makeStyles((theme: AppTheme) => ({\r\n  root: {\r\n  },\r\n  tab: {\r\n    borderRadius: 12,\r\n    width: 90,\r\n    padding: theme.spacing(1.5, 4),\r\n    [theme.breakpoints.down(\"xs\")]: {\r\n      width: 76,\r\n      padding: theme.spacing(1, 2),\r\n      \"& .MuiButton-label\": {\r\n        fontSize: \"14px\",\r\n      },\r\n    },\r\n    '&:not(:first-child)': {\r\n      borderTopLeftRadius: 0,\r\n      borderBottomLeftRadius: 0,\r\n      border: theme.palette.border,\r\n    },\r\n    '&:not(:last-child)': {\r\n      borderTopRightRadius: 0,\r\n      borderBottomRightRadius: 0,\r\n      border: theme.palette.border,\r\n    },\r\n  },\r\n}));\r\nconst PoolToggleButton: React.FC<ButtonGroupProps> = (props: ButtonGroupProps) => {\r\n  const { children, className, ...rest } = props;\r\n  const classes = useStyles();\r\n  const dispatch = useDispatch();\r\n  const poolType = useSelector<RootState, PoolType>(state => state.layout.showPoolType);\r\n\r\n  const onTypeChange = (type: PoolType) => {\r\n    if (type !== poolType)\r\n      dispatch(actions.Layout.showPoolType(type));\r\n  };\r\n\r\n  return (\r\n    <ButtonGroup {...rest} color=\"secondary\" className={cls(classes.root, className)}>\r\n      <Button\r\n        onClick={() => onTypeChange(\"add\")}\r\n        variant={poolType === \"add\" ? \"contained\" : \"outlined\"}\r\n        className={classes.tab}>\r\n        Add\r\n      </Button>\r\n      <Button\r\n        onClick={() => onTypeChange(\"manage\")}\r\n        variant={poolType === \"manage\" ? \"contained\" : \"outlined\"}\r\n        className={classes.tab}>\r\n        Manage\r\n      </Button>\r\n    </ButtonGroup>\r\n  );\r\n};\r\n\r\nexport default PoolToggleButton;\r\n","\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { Box, Button, Divider, IconButton, Typography } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { ArrowBack } from \"@material-ui/icons\";\r\nimport BrightnessLowIcon from '@material-ui/icons/BrightnessLowRounded';\r\nimport ViewHeadlineIcon from '@material-ui/icons/ViewHeadline';\r\nimport BigNumber from \"bignumber.js\";\r\nimport clsx from \"clsx\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { ZilswapConnector, toBasisPoints } from \"core/zilswap\";\r\nimport { ContrastBox, CurrencyInput, CurrencyLogo, FancyButton, KeyValueDisplay, ProportionSelect, Text } from \"app/components\";\r\nimport { actions } from \"app/store\";\r\nimport { LayoutState, PoolFormState, RootState, SwapFormState, TokenInfo, TokenState, WalletObservedTx, WalletState } from \"app/store/types\";\r\nimport { AppTheme } from \"app/theme/types\";\r\nimport { hexToRGBA, useAsyncTask, useMoneyFormatter, useNetwork, useToaster } from \"app/utils\";\r\nimport { MoneyFormatterOptions } from \"app/utils/useMoneyFormatter\";\r\nimport { BIG_ZERO, ZIL_ADDRESS } from \"app/utils/constants\";\r\nimport PoolDetail from \"../PoolDetail\";\r\n\r\nconst useStyles = makeStyles((theme: AppTheme) => ({\r\n  root: {\r\n  },\r\n  container: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    justifyContent: \"space-around\",\r\n    padding: theme.spacing(0, 4, 0),\r\n    [theme.breakpoints.down(\"xs\")]: {\r\n      padding: theme.spacing(0, 2, 0),\r\n    },\r\n  },\r\n  proportionSelect: {\r\n    marginTop: 3,\r\n    marginBottom: 4,\r\n  },\r\n  input: {\r\n    marginTop: 12,\r\n    marginBottom: 20\r\n  },\r\n  svg: {\r\n    alignSelf: \"center\",\r\n    marginBottom: 12\r\n  },\r\n  actionButton: {\r\n    marginTop: theme.spacing(4),\r\n    marginBottom: theme.spacing(4),\r\n    height: 46\r\n  },\r\n  backButton: {\r\n    borderRadius: 12,\r\n    marginLeft: theme.spacing(-2),\r\n    color: theme.palette.text?.primary\r\n  },\r\n  readOnly: {\r\n    textAlign: \"left\",\r\n    color: theme.palette.text?.primary,\r\n    padding: theme.spacing(1.5, 2.5),\r\n  },\r\n  previewAmount: {\r\n    fontSize: 22,\r\n    lineHeight: \"24px\",\r\n    fontWeight: \"bold\",\r\n    [theme.breakpoints.down(\"md\")]: {\r\n      fontSize: 20,\r\n    },\r\n    color: theme.palette.primary.dark,\r\n    marginBottom: theme.spacing(1)\r\n  },\r\n  keyValueLabel: {\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  poolDetails: {\r\n    marginBottom: theme.spacing(2),\r\n  },\r\n  advanceDetails: {\r\n    marginBottom: theme.spacing(2),\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    display: \"flex\",\r\n    color: theme.palette.text!.secondary,\r\n    cursor: \"pointer\"\r\n  },\r\n  primaryColor: {\r\n    color: theme.palette.primary.main\r\n  },\r\n  showAdvanced: {\r\n    padding: theme.spacing(2.5, 8),\r\n    [theme.breakpoints.down(\"xs\")]: {\r\n      padding: theme.spacing(2.5, 2),\r\n    },\r\n  },\r\n  text: {\r\n    fontWeight: 400,\r\n    letterSpacing: 0\r\n  },\r\n  divider: {\r\n    marginTop: theme.spacing(2),\r\n    // marginBottom: theme.spacing(2),\r\n    backgroundColor: `rgba${hexToRGBA(theme.palette.primary.main, 0.3)}`\r\n  },\r\n  errorMessage: {\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  label: {\r\n    color: theme.palette.primary.contrastText,\r\n  },\r\n  iconButton: {\r\n    color: theme.palette?.label,\r\n    backgroundColor: theme.palette?.currencyInput,\r\n    borderRadius: 12,\r\n    padding: 5,\r\n    marginLeft: 5,\r\n  },\r\n  viewIcon: {\r\n    color: theme.palette.type === \"dark\" ? \"#00FFB0\" : `rgba${hexToRGBA(\"#003340\", 0.5)}`,\r\n    position: \"absolute\",\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    marginLeft: \"-12px\",\r\n    marginTop: \"-12px\"\r\n  },\r\n  box: {\r\n    backgroundColor: theme.palette?.currencyInput,\r\n    border: `3px solid rgba${hexToRGBA(\"#00FFB0\", 0.2)}`,\r\n    margin: \"2px\",\r\n  },\r\n  currencyText: {\r\n    fontSize: 20,\r\n  },\r\n  header: {\r\n    fontSize: 16\r\n  },\r\n  token: {\r\n    fontSize: 22,\r\n    lineHeight: \"24px\",\r\n    [theme.breakpoints.down(\"md\")]: {\r\n      fontSize: 20,\r\n    },\r\n    marginLeft: 4\r\n  }\r\n}));\r\n\r\nconst initialFormState = {\r\n  tokenAmount: \"0\",\r\n  removeContribution: BIG_ZERO,\r\n};\r\n\r\nconst PoolWithdraw: React.FC<React.HTMLAttributes<HTMLDivElement>> = (props: any) => {\r\n  const { children, className, ...rest } = props;\r\n  const classes = useStyles();\r\n  const dispatch = useDispatch();\r\n  const [formState, setFormState] = useState<typeof initialFormState>(initialFormState);\r\n  const [currencyDialogOverride, setCurrencyDialogOverride] = useState<boolean>(false);\r\n  const [runRemoveLiquidity, loading, error] = useAsyncTask(\"poolRemoveLiquidity\");\r\n  const network = useNetwork();\r\n  const poolFormState = useSelector<RootState, PoolFormState>(state => state.pool);\r\n  const swapFormState = useSelector<RootState, SwapFormState>(state => state.swap);\r\n  const walletState = useSelector<RootState, WalletState>(state => state.wallet);\r\n  const poolToken = useSelector<RootState, TokenInfo | null>(state => state.pool.token);\r\n  const layoutState = useSelector<RootState, LayoutState>(state => state.layout);\r\n  const formatMoney = useMoneyFormatter({ showCurrency: true, maxFractionDigits: 6 });\r\n  const tokenState = useSelector<RootState, TokenState>(state => state.token);\r\n\r\n  const userPoolTokenPercent = poolToken?.pool?.contributionPercentage.shiftedBy(-2);\r\n  const inPoolAmount = poolToken?.pool?.tokenReserve.times(userPoolTokenPercent || 0);\r\n\r\n  const zilToken = tokenState.tokens[ZIL_ADDRESS]\r\n  const toaster = useToaster();\r\n\r\n  const zilFormatOpts: MoneyFormatterOptions = {\r\n    // symbol: \"ZIL\",\r\n    compression: 12,\r\n  };\r\n\r\n  const formatOpts: MoneyFormatterOptions = {\r\n    // symbol: poolToken?.symbol,\r\n    compression: poolToken?.decimals,\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (poolToken && currencyDialogOverride) {\r\n      setCurrencyDialogOverride(false);\r\n    }\r\n  }, [poolToken, currencyDialogOverride]);\r\n\r\n  useEffect(() => {\r\n    if (!poolFormState.forNetwork) return\r\n\r\n    // clear form if network changed\r\n    if (poolFormState.forNetwork !== network) {\r\n      setFormState({ ...initialFormState })\r\n      dispatch(actions.Pool.clear());\r\n    }\r\n\r\n    // eslint-disable-next-line\r\n  }, [network]);\r\n\r\n  const onPoolChange = (token: TokenInfo) => {\r\n    if (!token.pool) return;\r\n    dispatch(actions.Pool.select({ token, network }));\r\n    onTokenChange(\"0\");\r\n  };\r\n\r\n  const updateFormStates = (tokenAmount: BigNumber, removeContribution: BigNumber, inputAmount?: string) => {\r\n\r\n    setFormState({\r\n      tokenAmount: inputAmount || tokenAmount.toString(),\r\n      removeContribution,\r\n    });\r\n\r\n    if (poolToken?.pool) {\r\n      const zilAmount = tokenAmount.times(poolToken.pool.exchangeRate).decimalPlaces(poolToken.decimals);\r\n      dispatch(actions.Pool.update({\r\n        forNetwork: network,\r\n        removeZilAmount: zilAmount.shiftedBy(poolToken.decimals),\r\n        removeTokenAmount: tokenAmount.shiftedBy(poolToken.decimals),\r\n      }));\r\n    }\r\n  };\r\n\r\n  const onPercentage = (percentage: number) => {\r\n    if (!poolToken?.pool) return;\r\n    const removeContribution = poolToken.pool.userContribution.times(percentage).decimalPlaces(0) || BIG_ZERO;\r\n    const tokenAmount = removeContribution.div(poolToken.pool.totalContribution).times(poolToken.pool.tokenReserve).decimalPlaces(0);\r\n\r\n    updateFormStates(tokenAmount.shiftedBy(-poolToken.decimals), removeContribution);\r\n  };\r\n\r\n  const onTokenChange = (inputAmount: string = \"0\") => {\r\n    if (poolToken?.pool) {\r\n      let bnTokenAmount = new BigNumber(inputAmount);\r\n      if (bnTokenAmount.isNegative() || bnTokenAmount.isNaN())\r\n        bnTokenAmount = BIG_ZERO;\r\n\r\n      const userContribution = poolToken.pool.userContribution;\r\n      const removeRatio = bnTokenAmount.div(poolToken.pool.tokenReserve.shiftedBy(-poolToken.decimals));\r\n      let removeContribution = poolToken.pool.totalContribution.times(removeRatio).decimalPlaces(0);\r\n\r\n      // replace input with max available tokens/contribution\r\n      // input will only visually update onBlur to preserve UX\r\n      if (removeContribution.isGreaterThan(userContribution!)) {\r\n        bnTokenAmount = inPoolAmount!.decimalPlaces(0).shiftedBy(-poolToken.decimals);\r\n        removeContribution = poolToken.pool.userContribution;\r\n      }\r\n\r\n      updateFormStates(bnTokenAmount, removeContribution, inputAmount);\r\n    }\r\n  };\r\n\r\n  const onRemoveLiquidity = () => {\r\n    if (!poolToken) return setCurrencyDialogOverride(true);\r\n    if (poolFormState.removeTokenAmount.isZero()) return;\r\n    if (loading) return;\r\n\r\n    runRemoveLiquidity(async () => {\r\n      const tokenAddress = poolToken.address;\r\n      const removeContribution = formState.removeContribution;\r\n      const slippage = swapFormState.slippage;\r\n\r\n      ZilswapConnector.setDeadlineBlocks(swapFormState.expiry);\r\n      const observedTx = await ZilswapConnector.removeLiquidity({\r\n        tokenID: tokenAddress,\r\n        contributionAmount: removeContribution,\r\n        maxExchangeRateChange: toBasisPoints(slippage).toNumber(),\r\n      });\r\n      const walletObservedTx: WalletObservedTx = {\r\n        ...observedTx!,\r\n        address: walletState.wallet?.addressInfo.bech32 || \"\",\r\n        network,\r\n      };\r\n\r\n      const updatedPool = ZilswapConnector.getPool(tokenAddress) || undefined;\r\n      dispatch(actions.Token.update({\r\n        address: tokenAddress,\r\n        pool: updatedPool,\r\n      }));\r\n      dispatch(actions.Transaction.observe({ observedTx: walletObservedTx }));\r\n      toaster(\"Submitted\", { hash: walletObservedTx.hash });\r\n    });\r\n  };\r\n\r\n  const onBack = () => {\r\n    dispatch(actions.Layout.showPoolType(\"manage\"));\r\n  };\r\n\r\n  const onDoneEditing = () => {\r\n    setFormState({\r\n      ...formState,\r\n      tokenAmount: poolFormState.removeTokenAmount.shiftedBy(-(poolToken?.decimals || 0)).toString(),\r\n    });\r\n  };\r\n\r\n  const liquidityTokenRate = poolToken?.pool?.totalContribution.isPositive() ? poolToken!.pool!.tokenReserve.div(poolToken!.pool!.totalContribution) : BIG_ZERO;\r\n\r\n  const toggleAdvancedSetting = () => {\r\n    dispatch(actions.Layout.showAdvancedSetting(!layoutState.showAdvancedSetting));\r\n  }\r\n\r\n  return (\r\n    <Box display=\"flex\" flexDirection=\"column\"  {...rest} className={clsx(classes.root, className)}>\r\n      <Box className={classes.container}>\r\n        <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\" marginY={4}>\r\n          <Button variant=\"text\" onClick={onBack} className={classes.backButton}>\r\n            <ArrowBack />\r\n            <Text variant=\"h4\" marginLeft={1}>Remove Liquidity</Text>\r\n          </Button>\r\n\r\n          <IconButton onClick={() => toggleAdvancedSetting()} className={classes.iconButton}>\r\n            <BrightnessLowIcon />\r\n          </IconButton>\r\n        </Box>\r\n\r\n        <CurrencyInput\r\n          hideBalance\r\n          showPoolBalance\r\n          showCurrencyDialog={currencyDialogOverride}\r\n          onCloseDialog={() => setCurrencyDialogOverride(false)}\r\n          label=\"Withdraw Token\"\r\n          token={poolToken}\r\n          amount={formState.tokenAmount}\r\n          disabled={!poolToken}\r\n          onEditorBlur={onDoneEditing}\r\n          onAmountChange={onTokenChange}\r\n          onCurrencyChange={onPoolChange}\r\n          dialogOpts={{\r\n            hideNoPool: true,\r\n            hideZil: true,\r\n          }} />\r\n\r\n        <Box display=\"flex\" justifyContent=\"flex-end\">\r\n          <ProportionSelect\r\n            color=\"primary\"\r\n            size=\"small\"\r\n            className={classes.proportionSelect}\r\n            onSelectProp={onPercentage} />\r\n        </Box>\r\n\r\n        <Text align=\"center\" marginTop={1} className={classes.header}>You Receive</Text>\r\n\r\n        <Box marginTop={1.5} display=\"flex\" bgcolor=\"background.contrast\" padding={0.5} borderRadius={12} position=\"relative\">\r\n          <Box className={classes.box} display=\"flex\" flexDirection=\"column\" alignItems=\"start\" flex={1} borderRadius={12}>\r\n            <Box py={\"4px\"} px={\"16px\"}>\r\n              <Box display=\"flex\" alignItems=\"flex-end\" mt={1} mb={1}>\r\n                <CurrencyLogo currency={zilToken.symbol} address={zilToken.address} />\r\n                <Typography className={classes.token}>ZIL</Typography>\r\n\r\n              </Box>\r\n              <Typography className={classes.previewAmount}>\r\n                {formatMoney(poolFormState.removeZilAmount, zilFormatOpts)}\r\n              </Typography>\r\n            </Box>\r\n          </Box>\r\n          <ViewHeadlineIcon className={classes.viewIcon} />\r\n          <Box className={classes.box} display=\"flex\" flexDirection=\"column\" alignItems=\"start\" flex={1} borderRadius={12}>\r\n            <Box py={\"4px\"} px={\"16px\"}>\r\n              <Box display=\"flex\" alignItems=\"flex-end\" mt={1} mb={1}>\r\n                <CurrencyLogo currency={poolFormState?.token?.symbol} address={poolFormState?.token?.address} />\r\n                <Typography className={classes.token}>{poolFormState?.token?.symbol}</Typography>\r\n              </Box>\r\n              <Typography className={classes.previewAmount}>\r\n                ≈ {formatMoney(poolFormState.removeTokenAmount, formatOpts)}\r\n              </Typography>\r\n            </Box>\r\n          </Box>\r\n        </Box>\r\n\r\n        <Typography className={classes.errorMessage} color=\"error\">{error?.message}</Typography>\r\n\r\n        <FancyButton walletRequired\r\n          loading={loading}\r\n          className={classes.actionButton}\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          onClick={onRemoveLiquidity}>\r\n          Remove Liquidity\r\n        </FancyButton>\r\n        <PoolDetail className={classes.poolDetails} token={poolToken || undefined} />\r\n      </Box>\r\n\r\n      {!!layoutState.showAdvancedSetting && !!poolToken && (\r\n        <>\r\n          <ContrastBox className={classes.showAdvanced}>\r\n            <Typography className={classes.text} variant=\"body2\">\r\n              You are removing{\" \"}\r\n              <strong>{formatMoney(poolFormState.removeZilAmount, zilFormatOpts)} + {formatMoney(poolFormState.removeTokenAmount, formatOpts)}</strong>\r\n            from the liquidity pool.{\" \"}\r\n              <strong>(~{formatMoney(poolFormState.removeTokenAmount, { ...formatOpts, showCurrency: true })} Pool Token)</strong>\r\n            </Typography>\r\n\r\n            <Divider className={classes.divider} />\r\n\r\n            <KeyValueDisplay mt={\"22px\"} kkey={\"Current Total Supply\"}>\r\n              {formatMoney(poolToken?.pool?.tokenReserve || 0, { ...formatOpts })} Pool Token\r\n          </KeyValueDisplay>\r\n            <KeyValueDisplay mt={\"8px\"} kkey={\"Each Pool Token Value\"}>\r\n              {formatMoney(new BigNumber(liquidityTokenRate).times(poolToken?.pool?.exchangeRate || 0), { ...zilFormatOpts, compression: 0 })}\r\n              {\" \"}+{\" \"}\r\n              {formatMoney(new BigNumber(liquidityTokenRate).shiftedBy(poolToken?.decimals || 0), formatOpts)}\r\n            </KeyValueDisplay>\r\n\r\n            <Divider className={classes.divider} />\r\n          </ContrastBox>\r\n        </>\r\n      )}\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default PoolWithdraw;\r\n","import React from \"react\";\r\nimport { Box, Button, IconButton, } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport cls from \"classnames\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport BrightnessLowIcon from '@material-ui/icons/BrightnessLowRounded';\r\nimport { Notifications, ShowAdvanced } from \"app/components\";\r\nimport MainCard from \"app/layouts/MainCard\";\r\nimport { actions } from \"app/store\";\r\nimport { LayoutState, OpenCloseState, PoolFormState, RootState } from \"app/store/types\";\r\nimport { AppTheme } from \"app/theme/types\";\r\nimport { CreatePoolDialog, NewPoolMessage, PoolDeposit, PoolManage, PoolToggleButton, PoolWithdraw } from \"./components\";\r\nimport AddLiquidityEarnMessage from \"./components/AddLiquidityEarnMessage\";\r\nimport { ReactComponent as PlusSVG } from \"./plus_icon.svg\";\r\n\r\nconst useStyles = makeStyles((theme: AppTheme) => ({\r\n  root: {\r\n  },\r\n  container: {\r\n    padding: theme.spacing(4, 4, 0),\r\n    [theme.breakpoints.down(\"xs\")]: {\r\n      padding: theme.spacing(2, 2, 0),\r\n    },\r\n    marginBottom: 12\r\n  },\r\n  createButton: {\r\n    borderRadius: 12,\r\n  },\r\n  actionButton: {\r\n    marginTop: 45,\r\n    marginBottom: 40,\r\n    height: 46\r\n  },\r\n  iconButton: {\r\n    color: theme.palette.label,\r\n    backgroundColor: theme.palette.currencyInput,\r\n    borderRadius: 12,\r\n    padding: 5,\r\n    marginLeft: 5,\r\n  },\r\n  advancedSettingContainer: {\r\n    padding: theme.spacing(0, 4, 2),\r\n    [theme.breakpoints.down(\"xs\")]: {\r\n      padding: theme.spacing(0, 2, 2),\r\n    },\r\n  },\r\n  plusIcon: {\r\n    \"& path\": {\r\n      fill: theme.palette.icon\r\n    }\r\n  }\r\n}));\r\nconst PoolView: React.FC<React.HTMLAttributes<HTMLDivElement>> = (props: any) => {\r\n  const { children, className, ...rest } = props;\r\n  const classes = useStyles();\r\n  const dispatch = useDispatch();\r\n  const poolFormState = useSelector<RootState, PoolFormState>(state => state.pool);\r\n  const layoutState = useSelector<RootState, LayoutState>(state => state.layout);\r\n\r\n  const { token: poolToken } = poolFormState;\r\n  const { showPoolType: poolType, showCreatePool } = layoutState;\r\n\r\n  const onShowCreatePool = (override: OpenCloseState) => {\r\n    dispatch(actions.Layout.toggleShowCreatePool(override));\r\n  };\r\n\r\n  const toggleAdvancedSetting = () => {\r\n    dispatch(actions.Layout.showAdvancedSetting(!layoutState.showAdvancedSetting));\r\n  }\r\n\r\n  return (\r\n    <MainCard {...rest} className={cls(classes.root, className)}>\r\n      <Notifications />\r\n      {!poolToken?.pool && (\r\n        <NewPoolMessage token={poolToken || undefined} />\r\n      )}\r\n      <AddLiquidityEarnMessage />\r\n\r\n      {!layoutState.showAdvancedSetting && (\r\n        <Box display=\"flex\" flexDirection=\"column\">\r\n          {poolType !== \"remove\" && (\r\n            <Box display=\"flex\" justifyContent=\"space-between\" mb=\"28px\" className={classes.container}>\r\n              <PoolToggleButton />\r\n              <Button className={classes.createButton} startIcon={<PlusSVG className={classes.plusIcon}/>} onClick={() => onShowCreatePool(\"open\")}>\r\n                Create Pool\r\n            </Button>\r\n            </Box>\r\n          )}\r\n          {poolType === \"add\" && (\r\n            <Box display=\"flex\" justifyContent=\"flex-end\" className={classes.advancedSettingContainer}>\r\n              <IconButton onClick={() => toggleAdvancedSetting()} className={classes.iconButton}>\r\n                <BrightnessLowIcon />\r\n              </IconButton>\r\n            </Box>\r\n          )}\r\n          {poolType === \"add\" && (<PoolDeposit />)}\r\n          {poolType === \"manage\" && (<PoolManage />)}\r\n          {poolType === \"remove\" && (<PoolWithdraw />)}\r\n\r\n        </Box>\r\n      )}\r\n      <ShowAdvanced showAdvanced={layoutState.showAdvancedSetting} />\r\n      <CreatePoolDialog open={showCreatePool} onCloseDialog={() => onShowCreatePool(\"close\")} />\r\n    </MainCard>\r\n  );\r\n};\r\n\r\nexport default PoolView;\r\n"],"sourceRoot":""}