(this["webpackJsonpzilswap-webapp"]=this["webpackJsonpzilswap-webapp"]||[]).push([[7,14],{2013:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(7),r=(n(1),n(1947)),o=n(2001),i=n(0),c=Object(r.a)((function(e){var t;return{root:(t={flex:1,padding:e.spacing(8,0,2)},Object(a.a)(t,e.breakpoints.down("sm"),{padding:e.spacing(6,0,2)}),Object(a.a)(t,e.breakpoints.down("xs"),{padding:e.spacing(6,2,2)}),t)}})),s=function(e){var t=e.children,n=c();return Object(i.jsx)(o.a,{className:n.root,children:t})}},2016:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var a,r,o,i=n(1),c=["title","titleId"];function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function d(e,t){var n=e.title,d=e.titleId,b=l(e,c);return i.createElement("svg",s({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":d},b),n?i.createElement("title",{id:d},n):null,a||(a=i.createElement("path",{d:"M23 12L20.56 9.21L20.9 5.52L17.29 4.7L15.4 1.5L12 2.96L8.6 1.5L6.71 4.69L3.1 5.5L3.44 9.2L1 12L3.44 14.79L3.1 18.49L6.71 19.31L8.6 22.5L12 21.03L15.4 22.49L17.29 19.3L20.9 18.48L20.56 14.79L23 12ZM9.38 16.01L7 13.61C6.61 13.22 6.61 12.59 7 12.2L7.07 12.13C7.46 11.74 8.1 11.74 8.49 12.13L10.1 13.75L15.25 8.59C15.64 8.2 16.28 8.2 16.67 8.59L16.74 8.66C17.13 9.05 17.13 9.68 16.74 10.07L10.82 16.01C10.41 16.4 9.78 16.4 9.38 16.01Z",fill:"#00FFB0"})),r||(r=i.createElement("ellipse",{cx:11.5,cy:11.5,rx:7.5,ry:6.5,fill:"#00FFB0"})),o||(o=i.createElement("path",{d:"M11.1671 19.5H10.3338L11.1671 13.6667H8.25042C7.76709 13.6667 7.77542 13.4 7.93375 13.1167C8.09209 12.8333 7.97542 13.05 7.99209 13.0167C9.06709 11.1167 10.6838 8.28333 12.8338 4.5H13.6671L12.8338 10.3333H15.7504C16.1588 10.3333 16.2171 10.6083 16.1421 10.7583L16.0838 10.8833C12.8004 16.625 11.1671 19.5 11.1671 19.5Z",fill:"#003340",fillOpacity:.5})))}var b=i.forwardRef(d);n.p},2018:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return q}));var a,r=n(7),o=n(3),i=n(2),c=n.n(i),s=n(20),l=n(12),d=n(26),b=n(1),u=n(1973),p=n(2001),j=n(121),m=n(1905),f=n(1911),g=n(1958),h=n(1956),x=n(1947),O=n(86),v=n(28),y=n.n(v),w=n(10),k=n.n(w),C=n(16),B=n(61),N=n(67),T=n(34),F=n(2013),L=n(43),S=n(9),I=n(22),E=n(47),A=n(21),P=["title","titleId"];function R(){return(R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function M(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function D(e,t){var n=e.title,r=e.titleId,o=M(e,P);return b.createElement("svg",R({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},o),n?b.createElement("title",{id:r},n):null,a||(a=b.createElement("path",{d:"M16.6663 5L7.49967 14.1667L3.33301 10",stroke:"black",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})))}var z=b.forwardRef(D),H=(n.p,n(0)),W=["className"],Z=Object(x.a)((function(e){var t;return{root:(t={},Object(r.a)(t,e.breakpoints.down("xs"),{padding:0}),Object(r.a)(t,"display","flex"),Object(r.a)(t,"flexDirection","column"),Object(r.a)(t,"justifyContent","center"),Object(r.a)(t,"alignItems","center"),t),container:{maxWidth:"680px",width:"100%",display:"row"},contentBox:Object(r.a)({display:"flex"},e.breakpoints.down("sm"),{width:"100%",flexDirection:"column-reverse"}),nftBox:Object(r.a)({marginLeft:e.spacing(6)},e.breakpoints.down("sm"),{width:"100%",marginLeft:0}),nftCard:{maxWidth:"none"},description:{"& .MuiTypography-root":{marginBottom:6,textTransform:"uppercase"},"& .MuiInputBase-input":{height:"80px !important"}},label:{fontSize:"18px",color:"dark"===e.palette.type?"#DEFFFF":"#0D1B24",fontWeight:"bold",width:150,overflowX:"visible",textTransform:"uppercase",marginBottom:1},instruction:Object(r.a)({color:"dark"===e.palette.type?"#DEFFFF":"#0D1B24",fontSize:12,margin:0,opacity:.5},e.breakpoints.up("sm"),{width:400}),saleTypeButton:{padding:20,borderRadius:12,backgroundColor:"rgba(255,255,255,0.1)",flexGrow:1,outline:"none",border:"none",color:"dark"===e.palette.type?"#DEFFFF":"#0D1B24",fontWeight:"bold",cursor:"pointer"},saleTypeButtonSelected:{backgroundColor:"#00FFB0",color:"#003340"},actionButton:{height:58,marginTop:24},feeLabel:{fontWeight:"bold",flexGrow:1,fontSize:"14px"},feeValue:{fontWeight:"bold",fontSize:"14px"},dialogRoot:{"& .MuiDialogTitle-root":{padding:e.spacing(4.5,4.5,5),"& .MuiTypography-root":{fontFamily:"'Raleway', sans-serif",fontWeight:700,fontSize:"24px"},"& .MuiSvgIcon-root":{fontSize:"1.8rem"},"& .MuiIconButton-root":{top:"21px",right:"21px"}},position:"relative"},dialogContent:Object(r.a)({backgroundColor:e.palette.background.default,borderLeft:e.palette.border,borderRight:e.palette.border,borderBottom:e.palette.border,borderRadius:"0 0 12px 12px",padding:e.spacing(0,4.5,5)},e.breakpoints.up("sm"),{width:436}),dialogButton:{height:42,marginTop:6},progress:{position:"absolute"},step:{width:110,height:52,borderRadius:26,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#223139",marginRight:24,position:"relative",maxWidth:54.5,minWidth:53.75},stepLabel:{fontWeight:"bold",fontSize:14,marginBottom:2},stepActive:{backgroundColor:"#6BE1FF",color:"#003340"},stepCompleted:{backgroundColor:"#00FFB0",color:"#003340"},stepBar:{position:"absolute",top:50,left:25,height:44,width:6,backgroundColor:"#223139",backgroundImage:"linear-gradient(#6BE1FF, #223139)",zIndex:0},stepBarFirstStepCompleted:{backgroundImage:"linear-gradient(#00FFB0, #6BE1FF)"},stepBarCompleted:{backgroundImage:"linear-gradient(#00FFB0, #00FFB0)"},breakWord:{wordBreak:"break-word"}}})),q=function(e){var t,n,a,i,x,v,w,P=e.className,R=Object(d.a)(e,W),M=Z(),D=Object(C.c)(L.a).network,q=Object(C.c)(L.g).wallet,_=Object(C.c)(L.e),K=Object(C.c)(L.c).exchangeInfo,V=Object(S.B)(),G=Object(B.n)(),U=Object(b.useState)(!1),X=Object(l.a)(U,2),Y=X[0],J=X[1],$=Object(b.useState)(0),Q=Object(l.a)($,2),ee=Q[0],te=Q[1],ne=Object(S.o)("confirmSell",(function(){return J(!1)})),ae=Object(l.a)(ne,3),re=ae[0],oe=ae[1],ie=ae[2],ce=Object(S.o)("runGetNFTDetails"),se=Object(l.a)(ce,1)[0],le=Object(b.useState)(),de=Object(l.a)(le,2),be=de[0],ue=de[1],pe=Object(b.useState)(!1),je=Object(l.a)(pe,2),me=je[0],fe=je[1],ge=Object(S.z)(),he=Object(b.useState)({description:"",saleType:"fixed_price",sellToken:_.tokens[A.D],buyNowPrice:"0",startingPrice:"0",reservePrice:"0"}),xe=Object(l.a)(he,2),Oe=xe[0],ve=xe[1],ye=Object(b.useState)(!1),we=Object(l.a)(ye,2),ke=we[0],Ce=we[1],Be=Object(b.useState)(!1),Ne=Object(l.a)(Be,2),Te=Ne[0],Fe=Ne[1],Le=Object(B.k)(),Se=G.params.collection,Ie=G.params.id,Ee=Object(b.useMemo)((function(){var e,t,n;return(null===be||void 0===be||null===(e=be.owner)||void 0===e?void 0:e.address)&&(null===q||void 0===q||null===(t=q.addressInfo.byte20)||void 0===t?void 0:t.toLowerCase())===(null===be||void 0===be||null===(n=be.owner)||void 0===n?void 0:n.address)}),[be,null===q||void 0===q?void 0:q.addressInfo]);Object(b.useEffect)((function(){q&&Ae()}),[q]);var Ae=function(e){se(Object(s.a)(c.a.mark((function e(){var t,n,a,r,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new I.b(D),n=Object(O.fromBech32Address)(Se).toLowerCase(),a=null===q||void 0===q?void 0:q.addressInfo.byte20.toLocaleLowerCase(),e.next=5,t.getNftToken(n,Ie,a);case 5:r=e.sent,o=r.result,ue(o.model);case 8:case"end":return e.stop()}}),e)}))))},Pe=function(e){ve(Object(o.a)(Object(o.a)({},Oe),{},{sellToken:e}))},Re=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0";ve(Object(o.a)(Object(o.a)({},Oe),{},Object(r.a)({},e,t)))},Me=function(e){var t,n,a=new y.a(Oe[e]).decimalPlaces(null!==(t=null===(n=Oe.sellToken)||void 0===n?void 0:n.decimals)&&void 0!==t?t:0);(a.isNaN()||a.isNegative()||!a.isFinite())&&ve(Object(o.a)(Object(o.a)({},Oe),{},Object(r.a)({},e,"0")))},De=Object(b.useMemo)((function(){if(!Oe.sellToken)return N.BN_ZERO;var e=Object(S.b)(Oe.buyNowPrice).shiftedBy(Oe.sellToken.decimals);return V.usd(_,Oe.sellToken.address,e.toString(10))}),[Oe,V,_]);return Ee?Object(H.jsx)(F.a,Object(o.a)(Object(o.a)({},R),{},{children:Object(H.jsxs)(u.a,{className:k()(M.root,P),children:[Object(H.jsxs)(p.a,{className:M.container,children:[Object(H.jsx)(p.a,{justifyContent:"flex-start",marginBottom:4,children:Object(H.jsx)(j.a,{variant:"h1",children:"Sell"})}),Object(H.jsxs)(p.a,{className:M.contentBox,children:[Object(H.jsxs)(p.a,{children:["fixed_price"===Oe.saleType&&Object(H.jsxs)(p.a,{display:"flex",flexDirection:"column",marginTop:2,children:[Object(H.jsx)(m.a,{shrink:!0,focused:!1,className:k()(Object(r.a)({},M.label,!0)),children:"Buy Now Price"}),Object(H.jsx)(f.a,{className:M.instruction,children:'Transactions will be made automatically once the buyer hits "Confirm".'}),Object(H.jsx)(p.a,{marginTop:1,children:Object(H.jsx)(T.E,{token:null!==(t=Oe.sellToken)&&void 0!==t?t:null,amount:Oe.buyNowPrice,tokenList:"ark-zil",hideBalance:!0,onEditorBlur:function(){return Me("buyNowPrice")},onAmountChange:function(e){return Re("buyNowPrice",e)},onCurrencyChange:Pe})}),Object(H.jsxs)(T.ib,{variant:"body2",align:"left",marginTop:1,marginLeft:2,children:["\u2248 $",Object(S.i)(De,2)]})]}),"timed_auction"===Oe.saleType&&Object(H.jsxs)(H.Fragment,{children:[Object(H.jsxs)(p.a,{display:"flex",flexDirection:"column",marginTop:4,children:[Object(H.jsx)(m.a,{shrink:!0,focused:!1,className:k()(Object(r.a)({},M.label,!0)),children:"Starting Price"}),Object(H.jsx)(f.a,{className:M.instruction,children:"Set a minimum bid XXXXXXXXX"}),Object(H.jsx)(p.a,{marginTop:1,children:Object(H.jsx)(T.E,{token:null!==(n=Oe.sellToken)&&void 0!==n?n:null,amount:Oe.buyNowPrice,onEditorBlur:function(){return Me("startingPrice")},onAmountChange:function(e){return Re("startingPrice",e)},onCurrencyChange:Pe})})]}),Object(H.jsxs)(p.a,{display:"flex",flexDirection:"column",marginTop:4,children:[Object(H.jsx)(m.a,{shrink:!0,focused:!1,className:k()(Object(r.a)({},M.label,!0)),children:"Reserve Price"}),Object(H.jsx)(f.a,{className:M.instruction,children:"If no bid hits the reserve price, your auction will close without a sale."}),Object(H.jsx)(p.a,{marginTop:1,children:Object(H.jsx)(T.E,{label:"Reserve Price",token:null!==(a=Oe.sellToken)&&void 0!==a?a:null,amount:Oe.buyNowPrice,onEditorBlur:function(){return Me("reservePrice")},onAmountChange:function(e){return Re("reservePrice",e)},onCurrencyChange:Pe})})]}),Object(H.jsxs)(p.a,{display:"flex",flexDirection:"column",marginTop:4,children:[Object(H.jsx)(m.a,{shrink:!0,focused:!1,className:k()(Object(r.a)({},M.label,!0)),children:"End Auction On"}),Object(H.jsx)(f.a,{className:M.instruction,children:"Choose when to end your timed auction."})]})]}),Object(H.jsx)(T.h,{label:"Offer Expiry",onExpiryChange:function(e){te(e)}}),Object(H.jsxs)(p.a,{display:"flex",flexDirection:"column",marginTop:4,children:[Object(H.jsx)(m.a,{shrink:!0,focused:!1,className:k()(Object(r.a)({},M.label,!0)),children:"Fees"}),Object(H.jsx)(f.a,{className:M.instruction,children:"The following fees will be deducted once this NFT is sold."}),(null===K||void 0===K?void 0:K.baseFeeBps)&&Object(H.jsxs)(p.a,{display:"flex",marginTop:1,children:[Object(H.jsx)(j.a,{className:M.feeLabel,children:"Service Fee"}),Object(H.jsxs)(j.a,{className:M.feeValue,children:[K.baseFeeBps/100,"%"]})]}),(null===be||void 0===be?void 0:be.collection)&&null!==be.collection.royaltyBps&&Object(H.jsxs)(p.a,{display:"flex",marginTop:1,children:[Object(H.jsx)(j.a,{className:M.feeLabel,children:"Royalties"}),Object(H.jsxs)(j.a,{className:M.feeValue,children:[new y.a(be.collection.royaltyBps).shiftedBy(-2).toString(),"%"]})]})]}),ie&&Object(H.jsxs)(T.ib,{marginTop:2,className:M.breakWord,color:"error",children:["Error: ",null!==(i=null===ie||void 0===ie?void 0:ie.message)&&void 0!==i?i:"Unknown error"]}),Object(H.jsx)(T.K,{className:M.actionButton,loading:oe,disabled:!new y.a(Oe.buyNowPrice).gt(0),variant:"contained",color:"primary",onClick:function(){var e,t;(null===q||void 0===q?void 0:q.provider)&&(null===(e=G.params)||void 0===e?void 0:e.collection)&&(null===(t=G.params)||void 0===t?void 0:t.id)&&Oe.sellToken&&"0"!==Oe.buyNowPrice&&K&&re(Object(s.a)(c.a.mark((function e(){var t,n,a,r,o,i,s,l,d,b,u,p,j,m,f,g,h,x,v,w,k,C,B;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=G.params,r=a.collection,o=a.id,i=new y.a(Oe.buyNowPrice).shiftedBy(Oe.sellToken.decimals),(s={amount:i,address:Object(O.fromBech32Address)(Oe.sellToken.address)}).address!==(null===be||void 0===be||null===(t=be.bestAsk)||void 0===t?void 0:t.price.address)||!s.amount.gte(be.bestAsk.price.amount)){e.next=8;break}throw d=_.tokens[Oe.sellToken.address],b=null!==(l=null===d||void 0===d?void 0:d.decimals)&&void 0!==l?l:0,u=Object(S.b)(be.bestAsk.price.amount).decimalPlaces(0).shiftedBy(-b),new Error("Selling price should be lower than existing price of ".concat(u.toFormat()," ").concat(null===d||void 0===d?void 0:d.symbol));case 8:if("number"===typeof(null===be||void 0===be||null===(n=be.collection)||void 0===n?void 0:n.royaltyBps)){e.next=10;break}throw new Error("Could not retrieve collection information");case 10:return p=Object(S.b)(K.baseFeeBps).plus(be.collection.royaltyBps),j=i.times(p).dividedToIntegerBy(1e4).plus(1),J(!0),m=new I.b(D),f=q.addressInfo.byte20.toLowerCase(),g=Object(O.fromBech32Address)(r).toLowerCase(),e.next=18,m.approveAllowanceIfRequired(g,f,E.c.getSDK());case 18:if(!(null===(h=e.sent)||void 0===h?void 0:h.id)){e.next=29;break}return ge("Approve TX Submitted",{hash:h.id}),fe(!0),e.prev=22,e.next=25,Object(I.k)(h.id);case 25:Ce(!0);case 26:return e.prev=26,fe(!1),e.finish(26);case 29:return x=new y.a(Math.random()).times(2147483647).decimalPlaces(0).toString(10),v=m.arkMessage("Execute",m.arkChequeHash({side:"Sell",token:{address:r,id:o},price:s,feeAmount:j,expiry:ee,nonce:x})),e.next=33,q.provider.wallet.sign(v);case 33:return w=e.sent,k=w.signature,C=w.publicKey,e.next=38,m.postTrade({publicKey:C,signature:k,collectionAddress:r,address:q.addressInfo.byte20.toLowerCase(),tokenId:o,side:"Sell",expiry:ee,nonce:x,price:s});case 38:B=e.sent,Object(I.j)("post trade",B),Fe(!0),ge("Successfully listed token #".concat(o,"!")),Le.push("/arky/collections/".concat(Se,"/").concat(Ie));case 43:case"end":return e.stop()}}),e,null,[[22,,26,29]])}))))},walletRequired:!0,children:"Sell NFT"})]}),Object(H.jsx)(p.a,{className:M.nftBox,children:be&&Object(H.jsx)(T.m,{className:M.nftCard,token:be,collectionAddress:Object(O.fromBech32Address)(Se).toLowerCase(),dialog:!0})})]})]}),Object(H.jsx)(T.H,{className:M.dialogRoot,header:"Complete Listing",open:Y,onClose:function(){oe||J(!1)},children:Object(H.jsx)(g.a,{className:M.dialogContent,children:Object(H.jsxs)(p.a,{display:"flex",flexDirection:"column",children:[Object(H.jsxs)(p.a,{display:"flex",alignItems:"center",marginBottom:4,position:"relative",children:[Object(H.jsx)(p.a,{className:k()(M.stepBar,(x={},Object(r.a)(x,M.stepBarFirstStepCompleted,ke),Object(r.a)(x,M.stepBarCompleted,ke&&Te),x))}),Object(H.jsxs)(p.a,{className:k()(M.step,(v={},Object(r.a)(v,M.stepActive,!ke),Object(r.a)(v,M.stepCompleted,ke),v)),children:[ke?Object(H.jsx)(z,{}):Object(H.jsx)(H.Fragment,{children:"1"}),me&&Object(H.jsx)(h.a,{className:M.progress,color:"inherit"})]}),Object(H.jsxs)(p.a,{display:"flex",flexDirection:"column",alignItems:"stretch",children:[Object(H.jsx)(T.ib,{className:M.stepLabel,children:"Approve Token"}),Object(H.jsx)(T.ib,{children:"Approve once, and never again. This step approves the token for trading and involves a one-off gas fee."})]})]}),Object(H.jsxs)(p.a,{display:"flex",alignItems:"center",children:[Object(H.jsx)(p.a,{className:k()(M.step,(w={},Object(r.a)(w,M.stepActive,!Te&&ke),Object(r.a)(w,M.stepCompleted,Te),w)),children:Te?Object(H.jsx)(z,{}):Object(H.jsx)(H.Fragment,{children:"2"})}),Object(H.jsxs)(p.a,{display:"flex",flexDirection:"column",alignItems:"stretch",children:[Object(H.jsx)(T.ib,{className:M.stepLabel,children:"Confirm Listing"}),Object(H.jsx)(T.ib,{children:"Accept the signature request on your wallet so that we can begin processing your request."})]})]})]})})})]})})):Object(H.jsx)(H.Fragment,{})}},2022:function(e,t,n){"use strict";var a=n(70),r=n(71);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(1)),i=(0,a(n(72)).default)(o.createElement("path",{d:"M18 19H6c-.55 0-1-.45-1-1V6c0-.55.45-1 1-1h12c.55 0 1 .45 1 1v12c0 .55-.45 1-1 1zm1-16H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlankRounded");t.default=i},2025:function(e,t,n){"use strict";var a=n(70),r=n(71);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(1)),i=(0,a(n(72)).default)(o.createElement("path",{d:"M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}),"InfoOutlined");t.default=i},2026:function(e,t,n){"use strict";var a=n(70),r=n(71);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(1)),i=(0,a(n(72)).default)(o.createElement("path",{d:"M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z"}),"Replay");t.default=i},2039:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return Nt}));var a,r,o=n(7),i=n(3),c=n(2),s=n.n(c),l=n(20),d=n(12),b=n(26),u=n(1),p=n(1973),j=n(2001),m=n(121),f=n(1957),g=n(1985),h=n(2010),x=n(1986),O=n(1947),v=n(16),y=n(73),w=n(34),k=n(2013),C=n(43),B=n(9),N=n(22),T=n(47),F=n(23),L=n(2016),S=(n(915),n(61)),I=n(67),E=n(28),A=n.n(E),P=n(10),R=n.n(P),M=n(1958),D=n(1969),z=n(2003),H=n(1955),W=n(2022),Z=n.n(W),q=n(21),_=["title","titleId"];function K(){return(K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function V(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function G(e,t){var n=e.title,o=e.titleId,i=V(e,_);return u.createElement("svg",K({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":o},i),n?u.createElement("title",{id:o},n):null,a||(a=u.createElement("path",{d:"M15 15.8333H5C4.54167 15.8333 4.16667 15.4583 4.16667 15V5C4.16667 4.54167 4.54167 4.16667 5 4.16667H15C15.4583 4.16667 15.8333 4.54167 15.8333 5V15C15.8333 15.4583 15.4583 15.8333 15 15.8333ZM15.8333 2.5H4.16667C3.25 2.5 2.5 3.25 2.5 4.16667V15.8333C2.5 16.75 3.25 17.5 4.16667 17.5H15.8333C16.75 17.5 17.5 16.75 17.5 15.8333V4.16667C17.5 3.25 16.75 2.5 15.8333 2.5Z",fill:"#DEFFFF",fillOpacity:.5})),r||(r=u.createElement("path",{d:"M6.66699 7.66699C6.66699 7.11471 7.11471 6.66699 7.66699 6.66699H12.3337C12.8859 6.66699 13.3337 7.11471 13.3337 7.66699V12.3337C13.3337 12.8859 12.8859 13.3337 12.3337 13.3337H7.66699C7.11471 13.3337 6.66699 12.8859 6.66699 12.3337V7.66699Z",fill:"#00FFB0"})))}var U,X,Y,J=u.forwardRef(G),$=(n.p,n(76)),Q=["title","titleId"];function ee(){return(ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function te(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ne(e,t){var n=e.title,a=e.titleId,r=te(e,Q);return u.createElement("svg",ee({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},r),n?u.createElement("title",{id:a},n):null,U||(U=u.createElement("path",{d:"M10.2908 3.8602L1.82075 18.0002C1.64612 18.3026 1.55372 18.6455 1.55274 18.9947C1.55176 19.3439 1.64224 19.6873 1.81518 19.9907C1.98812 20.2941 2.23748 20.547 2.53846 20.7241C2.83944 20.9012 3.18155 20.9964 3.53075 21.0002H20.4708C20.82 20.9964 21.1621 20.9012 21.463 20.7241C21.764 20.547 22.0134 20.2941 22.1863 19.9907C22.3593 19.6873 22.4497 19.3439 22.4488 18.9947C22.4478 18.6455 22.3554 18.3026 22.1808 18.0002L13.7108 3.8602C13.5325 3.56631 13.2815 3.32332 12.9819 3.15469C12.6824 2.98605 12.3445 2.89746 12.0008 2.89746C11.657 2.89746 11.3191 2.98605 11.0196 3.15469C10.72 3.32332 10.469 3.56631 10.2908 3.8602V3.8602Z",stroke:"#FF5252",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),X||(X=u.createElement("path",{d:"M12 9V13",stroke:"#FF5252",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),Y||(Y=u.createElement("path",{d:"M12 17H12.01",stroke:"#FF5252",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})))}var ae,re,oe,ie,ce,se,le=u.forwardRef(ne),de=(n.p,n(0)),be=["children","className","collectionAddress","token","onComplete"],ue=q.o.ArkBidAcceptTerms,pe={bidAmount:"0",acceptTerms:!!Object(B.e)(ue)},je=Object(O.a)((function(e){var t;return{root:{"& .MuiDialogTitle-root":{padding:e.spacing(3),"& .MuiTypography-root":{fontFamily:"'Raleway', sans-serif",fontWeight:700,fontSize:"24px"},"& .MuiSvgIcon-root":{fontSize:"1.8rem"}},"& .MuiOutlinedInput-root":{border:"none"}},backdrop:{position:"absolute",zIndex:0,overflow:"hidden",display:"flex",flexDirection:"column",justifyContent:"space-between",padding:e.spacing(3)},dialogContent:Object(o.a)({backgroundColor:e.palette.background.default,borderLeft:e.palette.border,borderRight:e.palette.border,borderBottom:e.palette.border,borderRadius:"0 0 12px 12px",padding:e.spacing(0,3,2),overflowY:"auto","&::-webkit-scrollbar-track":{marginBottom:e.spacing(1)},"&::-webkit-scrollbar":{width:"0.5rem"},"&::-webkit-scrollbar-thumb":{backgroundColor:"rgba".concat(Object(B.f)("dark"===e.palette.type?"#DEFFFF":"#003340",.1)),borderRight:"3px solid transparent",backgroundClip:"padding-box"},display:"flex"},e.breakpoints.down("sm"),{flexDirection:"column",minWidth:380,maxWidth:411}),bidContainer:Object(o.a)({},e.breakpoints.up("md"),{marginLeft:e.spacing(2),maxWidth:420}),expandedCurrencyInput:{paddingBottom:e.spacing(2)},bestBid:{zIndex:1,fontFamily:"Avenir Next",fontSize:12,color:e.palette.text.primary,marginLeft:18,marginTop:e.spacing(-3.7),marginBottom:e.spacing(1)},bestBidLabel:{color:e.palette.text.primary,opacity:.6,marginRight:4},bestBidTokenLogo:{height:"18px !important",width:"18px !important"},actionButton:{height:46},collectionButton:{height:46,marginTop:e.spacing(1)},nftCard:Object(o.a)({maxWidth:"none"},e.breakpoints.up("md"),{maxWidth:360}),radioButton:{padding:"6px","&:hover":{background:"transparent!important"}},termsBox:{display:"flex",justifyContent:"flex-start",marginLeft:2,marginTop:e.spacing(1.5),marginBottom:e.spacing(1),"& .MuiFormControlLabel-root":{marginLeft:"-8px",marginRight:0}},priceBox:{borderRadius:12,padding:e.spacing(1.5),backgroundColor:e.palette.currencyInput,marginBottom:e.spacing(1)},priceText:{fontSize:"20px",lineHeight:"30px"},price:{fontFamily:"'Raleway', sans-serif",fontWeight:900,fontSize:"28px",paddingBottom:"4px",color:e.palette.primary.dark},currencyLogo:{paddingBottom:"4px"},txText:{color:e.palette.label},icon:{fontSize:"14px",color:e.palette.label},link:{color:null===(t=e.palette.text)||void 0===t?void 0:t.primary},linkIcon:{marginLeft:2,verticalAlign:"top"},loadingTitle:{fontFamily:"'Raleway', sans-serif",fontSize:"24px",linHeight:"40px"},loadingBody:{fontSize:"14px",lineHeight:"24px",marginTop:e.spacing(.5)},errorBox:{marginTop:e.spacing(2),minHeight:46,width:"100%",border:"1px solid #FF5252",backgroundColor:"rgba".concat(Object(B.f)("#FF5252",.2)),borderRadius:12,padding:e.spacing(2,3),display:"flex",alignItems:"center"},warningIcon:{height:24,width:24,flex:"none",marginRight:e.spacing(1)},infoBox:{marginBottom:e.spacing(2),minHeight:46,width:"100%",border:"1px solid #FFDF6B",backgroundColor:"rgba".concat(Object(B.f)("#FFDF6B",.2)),borderRadius:12,padding:e.spacing(2),"& .MuiTypography-root":Object(o.a)({color:"#FFDF6B",fontSize:"14px",lineHeight:"17px"},e.breakpoints.down("sm"),{fontSize:"12px"})}}})),me=function(e){e.children;var t,n=e.className,a=e.collectionAddress,r=e.token,c=e.onComplete,p=Object(b.a)(e,be),m=je(),f=Object(v.b)(),g=Object(S.k)(),h=Object(v.c)(C.a).network,x=Object(v.c)(C.g).wallet,O=Object(v.c)(C.e),y=Object(v.c)(C.f).observingTxs,k=Object(v.c)(C.c).exchangeInfo,L=Object(v.c)((function(e){return e.layout.showBidNftDialog})),E=Object(B.o)("confirmPurchase"),P=Object(d.a)(E,4),W=P[0],_=P[1],K=P[2],V=P[3],G=Object(B.o)("waitForWrapComplete"),U=Object(d.a)(G,4),X=U[0],Y=U[1],Q=U[2],ee=U[3],te=Object(B.o)("wrapZil"),ne=Object(d.a)(te,4),ae=ne[0],re=ne[1],oe=ne[2],ie=ne[3],ce=Object(u.useState)(!1),se=Object(d.a)(ce,2),me=se[0],fe=se[1],ge=Object(u.useState)(0),he=Object(d.a)(ge,2),xe=he[0],Oe=he[1],ve=Object(u.useState)(pe),ye=Object(d.a)(ve,2),we=ye[0],ke=ye[1],Ce=Object(u.useState)(O.tokens[$.d[h]]),Be=Object(d.a)(Ce,2),Ne=Be[0],Te=Be[1],Fe=Object(u.useState)(null),Le=Object(d.a)(Fe,2),Se=Le[0],Ie=Le[1],Ee=Object(S.n)(),Ae=Object(B.o)("approveTx"),Pe=Object(d.a)(Ae,4),Re=Pe[0],Me=Pe[1],De=Pe[2],ze=Pe[3],He=Object(B.z)(),We=r.bestBid,Ze=Me||y.findIndex((function(e){return e.hash.toLowerCase()===Se}))>=0,qe=Ne&&Ne.isWzil&&Object(I.bnOrZero)(Ne.balance).lt(Object(I.bnOrZero)(we.bidAmount).shiftedBy(Ne.decimals)),_e=Object(u.useMemo)((function(){return!!we.acceptTerms&&(!Object(I.bnOrZero)(we.bidAmount).isLessThanOrEqualTo(0)&&!!Ne)}),[we,Ne]),Ke=Object(u.useMemo)((function(){if(!Ne||Ne.isZil)return!1;Te(O.tokens[Ne.address]);var e=new N.b(h).tokenProxyAddress,t=Object(I.bnOrZero)(we.bidAmount).shiftedBy(Ne.decimals),n=Object(I.bnOrZero)(Ne.allowances[e]||"0");return n.isZero()||n.comparedTo(t)<0}),[Ne,we,Ze,h,O.tokens]),Ve=Object(u.useMemo)((function(){var e;if(!We)return{};var t=O.tokens[Object(T.h)(We.price.address)];return{bestBidToken:t,bestBidAmount:Object(I.bnOrZero)(We.price.amount).shiftedBy(-(null!==(e=null===t||void 0===t?void 0:t.decimals)&&void 0!==e?e:0))}}),[We,O.tokens]),Ge=Ve.bestBidToken,Ue=Ve.bestBidAmount,Xe=function(){ze(),V(),ie(),ee()},Ye=function(e){X(Object(l.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Object(N.j)("watching for wrap tx complete",e),t.next=3,Object(N.k)(e);case 3:case"end":return t.stop()}}),t)}))))};return Object(de.jsx)(w.H,Object(i.a)(Object(i.a)({header:"Place an Offer"},p),{},{open:L,onClose:function(){_||(f(F.a.Layout.toggleShowBidNftDialog("close")),fe(!1))},className:R()(m.root,n),children:Object(de.jsxs)(M.a,{className:R()(m.dialogContent),children:[Object(de.jsx)(w.m,{className:m.nftCard,token:r,collectionAddress:Object(T.e)(a),dialog:!0}),Object(de.jsxs)(j.a,{className:m.bidContainer,children:[Object(de.jsx)(w.E,{label:"Offer Amount",tokenList:"ark-zil",inputClassName:R()(Object(o.a)({},m.expandedCurrencyInput,!!We)),token:null!==Ne&&void 0!==Ne?Ne:null,amount:we.bidAmount,dialogOpts:{zrc2Only:!0},onEditorBlur:function(){var e,t=new A.a(we.bidAmount).decimalPlaces(null!==(e=null===Ne||void 0===Ne?void 0:Ne.decimals)&&void 0!==e?e:0);(t.isNaN()||t.isNegative()||!t.isFinite())&&ke(Object(i.a)(Object(i.a)({},we),{},{bidAmount:"0"}))},onAmountChange:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0";Xe(),ke(Object(i.a)(Object(i.a)({},we),{},{bidAmount:e}))},onCurrencyChange:function(e){Xe(),Te(e)},children:We&&Object(de.jsxs)(j.a,{display:"flex",alignItems:"center",className:m.bestBid,children:[Object(de.jsx)(w.ib,{className:m.bestBidLabel,children:"Highest Offer:"}),Object(B.i)(Ue),Object(de.jsx)(w.G,{currency:null===Ge||void 0===Ge?void 0:Ge.symbol,address:null===Ge||void 0===Ge?void 0:Ge.address,className:m.bestBidTokenLogo})]})}),Object(de.jsx)(w.h,{label:"Offer Expiry",onExpiryChange:function(e){Oe(e)}}),!me&&Object(de.jsxs)(u.Fragment,{children:[Object(de.jsx)(j.a,{className:m.termsBox,children:Object(de.jsx)(D.a,{control:Object(de.jsx)(z.a,{className:m.radioButton,checkedIcon:Object(de.jsx)(J,{}),icon:Object(de.jsx)(Z.a,{fontSize:"small"}),checked:we.acceptTerms,onChange:function(){return we.acceptTerms?localStorage.removeItem(ue):localStorage.setItem(ue,JSON.stringify("true")),void ke(Object(i.a)(Object(i.a)({},we),{},{acceptTerms:!we.acceptTerms}))},disableRipple:!0}),label:Object(de.jsx)(w.ib,{children:"I accept ARKY's terms and conditions."})})}),qe&&Object(de.jsx)(j.a,{className:m.infoBox,children:Object(de.jsxs)(w.ib,{children:["You will need to wrap your ",Object(de.jsx)("strong",{children:"ZIL"})," to ",Object(de.jsx)("strong",{children:"Wrapped ZIL"})," (",Object(de.jsx)("strong",{children:"wZIL"}),") in Step 2 to place this bid. wZIL can be exchanged back to ZIL in a 1:1 ratio. Click"," ",Object(de.jsx)(H.a,{rel:"noopener noreferrer",target:"_blank",href:"https://dev.zilliqa.com/docs/dev/dev-wrapped-zil",children:Object(de.jsx)("strong",{children:"here"})})," ","to learn more."]})}),qe?Object(de.jsx)(w.K,{className:m.actionButton,loading:re||Y,variant:"contained",color:"primary",onClick:function(){var e=Object(I.bnOrZero)(Ne.balance),t=Object(I.bnOrZero)(O.tokens[q.D].balance),n=Object(I.bnOrZero)(we.bidAmount).shiftedBy(Ne.decimals).minus(e);t.lt(n)?ie(new Error("Insufficient ZIL balance to wrap. Require ".concat(n.shiftedBy(-Ne.decimals).toFormat(2)," more wZIL but only have ").concat(t.shiftedBy(-12).toFormat(2)," ZIL."))):ae(Object(l.a)(s.a.mark((function e(){var t,a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new N.b(h),a=T.c.getSDK(),e.next=4,t.wrapZil(n,a);case 4:r=e.sent,a.observeTx({hash:r.id,deadline:Number.MAX_SAFE_INTEGER}),Ye(r.id),He("Wrap token txn submitted!",{hash:r.id});case 8:case"end":return e.stop()}}),e)}))))},disabled:!_e,walletRequired:!0,children:"Wrap ZIL"}):Object(de.jsx)(w.K,{showTxApprove:Ke,loadingTxApprove:Ze,onClickTxApprove:function(){Ne&&(Ne.isZil||Object(I.bnOrZero)(we.bidAmount).isLessThanOrEqualTo(0)||_||Re(Object(l.a)(s.a.mark((function e(){var t,n,a,r,o,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new N.b(h),n=t.tokenProxyAddress,a=Ne.address,r=Object(I.bnOrZero)(we.bidAmount),e.next=6,T.c.approveTokenTransfer({tokenAmount:r.shiftedBy(Ne.decimals),tokenID:a,spenderAddress:n});case 6:if(o=e.sent){e.next=9;break}throw new Error("Transfer allowance already sufficient for specified amount");case 9:c=Object(i.a)(Object(i.a)({},o),{},{address:(null===x||void 0===x?void 0:x.addressInfo.bech32)||"",network:h}),Ie(c.hash.toLowerCase()),f(F.a.Transaction.observe({observedTx:c})),He("Submitted",{hash:c.hash});case 13:case"end":return e.stop()}}),e)})))))},className:m.actionButton,loading:_,variant:"contained",color:"primary",onClick:function(){x&&k&&(Xe(),W(Object(l.a)(s.a.mark((function e(){var t,n,a,r,o,i,l,d,b,u,p,j,m,g;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Ee.params,a=n.collection,r=n.id,Ne){e.next=3;break}return e.abrupt("return");case 3:if(o=Object(I.bnOrZero)(we.bidAmount).shiftedBy(Ne.decimals),Ne.balance&&!(null===(t=Ne.balance)||void 0===t?void 0:t.lt(o))){e.next=7;break}return V(new Error("Insufficient balance.")),e.abrupt("return");case 7:return i={amount:o,address:Object(T.e)(Ne.address)},l=o.times(k.baseFeeBps).dividedToIntegerBy(1e4).plus(1),d=new N.b(h),b=new A.a(Math.random()).times(2147483647).decimalPlaces(0).toString(10),u=d.arkMessage("Execute",d.arkChequeHash({side:"Buy",token:{address:a,id:r},price:i,feeAmount:l,expiry:xe,nonce:b})),e.next=14,x.provider.wallet.sign(u);case 14:return p=e.sent,j=p.signature,m=p.publicKey,e.next=19,d.postTrade({publicKey:m,signature:j,collectionAddress:a,address:x.addressInfo.byte20.toLowerCase(),tokenId:r,side:"Buy",expiry:xe,nonce:b,price:i});case 19:g=e.sent,c&&c(),f(F.a.Layout.toggleShowBidNftDialog("close")),Object(N.j)("post trade",g),He("Bid confirmed for token #".concat(r,"!"));case 24:case"end":return e.stop()}}),e)})))))},disabled:!_e,walletRequired:!0,children:"Place Offer"}),(K||oe||De||Q)&&Object(de.jsxs)(j.a,{className:m.errorBox,children:[Object(de.jsx)(le,{className:m.warningIcon}),Object(de.jsxs)(w.ib,{color:"error",children:["Error: ",null!==(t=(null===K||void 0===K?void 0:K.message)||(null===oe||void 0===oe?void 0:oe.message)||(null===De||void 0===De?void 0:De.message)||(null===Q||void 0===Q?void 0:Q.message))&&void 0!==t?t:"Unknown error"]})]})]})]}),me&&Object(de.jsx)(w.K,{className:m.collectionButton,variant:"contained",color:"primary",onClick:function(){f(F.a.Layout.toggleShowBidNftDialog("close")),g.push("/arky/profile")},walletRequired:!0,children:"View Collection"})]})}))},fe=n(913),ge=n(1956),he=n(360),xe=n.n(he),Oe=n(86),ve=["title","titleId"];function ye(){return(ye=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function we(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ke(e,t){var n=e.title,a=e.titleId,r=we(e,ve);return u.createElement("svg",ye({width:113,height:21,viewBox:"0 0 113 21",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},r),n?u.createElement("title",{id:a},n):null,ae||(ae=u.createElement("path",{d:"M10.4157 0.000733778L18.7463 0.000731755C24.5025 0.000731755 29.165 4.66318 29.1619 10.4164C29.1647 16.1699 24.5023 20.8323 18.7463 20.8321H10.4157C4.66217 20.8349 -0.00303916 16.1697 1.4855e-06 10.4164C-0.00275627 4.6629 4.66245 -0.00230686 10.4157 0.000733778ZM10.4157 4.16601C6.96303 4.16601 4.165 6.96404 4.165 10.4167C4.165 13.8694 6.96302 16.6674 10.4157 16.6674H18.7463C22.1989 16.6674 24.9969 13.8694 24.9969 10.4167C24.9969 6.96404 22.1989 4.16602 18.7463 4.16602L10.4157 4.16601Z",fill:"url(#paint0_linear)"})),re||(re=u.createElement("path",{d:"M52.0799 0.000818734H60.416C66.1668 0.000818734 70.8291 4.6632 70.8317 10.4165C70.8289 16.17 66.1665 20.8325 60.416 20.8322H52.0799C46.3292 20.8322 41.6668 16.1698 41.6642 10.4165C41.667 4.66299 46.3294 0.000535844 52.0799 0.000818734ZM52.0799 4.1661C48.63 4.16886 45.832 6.96688 45.8292 10.4168C45.832 13.8667 48.63 16.6647 52.0799 16.6675H60.416C63.8659 16.6647 66.6639 13.8667 66.6667 10.4168C66.6639 6.96688 63.8659 4.16886 60.416 4.1661H52.0799Z",fill:"url(#paint1_linear)"})),oe||(oe=u.createElement("path",{d:"M93.7487 7.23549e-09L102.079 1.35593e-06C107.833 -0.0027564 112.498 4.66245 112.495 10.4157C112.498 16.1692 107.832 20.8344 102.079 20.8314L93.7487 20.8314C87.9924 20.8314 83.33 16.1689 83.333 10.4157C83.3303 4.66217 87.9926 -0.000212076 93.7487 7.23549e-09ZM93.7487 4.16528C90.296 4.16528 87.498 6.9633 87.498 10.416C87.498 13.8686 90.296 16.6666 93.7487 16.6666L102.079 16.6666C105.532 16.6666 108.33 13.8686 108.33 10.416C108.33 6.9633 105.532 4.16528 102.079 4.16528L93.7487 4.16528Z",fill:"url(#paint2_linear)"})),ie||(ie=u.createElement("path",{d:"M22.9133 12.4987L47.9138 12.5016C49.0656 12.4988 49.9964 11.568 49.9992 10.4162C49.9964 9.26434 49.0656 8.33351 47.9138 8.33075L22.9133 8.33358C21.7643 8.33358 20.8307 9.26717 20.8307 10.4162C20.8307 11.5653 21.7643 12.4987 22.9133 12.4987Z",fill:"url(#paint3_linear)"})),ce||(ce=u.createElement("path",{d:"M64.5802 12.5015L89.5807 12.4986C90.7297 12.4986 91.6633 11.565 91.6633 10.416C91.6633 9.26693 90.7297 8.33334 89.5807 8.33334L64.5802 8.33051C63.4284 8.33328 62.4976 9.2641 62.4948 10.4159C62.4976 11.5677 63.4284 12.4987 64.5802 12.5015Z",fill:"url(#paint4_linear)"})),se||(se=u.createElement("defs",null,u.createElement("linearGradient",{id:"paint0_linear",x1:112.683,y1:10.5176,x2:-.317383,y2:10.5176,gradientUnits:"userSpaceOnUse"},u.createElement("stop",{stopColor:"white"}),u.createElement("stop",{offset:.494792,stopColor:"#E2FFFF"}),u.createElement("stop",{offset:1,stopColor:"#9CFFFF"})),u.createElement("linearGradient",{id:"paint1_linear",x1:112.683,y1:10.5176,x2:-.317383,y2:10.5176,gradientUnits:"userSpaceOnUse"},u.createElement("stop",{stopColor:"white"}),u.createElement("stop",{offset:.494792,stopColor:"#E2FFFF"}),u.createElement("stop",{offset:1,stopColor:"#9CFFFF"})),u.createElement("linearGradient",{id:"paint2_linear",x1:112.683,y1:10.5176,x2:-.317383,y2:10.5176,gradientUnits:"userSpaceOnUse"},u.createElement("stop",{stopColor:"white"}),u.createElement("stop",{offset:.494792,stopColor:"#E2FFFF"}),u.createElement("stop",{offset:1,stopColor:"#9CFFFF"})),u.createElement("linearGradient",{id:"paint3_linear",x1:112.683,y1:10.5176,x2:-.317383,y2:10.5176,gradientUnits:"userSpaceOnUse"},u.createElement("stop",{stopColor:"white"}),u.createElement("stop",{offset:.494792,stopColor:"#E2FFFF"}),u.createElement("stop",{offset:1,stopColor:"#9CFFFF"})),u.createElement("linearGradient",{id:"paint4_linear",x1:112.683,y1:10.5176,x2:-.317383,y2:10.5176,gradientUnits:"userSpaceOnUse"},u.createElement("stop",{stopColor:"white"}),u.createElement("stop",{offset:.494792,stopColor:"#E2FFFF"}),u.createElement("stop",{offset:1,stopColor:"#9CFFFF"})))))}var Ce,Be,Ne,Te=u.forwardRef(ke),Fe=(n.p,["children","className","collectionAddress","token","onComplete"]),Le=q.o.ArkBuyAcceptTerms,Se=Object(O.a)((function(e){var t;return{root:{"& .MuiDialogTitle-root":{padding:e.spacing(3),"& .MuiTypography-root":{fontFamily:"'Raleway', sans-serif",fontWeight:700,fontSize:"24px",linHeight:"36px"},"& .MuiSvgIcon-root":{fontSize:"1.8rem"}},position:"relative"},backdrop:{position:"absolute",zIndex:0,overflow:"hidden",display:"flex",flexDirection:"column",justifyContent:"space-between",padding:e.spacing(3)},dialogContent:{backgroundColor:e.palette.background.default,borderLeft:e.palette.border,borderRight:e.palette.border,borderBottom:e.palette.border,borderRadius:"0 0 12px 12px",padding:e.spacing(0,3,2),minWidth:380,maxWidth:411,overflowY:"auto","&::-webkit-scrollbar-track":{marginBottom:e.spacing(1)},"&::-webkit-scrollbar":{width:"0.5rem"},"&::-webkit-scrollbar-thumb":{backgroundColor:"rgba".concat(Object(B.f)("dark"===e.palette.type?"#DEFFFF":"#003340",.1)),borderRight:"3px solid transparent",backgroundClip:"padding-box"}},actionButton:{height:46},nftCard:{maxWidth:"none"},radioButton:{padding:"6px","&:hover":{background:"transparent!important"}},termsBox:{display:"flex",justifyContent:"flex-start",marginLeft:2,marginTop:e.spacing(1.5),marginBottom:e.spacing(1),"& .MuiFormControlLabel-root":{marginLeft:"-8px",marginRight:0}},priceBox:{borderRadius:12,padding:e.spacing(1.5),backgroundColor:e.palette.currencyInput,marginBottom:e.spacing(1)},priceText:{fontSize:"20px",lineHeight:"30px"},price:{fontFamily:"'Raleway', sans-serif",fontWeight:900,fontSize:"28px",paddingBottom:"4px",color:e.palette.primary.dark},currencyLogo:{paddingBottom:"4px"},txText:{color:e.palette.label},icon:{fontSize:"14px",color:e.palette.label},link:{color:null===(t=e.palette.text)||void 0===t?void 0:t.primary},linkIcon:{marginLeft:2,verticalAlign:"top"},loadingTitle:{fontFamily:"'Raleway', sans-serif",fontSize:"24px",linHeight:"40px"},loadingBody:{fontSize:"14px",lineHeight:"24px",marginTop:e.spacing(.5)},completedBox:{marginTop:e.spacing(1.5)},shareText:{color:e.palette.label,marginTop:e.spacing(1.5),marginBottom:e.spacing(1)},errorBox:{marginTop:e.spacing(2),minHeight:46,width:"100%",border:"1px solid #FF5252",backgroundColor:"rgba".concat(Object(B.f)("#FF5252",.2)),borderRadius:12,padding:e.spacing(2,3),display:"flex",alignItems:"center"},warningIcon:{height:24,width:24,flex:"none",marginRight:e.spacing(1)}}})),Ie=function(e){e.children;var t,n=e.className,a=e.collectionAddress,r=e.token,o=e.onComplete,c=Object(b.a)(e,Fe),p=Se(),m=Object(v.c)(C.a).network,f=Object(v.c)(C.e),g=Object(v.c)(C.g).wallet,h=Object(v.c)(C.f),x=Object(v.c)(C.c).exchangeInfo,O=Object(v.c)((function(e){return e.layout.showBuyNftDialog})),y=Object(v.b)(),k=Object(S.k)(),L=Object(B.o)("confirmPurchase"),I=Object(d.a)(L,3),E=I[0],P=I[1],W=I[2],q=Object(B.o)("approveTx"),_=Object(d.a)(q,4),K=_[0],V=_[1],G=_[2],U=_[3],X=Object(B.o)("waitForPurchaseComplete"),Y=Object(d.a)(X,4),$=Y[0],Q=Y[1],ee=Y[2],te=Y[3],ne=Object(S.n)(),ae=Object(u.useState)(!!Object(B.e)(Le)),re=Object(d.a)(ae,2),oe=re[0],ie=re[1],ce=Object(u.useState)(!1),se=Object(d.a)(ce,2),be=se[0],ue=se[1],pe=Object(u.useState)(null),je=Object(d.a)(pe,2),me=je[0],he=je[1],ve=Object(u.useState)(null),ye=Object(d.a)(ve,2),we=ye[0],ke=ye[1],Ce=Object(B.z)(),Be=null!==W&&void 0!==W?W:ee,Ne=V||h.observingTxs.findIndex((function(e){return e.hash.toLowerCase()===we}))>=0,Ie=r.bestAsk,Ee=Object(u.useMemo)((function(){var e;if(!Ie)return{};var t=f.tokens[Object(Oe.toBech32Address)(Ie.price.address)];return{priceToken:t,priceHuman:Object(B.b)(Ie.price.amount).shiftedBy(-(null!==(e=null===t||void 0===t?void 0:t.decimals)&&void 0!==e?e:0))}}),[Ie,f.tokens]),Ae=Ee.priceToken,Pe=Ee.priceHuman,Re=Object(u.useMemo)((function(){if(!Ie||!Ae||(null===Ae||void 0===Ae?void 0:Ae.isZil))return!1;var e=new N.b(m).tokenProxyAddress,t=Object(B.b)(Ie.price.amount).shiftedBy(Ae.decimals),n=Object(B.b)(Ae.allowances[e]||"0");return n.isZero()||n.comparedTo(t)<0}),[Ie,Ae,m,Ne,f.tokens]),Me=function(e){$(Object(l.a)(s.a.mark((function t(){var n,a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Object(N.j)("watching for purchase complete",e.id),t.next=3,Object(N.k)(e.id);case 3:if(n=t.sent,a=n.isConfirmed()&&!n.isRejected(),ue(a),!a){t.next=11;break}he(n.hash),null===o||void 0===o||o(),t.next=12;break;case 11:throw new Error("Purchase failed");case 12:case"end":return t.stop()}}),t)}))))},De=Q?"":be?"You now own":"Confirm Purchase";return Object(de.jsx)(w.H,Object(i.a)(Object(i.a)({header:De},c),{},{open:O,onClose:P?void 0:function(){y(F.a.Layout.toggleShowBuyNftDialog("close")),ue(!1)},className:R()(p.root,n),hideCloseButton:Q,titlePadding:!!Q,children:Object(de.jsxs)(M.a,{className:R()(p.dialogContent),children:[Object(de.jsx)(w.m,{className:p.nftCard,token:r,collectionAddress:Object(T.e)(a),dialog:!0}),Object(de.jsxs)(j.a,{className:p.priceBox,children:[!be&&Object(de.jsxs)(j.a,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[Object(de.jsx)(w.ib,{className:p.priceText,children:"Purchase Price"}),Ae&&Object(de.jsxs)(j.a,{display:"flex",alignItems:"center",children:[Object(de.jsx)(w.ib,{className:p.price,children:null===Pe||void 0===Pe?void 0:Pe.toString(10)}),Object(de.jsx)(w.G,{currency:null===Ae||void 0===Ae?void 0:Ae.symbol,address:Ae.address,className:p.currencyLogo})]})]}),be&&Object(de.jsxs)(j.a,{display:"flex",justifyContent:"space-between",alignItems:"center",mt:.5,children:[Object(de.jsx)(w.ib,{className:p.txText,children:"Transaction Hash"}),me&&Object(de.jsx)(w.ib,{children:Object(de.jsxs)(H.a,{className:p.link,underline:"hover",rel:"noopener noreferrer",target:"_blank",href:"hello",children:[Object(B.l)(me,5,5),Object(de.jsx)(xe.a,{className:R()(p.icon,p.linkIcon)})]})})]})]}),!(Q||be)&&Object(de.jsxs)(u.Fragment,{children:[Object(de.jsx)(j.a,{className:p.termsBox,children:Object(de.jsx)(D.a,{control:Object(de.jsx)(z.a,{className:p.radioButton,checkedIcon:Object(de.jsx)(J,{}),icon:Object(de.jsx)(Z.a,{fontSize:"small"}),checked:oe,onChange:function(){return ie(!oe),void(oe?localStorage.removeItem(Le):localStorage.setItem(Le,JSON.stringify("true")))},disableRipple:!0}),label:Object(de.jsx)(w.ib,{children:"I accept ARKY's terms and conditions."})})}),Object(de.jsx)(w.K,{showTxApprove:Re,loadingTxApprove:Ne,onClickTxApprove:function(){Ie&&Ae&&(Ae.isZil||P||K(Object(l.a)(s.a.mark((function e(){var t,n,a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new N.b(m),n=Ae.address,a=new A.a(Ie.price.amount),e.next=5,T.c.approveTokenTransfer({tokenAmount:a.shiftedBy(Ae.decimals),tokenID:n,spenderAddress:t.tokenProxyAddress});case 5:(r=e.sent)&&(ke(r.hash),y(F.a.Transaction.observe({observedTx:{deadline:r.deadline,hash:r.hash,address:(null===g||void 0===g?void 0:g.addressInfo.bech32)||"",network:m}})),Ce("Submitted",{hash:r.hash}));case 7:case"end":return e.stop()}}),e)})))))},className:p.actionButton,loading:P,variant:"contained",color:"primary",onClick:function(){var e,t;(null===g||void 0===g?void 0:g.provider)&&(null===(e=ne.params)||void 0===e?void 0:e.collection)&&(null===(t=ne.params)||void 0===t?void 0:t.id)&&Ie&&x&&(U(),te(),E(Object(l.a)(s.a.mark((function e(){var t,n,a,o,i,c,l,d,b,u,p,j,f,h,O,v,y,w;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=ne.params,a=n.collection,o=n.id,Ae){e.next=3;break}return e.abrupt("return");case 3:if(i=new A.a(Ie.price.amount),Ae.balance&&!(null===(t=Ae.balance)||void 0===t?void 0:t.lt(i))){e.next=6;break}throw new Error("Insufficient balance");case 6:return c={amount:i,address:Object(T.e)(Ae.address)},l=i.times(x.baseFeeBps).dividedToIntegerBy(1e4).plus(1),d=new N.b(m),b=new A.a(Math.random()).times(2147483647).decimalPlaces(0).toString(10),u=T.c.getCurrentBlock(),p=u+25,j=d.arkMessage("Execute",d.arkChequeHash({side:"Buy",token:{address:a,id:o},price:c,feeAmount:l,expiry:p,nonce:b})),e.next=15,g.provider.wallet.sign(j);case 15:return f=e.sent,h=f.signature,O=f.publicKey,v={side:"buy",expiry:p,nonce:b,publicKey:"0x".concat(O),signature:"0x".concat(h)},y=T.c.getSDK(),e.next=22,d.executeTrade({buyCheque:v,sellCheque:Ie,nftAddress:a,tokenId:o},y);case 22:w=e.sent,y.observeTx({hash:w.id,deadline:Number.MAX_SAFE_INTEGER}),Me(w),Object(N.j)("exec trade result",w),Ce("Transaction token #".concat(r.tokenId," purchase submitted!"),{hash:w.id});case 27:case"end":return e.stop()}}),e)})))))},disabled:!oe,walletRequired:!0,children:"Confirm Purchase"}),Be&&Object(de.jsxs)(j.a,{className:p.errorBox,children:[Object(de.jsx)(le,{className:p.warningIcon}),Object(de.jsxs)(w.ib,{color:"error",children:["Error: ",null!==(t=(null===Be||void 0===Be?void 0:Be.message)||(null===G||void 0===G?void 0:G.message))&&void 0!==t?t:"Unknown error"]})]})]}),be&&Object(de.jsx)(j.a,{className:p.completedBox,children:Object(de.jsx)(w.K,{className:p.actionButton,variant:"contained",color:"primary",onClick:function(){y(F.a.Layout.toggleShowBuyNftDialog("close")),k.push("/arky/profile")},walletRequired:!0,fullWidth:!0,children:"View Collection"})}),Object(de.jsxs)(fe.a,{open:Q,className:p.backdrop,children:[Object(de.jsxs)(j.a,{flex:1,children:[Object(de.jsx)(w.ib,{variant:"h2",align:"center",className:p.loadingTitle,children:"Purchase Processing"}),Object(de.jsx)(w.ib,{align:"center",className:p.loadingBody,children:"Sit tight, it should be confirmed shortly."})]}),Object(de.jsx)(ge.a,{color:"primary"}),Object(de.jsx)(j.a,{marginBottom:2}),Object(de.jsx)(Te,{}),Object(de.jsx)(j.a,{flex:1})]})]})}))},Ee=n(57),Ae=n(104),Pe=n(13),Re=n(62),Me=["children","className","token","onComplete"],De=Object(O.a)((function(e){return{root:{"& .MuiDialogTitle-root":{padding:e.spacing(4.5,4.5,5),"& .MuiTypography-root":{fontFamily:"'Raleway', sans-serif",fontWeight:700,fontSize:"24px"},"& .MuiSvgIcon-root":{fontSize:"1.8rem"},"& .MuiIconButton-root":{top:"21px",right:"21px"}},position:"relative"},loader:{marginRight:e.spacing(1),height:e.spacing(2),width:e.spacing(2)},label:{fontWeight:"bold",fontSize:14,marginBottom:2},dialogContent:Object(o.a)({backgroundColor:e.palette.background.default,borderLeft:e.palette.border,borderRight:e.palette.border,borderBottom:e.palette.border,borderRadius:"0 0 12px 12px",padding:e.spacing(0,4.5,2)},e.breakpoints.up("sm"),{width:436})}})),ze=function(e){e.children;var t,n,a=e.className,r=e.token,o=e.onComplete,c=Object(b.a)(e,Me),p=De(),m=Object(v.b)(),f=Object(B.z)(),g=Object(v.c)(C.a).network,h=Object(v.c)(C.g).wallet,x=Object(S.n)(),O=Object(u.useState)([]),y=Object(d.a)(O,2),k=y[0],L=y[1],I=Object(u.useState)([]),E=Object(d.a)(I,2),A=E[0],P=E[1],R=Object(B.o)("cancelQueryAsks"),D=Object(d.a)(R,2),z=D[0],H=D[1],W=Object(B.o)("cancelSellNft"),Z=Object(d.a)(W,4),q=Z[0],_=Z[1],K=Z[2],V=Z[3],G=Object(v.c)((function(e){return e.layout.showCancelSellNftDialog})),U=function(){m(F.a.Layout.toggleShowCancelSellNftDialog("close"))};Object(u.useEffect)((function(){(null===h||void 0===h?void 0:h.provider)&&G&&(V(),z(Object(l.a)(s.a.mark((function e(){var t,n,a,r,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=x.params,n=t.collection,a=t.id,r=new N.b(g),e.next=4,r.listNftCheques({collectionAddress:Object(Re.fromBech32Address)(n),initiatorAddress:h.addressInfo.byte20.toLowerCase(),side:"sell",isActive:"true",tokenId:a,limit:100});case 4:o=e.sent,L(o.result.entries),X(o.result.entries);case 7:case"end":return e.stop()}}),e)})))))}),[null===h||void 0===h?void 0:h.addressInfo.byte20,null===(t=r.collection)||void 0===t?void 0:t.address,r.tokenId,G]);var X=function(e){(null===h||void 0===h?void 0:h.provider)&&e.length&&q(Object(l.a)(s.a.mark((function t(){var n,a,r,i,c,l;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new N.b(g),a=T.c.getSDK(),r=[],i=Object(Ae.a)(e),t.prev=4,l=s.a.mark((function e(){var t,o,i,l,d,b,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.value,o=t.chequeHash,i=n.arkMessage("Void",o.replace(/^0x/i,"")),e.next=5,h.provider.wallet.sign(i);case 5:return l=e.sent,d=l.signature,b=l.publicKey,e.next=10,n.voidCheque({publicKey:b,signature:d,chequeHash:o},a);case 10:u=e.sent,a.observeTx({hash:u.id,deadline:a.getCurrentBlock()+1e3}),P((function(e){return[].concat(Object(Ee.a)(e),[t])})),m(F.a.MarketPlace.listenPendingTx({chequeHash:o,txHash:u.id})),r.push(u),Object(N.j)("exec trade result",u);case 16:case"end":return e.stop()}}),e)})),i.s();case 7:if((c=i.n()).done){t.next=11;break}return t.delegateYield(l(),"t0",9);case 9:t.next=7;break;case 11:t.next=16;break;case 13:t.prev=13,t.t1=t.catch(4),i.e(t.t1);case 16:return t.prev=16,i.f(),t.finish(16);case 19:U(),null===o||void 0===o||o(r),f("Cancel listing transactions submitted!");case 22:case"end":return t.stop()}}),t,null,[[4,13,16,19]])}))))};return Object(de.jsx)(w.H,Object(i.a)(Object(i.a)({header:"Cancel Listing",open:G,onClose:_?void 0:U},c),{},{className:Object(Pe.a)(p.root,a),children:Object(de.jsx)(M.a,{className:p.dialogContent,children:Object(de.jsx)(j.a,{display:"flex",flexDirection:"column",children:Object(de.jsx)(j.a,{display:"flex",alignItems:"center",marginBottom:4,position:"relative",children:Object(de.jsxs)(j.a,{display:"flex",flexDirection:"column",alignItems:"stretch",children:[Object(de.jsx)(w.ib,{className:p.label,children:"Approve Transaction"}),Object(de.jsxs)(j.a,{display:"flex",marginTop:1,alignItems:"center",children:[_&&Object(de.jsx)(ge.a,{size:"small",className:p.loader,color:"primary"}),!H&&Object(de.jsxs)(w.ib,{children:["You are cancelling listing: ",A.length+1," of ",k.length,"."]})]}),!!K&&Object(de.jsx)(w.ib,{marginTop:1,color:"error",children:null!==(n=null===K||void 0===K?void 0:K.message)&&void 0!==n?n:K})]})})})})}))},He=["token","rounded","children","className"],We=Object(O.a)((function(e){var t;return{root:{position:"relative",color:e.palette.text.secondary},imageContainer:{borderRadius:e.spacing(1.5),width:"100%",position:"relative"},imageHeight:{display:"block",position:"relative",paddingTop:"100%"},image:{boxShadow:null===(t=e.shadows)||void 0===t?void 0:t[15],position:"absolute",left:0,top:0,height:"100%",width:"100%",objectFit:"contain","&.rounded":{borderRadius:16}},socialLinkGroup:{marginTop:e.spacing(.5),marginLeft:e.spacing(1)}}})),Ze=function(e){var t,n,a=e.token,r=e.rounded,o=(e.children,e.className),c=Object(b.a)(e,He),s=We();return Object(de.jsxs)(j.a,Object(i.a)(Object(i.a)({},c),{},{className:R()(s.root,o),children:[Object(de.jsxs)(j.a,{className:s.imageContainer,children:[Object(de.jsx)("span",{className:s.imageHeight}),Object(de.jsx)(w.j,{className:R()(s.image,{rounded:r}),altName:(null===a||void 0===a||null===(t=a.asset)||void 0===t?void 0:t.filename)||"Token Image",imageUrl:null===a||void 0===a||null===(n=a.asset)||void 0===n?void 0:n.url,imageType:"card"})]}),Object(de.jsxs)(j.a,{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center",children:[Object(de.jsx)(m.a,{style:{marginTop:5,marginLeft:10},variant:"body1",children:"Share"}),Object(de.jsx)(w.u,{className:s.socialLinkGroup})]})]}))},qe=n(910),_e=n(2026),Ke=n.n(_e),Ve=n(45),Ge=["title","titleId"];function Ue(){return(Ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Xe(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ye(e,t){var n=e.title,a=e.titleId,r=Xe(e,Ge);return u.createElement("svg",Ue({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},r),n?u.createElement("title",{id:a},n):null,Ce||(Ce=u.createElement("path",{d:"M23 12L20.56 9.21L20.9 5.52L17.29 4.7L15.4 1.5L12 2.96L8.6 1.5L6.71 4.69L3.1 5.5L3.44 9.2L1 12L3.44 14.79L3.1 18.49L6.71 19.31L8.6 22.5L12 21.03L15.4 22.49L17.29 19.3L20.9 18.48L20.56 14.79L23 12ZM9.38 16.01L7 13.61C6.61 13.22 6.61 12.59 7 12.2L7.07 12.13C7.46 11.74 8.1 11.74 8.49 12.13L10.1 13.75L15.25 8.59C15.64 8.2 16.28 8.2 16.67 8.59L16.74 8.66C17.13 9.05 17.13 9.68 16.74 10.07L10.82 16.01C10.41 16.4 9.78 16.4 9.38 16.01Z",fill:"#00FFB0"})),Be||(Be=u.createElement("ellipse",{cx:11.5,cy:11.5,rx:7.5,ry:6.5,fill:"#00FFB0"})),Ne||(Ne=u.createElement("path",{d:"M11.1671 19.5H10.3338L11.1671 13.6667H8.25042C7.76709 13.6667 7.77542 13.4 7.93375 13.1167C8.09209 12.8333 7.97542 13.05 7.99209 13.0167C9.06709 11.1167 10.6838 8.28333 12.8338 4.5H13.6671L12.8338 10.3333H15.7504C16.1588 10.3333 16.2171 10.6083 16.1421 10.7583L16.0838 10.8833C12.8004 16.625 11.1671 19.5 11.1671 19.5Z",fill:"#003340",fillOpacity:.5})))}var Je,$e=u.forwardRef(Ye),Qe=(n.p,n(2025)),et=n.n(Qe),tt=["children","className","topLabel","bottomLabel","tooltip"],nt=Object(O.a)((function(e){return{root:{display:"flex",flexDirection:"column",marginRight:e.spacing(1),marginBottom:e.spacing(2),padding:e.spacing(2,4)},content:{flex:1,display:"flex",justifyContent:"center",alignItems:"center"},infoIcon:{opacity:.5,fontSize:14,marginLeft:e.spacing(.5)},topLabel:{fontSize:14},bottomLabel:{opacity:.5,marginTop:e.spacing(.5),textAlign:"center"}}})),at=function(e){var t=e.children,n=e.className,a=e.topLabel,r=e.bottomLabel,o=e.tooltip,c=Object(b.a)(e,tt),s=nt();return Object(de.jsxs)(w.e,Object(i.a)(Object(i.a)({},c),{},{className:R()(s.root,n),children:[!!a&&Object(de.jsxs)(j.a,{display:"flex",justifyContent:"center",marginBottom:.5,children:[Object(de.jsx)(w.ib,{className:s.topLabel,variant:"body1",children:a}),"string"===typeof o&&Object(de.jsx)(et.a,{className:s.infoIcon})]}),Object(de.jsx)(j.a,{className:s.content,children:t}),!!r&&Object(de.jsx)(w.ib,{className:s.bottomLabel,children:r})]}))},rt=n(37),ot=n.n(rt),it=n(102);!function(e){e.BestAsk="Buy Now",e.BestBid="Best Bid",e.LastTrade="Last Trade"}(Je||(Je={}));var ct=["children","className","data","blockTime","currentBlock"],st=Object(O.a)((function(e){return{root:{},saleType:{display:"inline-block",margin:e.spacing(1,0,1.5,0),padding:e.spacing(1,2),borderRadius:10,color:"#6BE1FF",background:"rgba(107, 225, 255, 0.2)",fontFamily:"Avenir Next",fontWeight:900,textTransform:"uppercase"},saleInfo:{color:e.palette.primary.dark,fontWeight:"bold",fontFamily:"Avenir Next",display:"flex",alignItems:"flex-end",fontSize:32},secondaryInfo:{display:"flex",flexDirection:"column"},secondaryText:{color:e.palette.text.secondary,fontSize:12,lineHeight:1,paddingBottom:2,marginLeft:3},tokenLogo:{width:32,height:32,marginTop:-3,marginLeft:3}}})),lt=function(e){e.children;var t=e.className,n=e.data,a=e.blockTime,r=e.currentBlock,o=Object(b.a)(e,ct),c=st(),s=Object(v.c)(C.e),l=s.tokens,d=s.prices,p=Object(B.B)(),f=Object(u.useMemo)((function(){if(n.type===Je.LastTrade)return null;var e=n.cheque.expiry-r,t=a.add(e/it.a,"minutes");return t.isAfter(ot()())?t.fromNow(!0)+" left":"Expired "+t.fromNow()}),[r,a,n.cheque.expiry,n.type]),g=l[Object(Oe.toBech32Address)(n.cheque.price.address)];if(!g)return null;var h=Object(B.b)(n.cheque.price.amount),x=h.shiftedBy(-g.decimals),O=p.amount(d,g,h);return Object(de.jsxs)(j.a,Object(i.a)(Object(i.a)({},o),{},{className:R()(c.root,t),children:[Object(de.jsx)(j.a,{children:Object(de.jsx)(m.a,{variant:"h6",className:R()(c.saleType),children:n.type.toUpperCase()})}),Object(de.jsxs)(m.a,{variant:"h1",className:c.saleInfo,children:[Object(de.jsxs)(j.a,{mr:1,display:"flex",children:[Object(B.j)(x),Object(de.jsx)(w.G,{currency:g.symbol,address:g.address,className:c.tokenLogo})]}),Object(de.jsxs)(j.a,{className:c.secondaryInfo,children:[f&&Object(de.jsx)(m.a,{component:"span",variant:"body1",className:R()(c.secondaryText),children:f}),Object(de.jsxs)(m.a,{component:"span",variant:"body1",className:R()(c.secondaryText),children:["$",O.toFormat(2).toString()]})]})]})]}))},dt=["children","className","data","blockTime","currentBlock"],bt=Object(O.a)((function(e){return{root:{"&:not(:last-child)":{marginRight:e.spacing(4)}},container:{display:"flex",flexDirection:"row",marginTop:e.spacing(3),alignItems:"center",whiteSpace:"nowrap"},saleType:{padding:e.spacing(.5,1),marginRight:e.spacing(.8),borderRadius:6,color:"#6BE1FF",background:"rgba(107, 225, 255, 0.2)",fontFamily:"Avenir Next",fontWeight:700,textTransform:"uppercase"},secondaryText:{color:e.palette.text.secondary,marginLeft:5}}})),ut=function(e){e.children;var t=e.className,n=e.data,a=e.blockTime,r=e.currentBlock,o=Object(b.a)(e,dt),c=bt(),s=Object(v.c)(C.e).tokens,l=Object(u.useMemo)((function(){if(n.type===Je.LastTrade)return null;var e=n.cheque.expiry-r,t=a.add(e/it.a,"minutes");return t.isAfter(ot()())?t.fromNow(!0)+" left":null}),[r,a,n.cheque.expiry,n.type]),d=s[Object(Oe.toBech32Address)(n.cheque.price.address)];if(!d)return null;var p=Object(B.b)(n.cheque.price.amount).shiftedBy(-d.decimals);return Object(de.jsx)(j.a,Object(i.a)(Object(i.a)({},o),{},{className:R()(c.root,t),children:Object(de.jsxs)(m.a,{variant:"body1",className:c.container,children:[Object(de.jsx)(m.a,{className:c.saleType,children:n.type.toUpperCase()}),Object(B.j)(p)," ",d.symbol,l&&Object(de.jsx)(m.a,{className:c.secondaryText,children:l})]})}))},pt=["token","tokenId","children","className","tokenUpdatedCallback","isCancelling"],jt=Object(O.a)((function(e){return{root:{borderRadius:e.spacing(1.5),border:e.palette.border,color:e.palette.text.primary,boxShadow:"dark"===e.palette.type?"0px 4px 20px #002028":"none",background:"dark"===e.palette.type?"linear-gradient(173.54deg, #12222C 42.81%, #002A34 94.91%)":"transparent"},container:Object(o.a)({display:"flex",width:"100%",flexDirection:"column",padding:e.spacing(8,9,5,6)},e.breakpoints.down("md"),{padding:e.spacing(4)}),tokenId:Object(o.a)({fontFamily:"'Raleway', sans-serif",fontWeight:600,fontSize:"36px",lineHeight:"36px",marginTop:e.spacing(.5)},e.breakpoints.down("sm"),{marginTop:e.spacing(0),marginBottom:e.spacing(1)}),hexSymbol:{fontSize:"30px"},buttonBox:Object(o.a)({display:"flex",justifyContent:"space-between",marginTop:e.spacing(3),marginRight:e.spacing(-.5),marginLeft:e.spacing(-.5),"&.overlap":{marginTop:e.spacing(0),padding:e.spacing(0,4),transform:"translateY(-50%)"}},e.breakpoints.down("sm"),{flexDirection:"column","&.overlap":{marginTop:e.spacing(3),padding:e.spacing(0),transform:"translateY(0%)"}}),button:Object(o.a)({flex:1,margin:e.spacing(0,.5),maxWidth:280},e.breakpoints.down("sm"),{maxWidth:"unset"}),bidButton:Object(o.a)({padding:e.spacing(2.5,4),borderRadius:e.spacing(1.5),backgroundColor:"#6BE1FF","& .MuiButton-label":{color:"#003340"},"&:hover":{border:"none",backgroundColor:Object(Ve.a)("#6BE1FF",.1),"& .MuiButton-label":{color:Object(Ve.a)("#003340",.1)}}},e.breakpoints.down("sm"),{display:"flex",width:"100%",marginBottom:e.spacing(1)}),buyButton:Object(o.a)({padding:e.spacing(2.5,4),borderRadius:e.spacing(1.5),border:e.palette.border,backgroundColor:"#FFDF6B","& .MuiButton-label":{color:"#003340"},"&:hover":{backgroundColor:Object(Ve.a)("#FFDF6B",.15),"& .MuiButton-label":{color:Object(Ve.a)("#003340",.15)}}},e.breakpoints.down("sm"),{display:"flex",width:"100%",marginBottom:e.spacing(1)}),collectionName:{fontFamily:"'Raleway', sans-serif",fontWeight:900,fontSize:"18px",lineHeight:"24px",letterSpacing:"0.2px"},infoBoxContainer:Object(o.a)({display:"flex",marginRight:e.spacing(-1),marginBottom:e.spacing(-2)},e.breakpoints.down("xs"),{flexDirection:"column"}),secondaryInfo:Object(o.a)({display:"flex",flex:1},e.breakpoints.down("xs"),{flexDirection:"column"}),saleInfoContainer:Object(o.a)({display:"flex",flexDirection:"column",marginTop:e.spacing(3),minHeight:e.spacing(5),padding:e.spacing(2.5,4,7)},e.breakpoints.down("sm"),{padding:e.spacing(2,3)}),rarityLabel:{color:"#7B61FF",fontFamily:"Avenir Next",fontWeight:900,textAlign:"center",WebkitTextStroke:"4px #7B61FF33"},menuButton:{borderRadius:8,padding:"8px",backgroundColor:"dark"===e.palette.type?"#DEFFFF17":"#6BE1FF33",color:"dark"===e.palette.type?"#DEFFFF":"#003340","&:hover":{opacity:.5},"& .MuiButton-label":{padding:"12px 14px"}},noPadding:{padding:0,margin:0},verifiedBadge:Object(o.a)({marginLeft:"4px",marginTop:2,width:"20px",height:"20px",verticalAlign:"text-top",alignSelf:"flex-start"},e.breakpoints.down("md"),{height:14,width:14})}})),mt=function(e){var t,n,a,r,o=e.token,c=e.tokenId,p=(e.children,e.className),f=e.tokenUpdatedCallback,g=e.isCancelling,h=Object(b.a)(e,pt),x=jt(),O=Object(S.k)(),y=Object(v.b)(),k=Object(B.v)(),T=Object(B.z)(!1),L=Object(v.c)(C.g).wallet,I=Object(B.q)(),E=Object(d.a)(I,2),A=E[0],P=E[1],M=Object(B.o)("resyncMetadata"),D=Object(d.a)(M,1)[0],z=Object(u.useMemo)((function(){var e,t,n;return(null===(e=o.owner)||void 0===e?void 0:e.address)&&(null===L||void 0===L||null===(t=L.addressInfo.byte20)||void 0===t?void 0:t.toLowerCase())===(null===(n=o.owner)||void 0===n?void 0:n.address)}),[o,null===L||void 0===L?void 0:L.addressInfo]),H={};(o.bestAsk&&(H.primaryPrice={type:Je.BestAsk,cheque:o.bestAsk}),o.bestBid)&&(H[H.primaryPrice?"secondaryPrice1":"primaryPrice"]={type:Je.BestBid,cheque:o.bestBid});o.lastTrade&&(H[H.primaryPrice?H.secondaryPrice1?"secondaryPrice2":"secondaryPrice1":"primaryPrice"]={type:Je.LastTrade,cheque:o.lastTrade});return Object(de.jsx)(j.a,Object(i.a)(Object(i.a)({},h),{},{className:R()(x.root,p),children:Object(de.jsxs)(j.a,{className:x.container,children:[Object(de.jsxs)(j.a,{display:"flex",flexDirection:"row",children:[Object(de.jsxs)(j.a,{children:[Object(de.jsxs)(m.a,{className:x.collectionName,children:[null!==(t=null===(n=o.collection)||void 0===n?void 0:n.name)&&void 0!==t?t:""," ",(null===(a=o.collection)||void 0===a?void 0:a.verifiedAt)&&Object(de.jsx)($e,{className:x.verifiedBadge})]}),Object(de.jsxs)(m.a,{className:x.tokenId,children:[Object(de.jsxs)("span",{className:x.hexSymbol,children:[null===(r=o.name)||void 0===r?void 0:r.replace(/#\s*\d+$/i,"")," #"]}),c]})]}),Object(de.jsx)(j.a,{flexGrow:1}),Object(de.jsx)(j.a,{children:Object(de.jsx)(qe.a,{onClick:function(){D(Object(l.a)(s.a.mark((function e(){var t,n,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new N.b(k),e.next=3,t.resyncMetadata(o.collection.address,o.tokenId);case 3:n=e.sent,a=n.result,T(a.status);case 6:case"end":return e.stop()}}),e)}))))},className:x.menuButton,children:Object(de.jsx)(Ke.a,{})})})]}),Object(de.jsxs)(j.a,{mt:2,display:"flex",flexDirection:"column",children:[Object(de.jsx)(j.a,{className:x.infoBoxContainer,children:Object(de.jsx)(at,{topLabel:"ZAPs",bottomLabel:"Like it? ZAP it!",children:Object(de.jsx)(w.nb,{variant:"bold",onZap:f,token:o})})}),H.primaryPrice&&Object(de.jsxs)(w.e,{className:x.saleInfoContainer,children:[Object(de.jsx)(lt,{data:H.primaryPrice,blockTime:A,currentBlock:P}),Object(de.jsxs)(j.a,{className:x.secondaryInfo,children:[H.secondaryPrice1&&Object(de.jsx)(ut,{data:H.secondaryPrice1,blockTime:A,currentBlock:P,mr:2}),H.secondaryPrice2&&Object(de.jsx)(ut,{data:H.secondaryPrice2,blockTime:A,currentBlock:P})]})]}),Object(de.jsxs)(j.a,{display:"flex",className:R()(x.buttonBox,{overlap:!!H.primaryPrice}),children:[!z&&Object(de.jsx)(w.K,{containerClass:x.button,className:x.bidButton,disableRipple:!0,onClick:function(){y(F.a.Layout.toggleShowBidNftDialog("open"))},children:"Place Offer"}),z&&o.bestAsk&&Object(de.jsx)(w.K,{loading:!!g,containerClass:x.button,className:x.bidButton,disableRipple:!0,onClick:function(){y(F.a.Layout.toggleShowCancelSellNftDialog("open"))},children:"Cancel Listing"}),z&&o.collection&&Object(de.jsx)(w.K,{containerClass:x.button,className:x.buyButton,disableRipple:!0,onClick:function(){var e;(null===(e=o.collection)||void 0===e?void 0:e.address)&&O.push("/arky/collections/".concat(Object(Re.toBech32Address)(o.collection.address),"/").concat(o.tokenId,"/sell"))},children:o.bestAsk?"Lower Price":"Sell"}),!z&&o.bestAsk&&Object(de.jsx)(w.K,{containerClass:x.button,className:x.buyButton,disableRipple:!0,onClick:function(){y(F.a.Layout.toggleShowBuyNftDialog("open"))},children:"Buy Now"})]})]})]})}))},ft=(n(2018),n(1989)),gt=n(1990),ht=n(1991),xt=n(1987),Ot=n(1988),vt=n(1992),yt=["token","children","className"],wt=Object(O.a)((function(e){return{root:{"& .MuiTableCell-root":{borderBottom:e.palette.border}},header:{"& .MuiTableCell-root":{fontSize:12,fontFamily:"Avenir Next",fontWeight:600,opacity:.8,letterSpacing:"0.1px"}},key:{opacity:.8},bodyRow:{"&:last-child":{"& .MuiTableCell-root":{borderBottom:"none"}},"& .MuiTableCell-root":{fontSize:14,fontWeight:600,fontFamily:"Avenir Next",whiteSpace:"nowrap","&.highlight":{fontSize:15,fontWeight:700}}},emptyState:{textAlign:"center",fontSize:14,opacity:.8,"&.row":{paddingTop:e.spacing(3),borderBottom:"none"},"&.box":{padding:e.spacing(2,0)}}}})),kt=function(e){var t=e.token,n=(e.children,e.className),a=Object(b.a)(e,yt),r=Object(v.b)(),o=wt(),c=Object(B.v)(),p=Object(v.c)(C.c),j=p.collections,m=p.collectionTraits,f=Object(B.o)("getCollectionTraits"),g=Object(d.a)(f,1)[0],h=t.collection.address.toLowerCase(),x=m[h],O=j[h],y=Object(B.b)(null===O||void 0===O?void 0:O.tokenStat.tokenCount);Object(u.useEffect)((function(){g(Object(l.a)(s.a.mark((function e(){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(O&&x){e.next=6;break}return t=new N.b(c),e.next=4,t.getCollectionTraits(h);case 4:n=e.sent,r(F.a.MarketPlace.updateCollectionTraits(n));case 6:case"end":return e.stop()}}),e)}))))}),[]);var w=function(e){var t=Object(B.b)(e);if(t.lte(0)||y.isZero())return"-";var n=t.div(y);return"".concat(n.shiftedBy(2).toFormat(n.lt(1)?2:0)," %")};return Object(de.jsx)(ft.a,{children:Object(de.jsxs)(gt.a,Object(i.a)(Object(i.a)({},a),{},{className:R()(o.root,n),children:[Object(de.jsx)(ht.a,{children:Object(de.jsx)(xt.a,{className:o.header,children:["Category","Attribute","Rarity","Rarity %"].map((function(e,t){return Object(de.jsx)(Ot.a,{align:"center",children:e},e)}))})}),Object(de.jsxs)(vt.a,{children:[t.traitValues.sort((function(e,t){return e.traitType.trait.localeCompare(t.traitType.trait)})).map((function(e){var t=e.traitType.trait;return Object(de.jsxs)(xt.a,{className:o.bodyRow,children:[Object(de.jsx)(Ot.a,{className:R()(o.key,"highlight"),align:"center",children:t}),Object(de.jsx)(Ot.a,{className:"highlight",align:"center",children:e.value||"-"}),Object(de.jsx)(Ot.a,{align:"center",children:e.count||"-"}),Object(de.jsx)(Ot.a,{align:"center",children:w(e.count)})]},e.value)})),(!t.traitValues||0===t.traitValues.length)&&Object(de.jsx)(xt.a,{children:Object(de.jsx)(Ot.a,{colSpan:4,className:R()(o.emptyState,"row"),children:"No trait data yet."})})]})]}))})},Ct=["children","className","match"],Bt=Object(O.a)((function(e){var t;return{root:(t={},Object(o.a)(t,e.breakpoints.down("xs"),{padding:0,paddingBottom:e.spacing(3)}),Object(o.a)(t,"paddingBottom","30vh"),t),breadcrumbs:{marginTop:e.spacing(3)},breadcrumb:{fontFamily:"'Raleway', sans-serif",fontWeight:700,fontSize:"16px",color:"#6BE1FF","-webkit-text-stroke-color":"rgba(107, 225, 255, 0.2)","-webkit-text-stroke-width":"1px"},imageInfoContainer:Object(o.a)({alignItems:"center",marginTop:e.spacing(3),display:"flex"},e.breakpoints.down(850),{flexDirection:"column"}),nftImage:Object(o.a)({maxWidth:450,marginTop:35,position:"relative",width:"50vw"},e.breakpoints.down(850),{padding:e.spacing(0,4),width:"100%",marginBottom:e.spacing(2)}),mainInfoBox:Object(o.a)({flex:1,marginLeft:e.spacing(-10),paddingLeft:e.spacing(10)},e.breakpoints.down(850),{marginLeft:e.spacing(0),paddingLeft:e.spacing(0),width:"100%"}),verifiedBadge:{marginLeft:"4px",width:"22px",height:"22px",verticalAlign:"text-bottom"},bidsHeader:{fontSize:"26px",lineHeight:"40px",fontFamily:"'Raleway', sans-serif",fontWeight:700,color:"#DEFFFF"},halfOpacity:{opacity:.5,color:e.palette.primary.contrastText},aboutContainer:Object(o.a)({color:e.palette.text.primary,maxWidth:450,padding:e.spacing(7,6)},e.breakpoints.down("sm"),{padding:e.spacing(2,3),maxWidth:"none"}),aboutHeader:{fontFamily:"'Raleway', sans-serif",fontWeight:"bold",marginBottom:e.spacing(3)},aboutText:{fontSize:14,lineHeight:1.4,opacity:.8},traitContainer:Object(o.a)({minWidth:400,flex:1,padding:e.spacing(4,5),marginLeft:e.spacing(2),overflowX:"auto"},e.breakpoints.down("sm"),{marginLeft:0,minWidth:0,marginTop:e.spacing(2)}),aboutMenuItem:Object(o.a)({extend:"text",display:"flex",flexDirection:"row",alignItems:"stretch",padding:"0",maxWidth:200,margin:0},e.breakpoints.down("xs"),{marginTop:e.spacing(1)}),aboutItemText:{display:"flex",margin:e.spacing(.5,0,.5,1),flexDirection:"column",justifyContent:"space-evenly",color:e.palette.text.primary,opacity:.8},avatar:{width:52,height:52},aboutNameText:{fontSize:14,fontWeight:700,maxWidth:100,textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},xsColumn:Object(o.a)({},e.breakpoints.down("xs"),{flexDirection:"column"}),smColumn:Object(o.a)({},e.breakpoints.down("sm"),{flexDirection:"column"}),comingSoon:{margin:e.spacing(3,0),padding:e.spacing(3),textAlign:"center",fontSize:14,opacity:.8}}})),Nt=function(e){e.children,e.className;var t,n,a,r,o,c,O=e.match,S=Object(b.a)(e,Ct),I=Bt(),E=Object(v.b)(),A=Object(v.c)(C.a).network,P=Object(v.c)(C.c),R=P.bidsTable,M=P.pendingTxs,D=Object(v.c)(C.g).wallet,z=Object(u.useState)(),H=Object(d.a)(z,2),W=H[0],Z=H[1],q=Object(B.o)("runGetNFTDetails"),_=Object(d.a)(q,1)[0],K=Object(B.o)("getBids"),V=Object(d.a)(K,1)[0],G=Object(u.useState)(),U=Object(d.a)(G,2),X=U[0],Y=U[1],J=Object(B.o)("getOwner"),$=Object(d.a)(J,1)[0],Q=Object(u.useState)("Bids"),ee=Object(d.a)(Q,2),te=ee[0],ne=ee[1],ae=O.params.collection,re=O.params.id,oe=Object(u.useMemo)((function(){var e,t=null===W||void 0===W||null===(e=W.collection)||void 0===e?void 0:e.royaltyBps;return t?Object(B.b)(t).shiftedBy(-2).decimalPlaces(2).toFormat():null}),[null===W||void 0===W?void 0:W.collection]);Object(u.useEffect)((function(){ce()}),[ae,re,A]),Object(u.useEffect)((function(){D&&le()}),[D]);var ie=function(){var e=Object(l.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map((function(e){return Object(N.k)(e.id,300,1e3)})));case 2:return e.next=4,new Promise((function(e){return setTimeout(e,3e3)}));case 4:ce();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ce=function(){le(),se()},se=function(){V(Object(l.a)(s.a.mark((function e(){var t,n,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E(F.a.MarketPlace.updateBidsTable(void 0)),t=new N.b(A),n=Object(T.e)(ae).toLowerCase(),e.next=5,t.listNftCheques({collectionAddress:n,tokenId:re,side:"buy"});case 5:a=e.sent,E(F.a.MarketPlace.updateBidsTable({bids:a.result.entries,collectionAddress:n,tokenId:re,side:"buy"}));case 7:case"end":return e.stop()}}),e)}))))},le=function(e){_(Object(l.a)(s.a.mark((function t(){var n,a,r,o,i,c;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new N.b(A),a=Object(T.e)(ae).toLowerCase(),r=null===D||void 0===D?void 0:D.addressInfo.byte20.toLowerCase(),t.next=5,n.getNftToken(a,re,r);case 5:o=t.sent,i=o.result,Z(i.model),(c=i.model.owner)&&!e&&$(Object(l.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getProfile(c.address.toLowerCase());case 2:t=e.sent,Y(t.result.model);case 4:case"end":return e.stop()}}),e)}))));case 10:case"end":return t.stop()}}),t)}))))},be=(null===W||void 0===W?void 0:W.bestAsk)&&!!Object.values(M).find((function(e){var t;return e.chequeHash===(null===W||void 0===W||null===(t=W.bestAsk)||void 0===t?void 0:t.chequeHash)})),ue=[{path:"/arky/discover",value:"Discover"},{path:"/arky/collections/".concat(ae),value:"".concat(null===W||void 0===W||null===(t=W.collection)||void 0===t?void 0:t.name)},{path:"/arky/collections/".concat(ae,"/").concat(re),value:"#".concat(re)}],pe=Object(B.n)(null===X||void 0===X?void 0:X.address);return Object(de.jsxs)(k.a,Object(i.a)(Object(i.a)({},S),{},{children:[Object(de.jsxs)(p.a,{className:I.root,maxWidth:"lg",children:[Object(de.jsx)(w.f,{linkPath:ue}),Object(de.jsxs)(p.a,{disableGutters:!0,className:I.imageInfoContainer,children:[Object(de.jsx)(Ze,{className:I.nftImage,token:W,rounded:!0}),W&&Object(de.jsx)(mt,{className:I.mainInfoBox,tokenId:re,token:W,isCancelling:be,tokenUpdatedCallback:function(){return le()}})]}),Object(de.jsxs)(j.a,{mt:4,display:"flex",className:I.smColumn,children:[Object(de.jsxs)(w.e,{variant:"base",display:"flex",flexDirection:"column",className:I.aboutContainer,children:[Object(de.jsx)(m.a,{className:I.aboutHeader,variant:"h1",children:"About"}),Object(de.jsx)(m.a,{className:I.aboutText,children:null===W||void 0===W||null===(n=W.collection)||void 0===n?void 0:n.description}),Object(de.jsxs)(j.a,{className:I.xsColumn,mt:4,display:"flex",justifyContent:"center",children:[Object(de.jsx)(j.a,{flexGrow:1,marginRight:1,children:Object(de.jsxs)(f.a,{component:y.Link,to:"/arky/profile?address=".concat(pe),className:I.aboutMenuItem,button:!1,children:[Object(de.jsx)(g.a,{children:Object(de.jsx)(h.a,{className:I.avatar,alt:"owner",src:(null===X||void 0===X||null===(a=X.profileImage)||void 0===a?void 0:a.url)||""})}),Object(de.jsxs)(j.a,{className:I.aboutItemText,children:[Object(de.jsx)(m.a,{children:"Owner"}),Object(de.jsx)(w.p,{user:X})]})]})}),(null===W||void 0===W||null===(r=W.collection)||void 0===r?void 0:r.ownerName)&&Object(de.jsx)(j.a,{flexGrow:1,children:Object(de.jsxs)(f.a,{className:I.aboutMenuItem,button:!1,children:[Object(de.jsx)(g.a,{style:{paddingBottom:5},children:Object(de.jsx)(x.a,{overlap:"circle",anchorOrigin:{vertical:"bottom",horizontal:"right"},badgeContent:W.collection.verifiedAt?Object(de.jsx)(L.a,{}):void 0,children:Object(de.jsx)(h.a,{className:I.avatar,sizes:"medium",alt:"Collection owner",src:""})})}),Object(de.jsxs)(j.a,{className:I.aboutItemText,children:[Object(de.jsx)(m.a,{children:"Creator"}),Object(de.jsx)(m.a,{variant:"h3",className:I.aboutNameText,children:null===W||void 0===W||null===(o=W.collection)||void 0===o?void 0:o.ownerName}),oe&&Object(de.jsxs)(m.a,{children:[oe,"% Royalties"]})]})]})})]})]}),Object(de.jsx)(w.e,{variant:"base",className:I.traitContainer,children:W&&Object(de.jsx)(kt,{token:W})})]}),Object(de.jsx)(w.x,{mt:3,setCurrentTab:function(e){ne(e)},currentTab:te,tabHeaders:["Bids","Price History","Event History"]}),"Bids"===te&&Object(de.jsx)(w.d,{bids:null!==(c=null===R||void 0===R?void 0:R.bids)&&void 0!==c?c:[],showItem:!1}),"Price History"===te&&Object(de.jsx)(w.r,{collectionId:ae,tokenId:re}),"Event History"===te&&Object(de.jsx)(w.e,{variant:"base",className:I.comingSoon,children:"Coming Soon."})]}),W&&Object(de.jsxs)(u.Fragment,{children:[Object(de.jsx)(Ie,{token:W,collectionAddress:ae,onComplete:ce}),Object(de.jsx)(me,{token:W,collectionAddress:ae,onComplete:ce}),Object(de.jsx)(ze,{token:W,onComplete:ie})]})]}))}}}]);
//# sourceMappingURL=7.4854b369.chunk.js.map