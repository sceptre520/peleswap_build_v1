{"version":3,"sources":["app/layouts/ArkPage/ArkPage.tsx","app/views/ark/CollectionView/verified-badge.svg","app/views/ark/CollectionView/CollectionView.tsx"],"names":["useStyles","makeStyles","theme","root","flex","padding","spacing","breakpoints","down","ArkPage","props","children","classes","Box","className","_path","_ellipse","_path2","_excluded","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgVerifiedBadge","_ref","svgRef","title","titleId","width","height","viewBox","fill","xmlns","ref","id","d","cx","cy","rx","ry","fillOpacity","ForwardRef","verifiedBadge","collectionName","fontFamily","fontWeight","fontSize","lineHeight","color","palette","type","textAlign","marginTop","collectionCreator","primary","light","statsContainer","minWidth","statsItem","display","flexDirection","justifyContent","alignItems","borderRadius","backgroundColor","clickable","cursor","statsHeader","text","whiteSpace","statsContent","description","maxWidth","socialLinkGroup","alignSelf","transform","socialLinkGroupMobile","up","nftContainer","gridItem","collectionContract","margin","marginBottom","CollectionView","match","rest","network","useSelector","getBlockchain","history","useHistory","dispatch","useDispatch","useState","collection","setCollection","tooltipText","setTooltipText","useEffect","params","actions","MarketPlace","updateFilter","collectionAddress","likedBy","owner","useMemo","push","startsWith","bech32Address","hexAddress","fromBech32Address","toLowerCase","toBech32Address","floorPrice","bnOrZero","priceStat","shiftedBy","ZIL_DECIMALS","volume","holderCount","tokenStat","tokenCount","gt","toFormat","undefined","toHumanNumber","toString","a","arkClient","ArkClient","listCollection","data","result","entries","find","address","getCollection","breadcrumbs","path","value","name","Container","linkPath","badgeContent","verifiedAt","avatarImage","profileImageUrl","bannerImage","bannerImageUrl","variant","ownerName","Tooltip","placement","arrow","onClick","navigator","clipboard","writeText","setTimeout","Typography","truncateAddress","Grid","container","item","xs","sm","cls","saleType","fixed_price","timed_auction","filterComponent"],"mappings":"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","file":"static/js/10.48e58903.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Box, makeStyles } from \"@material-ui/core\";\r\nimport { AppTheme } from \"app/theme/types\";\r\n\r\nconst useStyles = makeStyles((theme: AppTheme) => ({\r\n  root: {\r\n    flex: 1,\r\n    padding: theme.spacing(8, 0, 2),\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      padding: theme.spacing(6, 0, 2),\r\n    },\r\n    [theme.breakpoints.down(\"xs\")]: {\r\n      padding: theme.spacing(6, 2, 2),\r\n    },\r\n  },\r\n}));\r\n\r\nconst ArkPage: React.FC<React.HTMLAttributes<HTMLDivElement>> = (\r\n  props: any\r\n) => {\r\n  const { children } = props;\r\n  const classes = useStyles();\r\n\r\n  return <Box className={classes.root}>{children}</Box>;\r\n};\r\n\r\nexport default ArkPage;\r\n","var _path, _ellipse, _path2;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgVerifiedBadge(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M23 12L20.56 9.21L20.9 5.52L17.29 4.7L15.4 1.5L12 2.96L8.6 1.5L6.71 4.69L3.1 5.5L3.44 9.2L1 12L3.44 14.79L3.1 18.49L6.71 19.31L8.6 22.5L12 21.03L15.4 22.49L17.29 19.3L20.9 18.48L20.56 14.79L23 12ZM9.38 16.01L7 13.61C6.61 13.22 6.61 12.59 7 12.2L7.07 12.13C7.46 11.74 8.1 11.74 8.49 12.13L10.1 13.75L15.25 8.59C15.64 8.2 16.28 8.2 16.67 8.59L16.74 8.66C17.13 9.05 17.13 9.68 16.74 10.07L10.82 16.01C10.41 16.4 9.78 16.4 9.38 16.01Z\",\n    fill: \"#37f2f0\"\n  })), _ellipse || (_ellipse = /*#__PURE__*/React.createElement(\"ellipse\", {\n    cx: 11.5,\n    cy: 11.5,\n    rx: 7.5,\n    ry: 6.5,\n    fill: \"#37f2f0\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M11.1671 19.5H10.3338L11.1671 13.6667H8.25042C7.76709 13.6667 7.77542 13.4 7.93375 13.1167C8.09209 12.8333 7.97542 13.05 7.99209 13.0167C9.06709 11.1167 10.6838 8.28333 12.8338 4.5H13.6671L12.8338 10.3333H15.7504C16.1588 10.3333 16.2171 10.6083 16.1421 10.7583L16.0838 10.8833C12.8004 16.625 11.1671 19.5 11.1671 19.5Z\",\n    fill: \"#003340\",\n    fillOpacity: 0.5\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgVerifiedBadge);\nexport default __webpack_public_path__ + \"static/media/verified-badge.b43cf016.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useEffect, useMemo, useState } from \"react\";\r\nimport { Box, Container, Grid, Tooltip, Typography } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { toBech32Address } from \"@zilliqa-js/crypto\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport cls from \"classnames\";\r\nimport { ArkBanner, ArkBreadcrumb, ArkNFTListing, ArkFilterBar, Text, ArkSocialLinkGroup } from \"app/components\";\r\nimport ArkPage from \"app/layouts/ArkPage\";\r\nimport { getBlockchain } from \"app/saga/selectors\";\r\nimport { actions } from \"app/store\";\r\nimport { CollectionWithStats } from \"app/store/types\";\r\nimport { AppTheme } from \"app/theme/types\";\r\nimport { bnOrZero, toHumanNumber, truncateAddress } from \"app/utils\";\r\nimport { ZIL_DECIMALS } from \"app/utils/constants\";\r\nimport { ArkClient } from \"core/utilities\";\r\nimport { fromBech32Address } from \"core/zilswap\";\r\nimport { updateFilter } from \"app/store/marketplace/actions\";\r\nimport { ReactComponent as VerifiedBadge } from \"./verified-badge.svg\";\r\n\r\nconst useStyles = makeStyles((theme: AppTheme) => ({\r\n  root: {\r\n    [theme.breakpoints.down(\"xs\")]: {\r\n      padding: 0,\r\n    },\r\n  },\r\n  verifiedBadge: {\r\n    height: 32,\r\n    width: 32,\r\n  },\r\n  collectionName: {\r\n    fontFamily: \"'Raleway', sans-serif\",\r\n    fontWeight: 700,\r\n    fontSize: \"30px\",\r\n    lineHeight: \"35px\",\r\n    color: theme.palette.type === \"dark\" ? \"#FFFFFF\" : \"#003340\",\r\n    textAlign: \"center\",\r\n    [theme.breakpoints.down(\"xs\")]: {\r\n      marginTop: \"10px\",\r\n    },\r\n  },\r\n  collectionCreator: {\r\n    color: theme.palette.primary.light,\r\n    fontSize: \"16px\",\r\n    lineHeight: \"24px\",\r\n    textAlign: \"center\",\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  statsContainer: {\r\n    width: \"fit-content\",\r\n    minWidth: \"750px\",\r\n    marginTop: theme.spacing(2),\r\n    [theme.breakpoints.down(\"md\")]: {\r\n      minWidth: \"0\",\r\n    },\r\n  },\r\n  statsItem: {\r\n    display: \"flex\",\r\n    padding: theme.spacing(1.5, 5, 1),\r\n    flexDirection: \"column\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    borderRadius: 12,\r\n    backgroundColor:\r\n      theme.palette.type === \"dark\" ? \"rgba(222, 255, 255, 0.1)\" : \"#EEBF4340\",\r\n  },\r\n  clickable: {\r\n    cursor: 'pointer',\r\n  },\r\n  statsHeader: {\r\n    fontSize: \"12px\",\r\n    lineHeight: \"14px\",\r\n    color: theme.palette.text?.primary,\r\n    whiteSpace: \"nowrap\",\r\n  },\r\n  statsContent: {\r\n    fontFamily: \"'Raleway', sans-serif\",\r\n    fontWeight: 900,\r\n    fontSize: \"24px\",\r\n    lineHeight: \"36px\",\r\n    color: theme.palette.text?.primary,\r\n    whiteSpace: \"nowrap\",\r\n  },\r\n  description: {\r\n    fontSize: \"16px\",\r\n    lineHeight: \"24px\",\r\n    color: theme.palette.text?.primary,\r\n    maxWidth: \"750px\",\r\n    marginTop: theme.spacing(3.5),\r\n    textAlign: \"center\",\r\n  },\r\n  socialLinkGroup: {\r\n    alignSelf: \"flex-end\",\r\n    marginTop: theme.spacing(-2.5),\r\n    transform: \"translateY(-40px)\",\r\n    [theme.breakpoints.down(\"xs\")]: {\r\n      transform: \"none\",\r\n      marginTop: theme.spacing(1),\r\n      alignSelf: \"center\",\r\n    },\r\n  },\r\n  socialLinkGroupMobile: {\r\n    marginTop: theme.spacing(1),\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n      display: \"none!important\",\r\n    },\r\n  },\r\n  nftContainer: {\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  gridItem: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n  },\r\n  collectionContract: {\r\n    borderRadius: \"12px\",\r\n    padding: \"8px 24px\",\r\n    backgroundColor:\r\n      theme.palette.type === \"dark\" ? \"rgba(222, 255, 255, 0.1)\" : \"#EEBF4340\",\r\n    alignSelf: \"center\",\r\n    width: \"fit-content\",\r\n    cursor: \"pointer\",\r\n    margin: 'auto',\r\n    marginTop: theme.spacing(1),\r\n    marginBottom: theme.spacing(1),\r\n  },\r\n}));\r\n\r\nconst CollectionView: React.FC<React.HTMLAttributes<HTMLDivElement>> = (\r\n  props: any\r\n) => {\r\n  const { children, className, match, ...rest } = props;\r\n  const classes = useStyles();\r\n  const { network } = useSelector(getBlockchain);\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n\r\n  // fetch nfts in collection (to use store instead)\r\n  const [collection, setCollection] = useState<CollectionWithStats>();\r\n  const [tooltipText, setTooltipText] = useState<string>('Copy address');\r\n\r\n  useEffect(() => {\r\n    if (match.params?.collection) {\r\n      dispatch(actions.MarketPlace.updateFilter({\r\n        collectionAddress: match.params.collection,\r\n        likedBy: null,\r\n        owner: null,\r\n      }));\r\n    }\r\n\r\n    // eslint-disable-next-line\r\n  }, [match.params?.collection])\r\n\r\n  const { bech32Address, hexAddress } = useMemo(() => {\r\n    if (!match.params?.collection) {\r\n      history.push(\"/arky/discover\");\r\n      return {};\r\n    }\r\n\r\n    let collectionAddress = match.params.collection;\r\n    if (collectionAddress?.startsWith(\"zil1\")) {\r\n      return {\r\n        bech32Address: collectionAddress,\r\n        hexAddress: fromBech32Address(collectionAddress)?.toLowerCase(),\r\n      };\r\n    } else {\r\n      history.push(`/arky/collections/${toBech32Address(collectionAddress)}`);\r\n      return {};\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [match.params?.collection]);\r\n\r\n  const { floorPrice, volume, holderCount, tokenCount } = useMemo(() => {\r\n    if (!collection) return {};\r\n\r\n    const floorPrice = bnOrZero(collection.priceStat?.floorPrice).shiftedBy(-ZIL_DECIMALS)\r\n    const volume = bnOrZero(collection.priceStat?.volume).shiftedBy(-ZIL_DECIMALS);\r\n    const holderCount = bnOrZero(collection.tokenStat.holderCount);\r\n    const tokenCount = bnOrZero(collection.tokenStat.tokenCount);\r\n\r\n    return {\r\n      floorPrice: floorPrice.gt(0) ? floorPrice.toFormat(0) : undefined,\r\n      volume: volume.gt(0) ? toHumanNumber(volume, 0) : undefined,\r\n      holderCount: holderCount.gt(0) ? holderCount.toString(10) : undefined,\r\n      tokenCount: tokenCount.gt(0) ? tokenCount.toString(10) : undefined,\r\n    }\r\n  }, [collection]);\r\n\r\n  // get collection stat data\r\n  useEffect(() => {\r\n    if (!hexAddress) return;\r\n\r\n    const getCollection = async () => {\r\n      const arkClient = new ArkClient(network);\r\n      const data = await arkClient.listCollection();\r\n      const collection = data.result.entries.find(\r\n        (collection: CollectionWithStats) => collection.address === hexAddress\r\n      );\r\n      if (collection) {\r\n        setCollection(collection);\r\n      } else {\r\n        history.push(\"/arky/discover\");\r\n      }\r\n    };\r\n\r\n    getCollection();\r\n    // eslint-disable-next-line\r\n  }, [hexAddress]);\r\n\r\n  const handleFilterBuyNow = () => {\r\n    dispatch(updateFilter({ saleType: { fixed_price: true, timed_auction: false } }))\r\n  }\r\n\r\n  const copyAddr = (text: string) => {\r\n    navigator.clipboard.writeText(text);\r\n    setTooltipText(\"Copied!\");\r\n    setTimeout(() => {\r\n      setTooltipText(\"Copy address\");\r\n    }, 2000);\r\n  };\r\n\r\n  if (!collection) return null;\r\n\r\n  const breadcrumbs = [\r\n    { path: \"/arky/discover\", value: \"Discover\" },\r\n    {\r\n      path: `/arky/collections/${bech32Address}`,\r\n      value: collection?.name,\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <ArkPage {...rest}>\r\n      <Container className={classes.root} maxWidth=\"lg\">\r\n        <ArkBreadcrumb linkPath={breadcrumbs} />\r\n\r\n        <ArkBanner\r\n          badgeContent={collection.verifiedAt ? <VerifiedBadge className={classes.verifiedBadge} /> : undefined}\r\n          avatarImage={collection.profileImageUrl}\r\n          bannerImage={collection.bannerImageUrl}\r\n        />\r\n        <Box display=\"flex\" flexDirection=\"column\" alignItems=\"center\">\r\n          <ArkSocialLinkGroup collection={collection} className={classes.socialLinkGroup} />\r\n\r\n          {/* Collection name and creator  */}\r\n          <Box display=\"flex\" flexDirection=\"column\" maxWidth={500}>\r\n            <Text variant=\"h1\" className={classes.collectionName}>\r\n              {collection.name}\r\n            </Text>\r\n\r\n            {/* missing info */}\r\n            <Text className={classes.collectionCreator}>by {collection.ownerName}</Text>\r\n            <Tooltip title={tooltipText} placement=\"right\" arrow>\r\n              <Box\r\n                onClick={() => bech32Address && copyAddr(bech32Address)}\r\n                className={classes.collectionContract}\r\n              >\r\n                <Typography variant=\"body1\">\r\n                  {truncateAddress(bech32Address || '')}\r\n                </Typography>\r\n              </Box>\r\n            </Tooltip>\r\n          </Box>\r\n\r\n          {/* Stats */}\r\n          <Grid container spacing={2} className={classes.statsContainer}>\r\n            <Grid item xs={6} sm={3}>\r\n              <Box className={classes.statsItem}>\r\n                <Text className={classes.statsHeader}>Collection Size</Text>\r\n                <Text className={classes.statsContent}>{tokenCount ?? \"-\"}</Text>\r\n              </Box>\r\n            </Grid>\r\n\r\n            <Grid item xs={6} sm={3}>\r\n              <Box className={classes.statsItem}>\r\n                <Text className={classes.statsHeader}>Number of Owners</Text>\r\n                <Text className={classes.statsContent}>{holderCount ?? \"-\"}</Text>\r\n              </Box>\r\n            </Grid>\r\n\r\n            {/* Need to convert to human number else might overflow */}\r\n            <Grid item xs={6} sm={3}>\r\n              <Box className={cls(classes.statsItem, classes.clickable)} onClick={handleFilterBuyNow}>\r\n                <Text className={classes.statsHeader}>Floor Price</Text>\r\n                <Text className={classes.statsContent}>{floorPrice ? `${floorPrice} ZIL` : \"-\"}</Text>\r\n              </Box>\r\n            </Grid>\r\n\r\n            <Grid item xs={6} sm={3}>\r\n              <Box className={classes.statsItem}>\r\n                <Text className={classes.statsHeader}>7-Day Volume</Text>\r\n                <Text className={classes.statsContent}>{volume ? `${volume} ZIL` : \"-\"}</Text>\r\n              </Box>\r\n            </Grid>\r\n          </Grid>\r\n\r\n          {/* Description */}\r\n          <Text className={classes.description}>{collection.description}</Text>\r\n        </Box>\r\n\r\n        <ArkNFTListing\r\n          collectionName={collection.name}\r\n          filterComponent={<ArkFilterBar collectionAddress={collection.address} />}\r\n        />\r\n      </Container>\r\n    </ArkPage>\r\n  );\r\n};\r\n\r\nexport default CollectionView;\r\n"],"sourceRoot":""}