{"version":3,"sources":["app/layouts/Page/Page.tsx","app/views/pools/PoolsOverview/components/PoolsListing/sort.svg","../node_modules/@material-ui/icons/esm/ArrowDropUp.js","../node_modules/@material-ui/icons/esm/ArrowDropDown.js","../node_modules/@material-ui/icons/esm/ViewHeadline.js","app/views/pools/PoolsOverview/components/PoolInfoCard/PoolInfoCard.tsx","app/views/pools/PoolsOverview/components/PoolsSearchInput/PoolsSearchInput.tsx","app/views/pools/PoolsOverview/components/PoolMobileInfoCard/PoolMobileInfoCard.tsx","app/views/pools/PoolsOverview/components/PoolsListing/desc.svg","app/views/pools/PoolsOverview/components/PoolsListing/asc.svg","app/views/pools/PoolsOverview/components/PoolsListing/single-desc.svg","app/views/pools/PoolsOverview/components/PoolsListing/single-asc.svg","app/views/pools/PoolsOverview/components/PoolsListing/checkmark.svg","app/views/pools/PoolsOverview/components/PoolsListing/PoolsListing.tsx"],"names":["useStyles","makeStyles","theme","root","whiteSpace","maxWidth","flex","display","flexDirection","Page","props","children","className","rest","staticContext","classes","Box","cls","_path","_path2","createSvgIcon","React","d","borderRadius","boxShadow","palette","cardBoxShadow","border","backgroundColor","paddingBottom","title","padding","spacing","paddingTop","poolIcon","marginRight","content","alignItems","breakpoints","down","extraContent","rewardValue","fontSize","lineHeight","fontWeight","text","primary","rewardContainer","roiContainer","justifyContent","roiValue","roiNumber","marginLeft","color","dark","thinSubtitle","dropdown","dropdownItem","minWidth","statContainer","statItem","marginBottom","titleColoured","type","hexToRGBA","addIcon","secondary","height","width","viewIcon","box","currencyInput","margin","token","poolSize","rewardTokenLogo","divider","transform","borderBottom","borderImage","label","marginTop","textColoured","liquidityVolumeContainer","logo","detailButton","addLiquidity","opacity","selectedCard","keyDisplay","stakeText","currencyReward","coreDropChip","position","fontFamily","coreDrop","more","cursor","rewardPopper","background","default","overflow","halfOpacity","PoolInfoCard","showCoreTag","showDropTag","dispatch","useDispatch","history","useHistory","valueCalculators","useValueCalculators","tokenState","useSelector","state","rewardsState","rewards","swapVolumes","stats","dailySwapVolumes","walletState","wallet","network","useNetwork","useState","showDetail","setShowDetail","rewardsAnchor","setRewardsAnchor","useMemo","isZil","totalLiquidity","BIG_ZERO","usdValues","EMPTY_USD_VALUE","values","address","totalZilVolume","totalZilVolumeUSD","amount","prices","tokens","ZIL_ADDRESS","poolRewards","rewardsByPool","roiPerSecond","rewardsPerSecond","dividedBy","poolLiquidity","roiPerDay","times","shiftedBy","decimalPlaces","apr","secondsPerDay","preStartDistributors","distributors","filter","distributor","dayjs","isAfter","emission_info","distribution_start_time","roi","isZero","isNaN","dp","toFormat","decimals","poolShare","pool","contributionPercentage","poolShareLabel","toString","tokenAmount","toHumanNumber","tokenReserve","peleAmount","zilReserve","PELE_DECIMALS","potentialRewards","potentialRewardsByPool","showTag","whitelisted","length","Card","CardContent","mr","currency","symbol","Divider","PELE_ADDRESS","px","variant","Object","entries","groupBy","reward","rewardToken","find","toBech32Address","reward_token_address_hex","reduce","total","plus","acc","amountPerEpoch","BIG_ONE","slice","map","onClick","ev","currentTarget","openRewards","Visibility","Popover","open","Boolean","anchorEl","anchorOrigin","vertical","horizontal","onClose","isZwap","pr","Button","ArrowDropUp","ArrowDropDown","actions","Pool","select","Layout","showPoolType","push","Chip","kkey","ValueComponent","mt","connectText","ViewHeadline","flatMap","tokenAddress","PoolsSearchInput","onSearch","placeholder","fullWidth","dividerBox","flexText","boldless","detailSelect","detailBox","moreText","PoolMobileInfoCard","zilAmount","depositedValue","noBg","pair","noOverlap","wrapLabel","Typography","flexGrow","textAlign","my","_extends","assign","target","i","arguments","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgSort","_ref","svgRef","titleId","viewBox","fill","xmlns","ref","id","fillOpacity","ForwardRef","SvgDesc","SvgAsc","SvgSingleDesc","SvgSingleAsc","SvgCheckmark","stroke","strokeWidth","initialLimits","mega","single","core","registered","all","limitArr","contrast","header","tabs","overflowX","tab","textTransform","tabText","tabLabel","tabSearchBox","headerText","selectMenu","menuItem","selectButton","paddingRight","selectedMenu","noBold","PoolsListing","ownedLiquidity","limits","setLimits","searchQuery","setSearchQuery","tabValue","setTabValue","currentLimit","sortBy","setSortBy","setAnchorEl","useEffect","queryRegexp","RegExp","undefined","sort","lhs","rhs","lhsValues","rhsValues","lhsTVL","rhsTVL","includes","comparedTo","lhsRewardValue","rhsRewardValue","eq","split","sortType","sortOrder","lhsRewards","rhsRewards","lhsAmount","rhsAmount","lhsUsdValues","rhsUsdValues","lhsRoiPerSec","rhsRoiPerSec","lhsApr","rhsApr","accum","name","toLowerCase","match","isWzil","blockchain","Blockchain","Zilliqa","registeredTokens","otherTokens","tokenReward","singleDrop","megaDrop","updateSort","newOrder","newSort","getLogo","closeMenu","allTokens","mb","Hidden","mdUp","openSortMenu","sortString","getSortDetail","Tabs","value","onChange","newValue","Tab","query","smDown","paddingLeft","Grid","container","item","xs","justifySelf","marginY","marginX"],"mappings":"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","file":"static/js/2.59f6454c.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Box } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport cls from \"classnames\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    whiteSpace: \"nowrap\",\r\n    maxWidth: \"100%\",\r\n    flex: 1,\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n  },\r\n}));\r\nconst Page: React.FC<React.HTMLAttributes<HTMLDivElement>> = (props: any) => {\r\n  const { children, className, staticContext, ...rest } = props;\r\n  const classes = useStyles();\r\n  return (\r\n    <Box {...rest} className={cls(classes.root, className)}>\r\n      {children}\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default Page;\r\n","var _path, _path2;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgSort(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 22,\n    height: 30,\n    viewBox: \"0 0 22 30\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M14.4325 17.6798L11.7616 20.3507C11.3594 20.7529 10.7097 20.7529 10.3075 20.3507L7.6366 17.6798C6.98691 17.0301 7.45097 15.9163 8.36879 15.9163H13.7107C14.6285 15.9163 15.0822 17.0301 14.4325 17.6798Z\",\n    fill: \"#DEFFFF\",\n    fillOpacity: 0.5\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M7.56746 12.3202L10.2384 9.6493C10.6406 9.24711 11.2903 9.24711 11.6925 9.6493L14.3634 12.3202C15.0131 12.9699 14.549 14.0837 13.6312 14.0837H8.28934C7.37152 14.0837 6.91777 12.9699 7.56746 12.3202Z\",\n    fill: \"#DEFFFF\",\n    fillOpacity: 0.5\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgSort);\nexport default __webpack_public_path__ + \"static/media/sort.650be31f.svg\";\nexport { ForwardRef as ReactComponent };","import * as React from 'react';\nimport createSvgIcon from './utils/createSvgIcon';\nexport default createSvgIcon( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M7 14l5-5 5 5z\"\n}), 'ArrowDropUp');","import * as React from 'react';\nimport createSvgIcon from './utils/createSvgIcon';\nexport default createSvgIcon( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M7 10l5 5 5-5z\"\n}), 'ArrowDropDown');","import * as React from 'react';\nimport createSvgIcon from './utils/createSvgIcon';\nexport default createSvgIcon( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M4 15h16v-2H4v2zm0 4h16v-2H4v2zm0-8h16V9H4v2zm0-6v2h16V5H4z\"\n}), 'ViewHeadline');","import React, { useMemo, useState } from \"react\";\r\nimport { Box, Button, Card, CardContent, CardProps, Chip, Divider, Popover } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { ViewHeadline, ArrowDropUp, ArrowDropDown, Visibility } from \"@material-ui/icons\";\r\nimport cls from \"classnames\";\r\nimport dayjs from \"dayjs\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useHistory } from \"react-router\";\r\nimport groupBy from \"lodash/groupBy\";\r\nimport { toBech32Address } from \"@zilliqa-js/crypto\";\r\nimport { CurrencyLogo, FancyButton, KeyValueDisplay, Text, ConnectWalletButton } from \"app/components\";\r\nimport { actions } from \"app/store\";\r\nimport { EMPTY_USD_VALUE } from \"app/store/token/reducer\";\r\nimport { PoolSwapVolumeMap, RewardsState, RootState, TokenInfo, TokenState, WalletState } from \"app/store/types\";\r\nimport { AppTheme } from \"app/theme/types\";\r\nimport { hexToRGBA, toHumanNumber, useNetwork, useValueCalculators } from \"app/utils\";\r\nimport { BIG_ONE, BIG_ZERO, ZIL_ADDRESS, PELE_ADDRESS, PELE_DECIMALS } from \"app/utils/constants\";\r\n\r\ninterface Props extends CardProps {\r\n  token: TokenInfo;\r\n  showCoreTag?: boolean;\r\n  showDropTag?: boolean;\r\n}\r\n\r\nconst PoolInfoCard: React.FC<Props> = (props: Props) => {\r\n  const { children, className, token, showCoreTag = true, showDropTag = true, ...rest } = props;\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const valueCalculators = useValueCalculators();\r\n  const tokenState = useSelector<RootState, TokenState>(state => state.token);\r\n  const rewardsState = useSelector<RootState, RewardsState>(state => state.rewards);\r\n  const swapVolumes = useSelector<RootState, PoolSwapVolumeMap>(state => state.stats.dailySwapVolumes)\r\n  const walletState = useSelector<RootState, WalletState>(state => state.wallet);\r\n  const network = useNetwork();\r\n  const classes = useStyles();\r\n  const [showDetail, setShowDetail] = useState(false);\r\n  const [rewardsAnchor, setRewardsAnchor] = useState<HTMLSpanElement | null>(null);\r\n\r\n  const onGotoAddLiquidity = () => {\r\n    dispatch(actions.Pool.select({ network, token }));\r\n    dispatch(actions.Layout.showPoolType(\"add\"));\r\n    history.push(\"/pool\");\r\n  }\r\n  const { totalZilVolumeUSD, usdValues } = useMemo(() => {\r\n    if (token.isZil) {\r\n      return { totalLiquidity: BIG_ZERO, usdValues: EMPTY_USD_VALUE };\r\n    }\r\n\r\n    const usdValues = tokenState.values[token.address] ?? EMPTY_USD_VALUE;\r\n    const totalZilVolume = swapVolumes[token.address]?.totalZilVolume ?? BIG_ZERO;\r\n    const totalZilVolumeUSD = valueCalculators.amount(tokenState.prices, tokenState.tokens[ZIL_ADDRESS], totalZilVolume);\r\n\r\n    return {\r\n      totalZilVolumeUSD,\r\n      usdValues,\r\n    };\r\n  }, [tokenState, token, valueCalculators, swapVolumes]);\r\n\r\n\r\n  const {\r\n    poolRewards,\r\n    roi,\r\n    apr,\r\n    preStartDistributors\r\n  } = React.useMemo(() => {\r\n    const poolRewards = rewardsState.rewardsByPool[token.address] || [];\r\n\r\n    // calculate total roi and apr\r\n    const roiPerSecond = usdValues.rewardsPerSecond.dividedBy(usdValues.poolLiquidity);\r\n    const secondsPerDay = 24 * 3600\r\n    const roiPerDay = roiPerSecond.times(secondsPerDay).shiftedBy(2).decimalPlaces(2);\r\n    const apr = roiPerSecond.times(secondsPerDay * 365).shiftedBy(2).decimalPlaces(1);\r\n    const preStartDistributors = rewardsState.distributors.filter((distributor) => !dayjs().isAfter(distributor.emission_info.distribution_start_time * 1000));\r\n\r\n    return {\r\n      poolRewards,\r\n      roi: roiPerDay.isZero() || roiPerDay.isNaN() ? \"-\" : `${roiPerDay.dp(2).toFormat()}%`,\r\n      apr: apr.isZero() || apr.isNaN() ? '-' : `${apr.dp(2).toFormat()}%`,\r\n      preStartDistributors,\r\n    };\r\n  }, [rewardsState.rewardsByPool, rewardsState.distributors, token, usdValues]);\r\n\r\n\r\n  if (token.isZil) return null;\r\n\r\n  const decimals = token.address === ZIL_ADDRESS ? 12 : (token.decimals ?? 0);\r\n\r\n  const poolShare = token.pool?.contributionPercentage.shiftedBy(-2) ?? BIG_ZERO;\r\n  const poolShareLabel = poolShare.shiftedBy(2).decimalPlaces(3).toString(10) ?? \"\";\r\n  const tokenAmount = toHumanNumber(poolShare.times(token.pool?.tokenReserve ?? BIG_ZERO).shiftedBy(-decimals));\r\n  const peleAmount = toHumanNumber(poolShare.times(token.pool?.zilReserve ?? BIG_ZERO).shiftedBy(-PELE_DECIMALS));\r\n  // const depositedValue = poolShare.times(usdValues?.poolLiquidity ?? BIG_ZERO);\r\n\r\n  const potentialRewards = rewardsState.potentialRewardsByPool[token.address] || [];\r\n\r\n  const showTag = (showCoreTag && token.whitelisted) || (showDropTag && poolRewards.length > 1);\r\n\r\n  const openRewards = (ev: React.MouseEvent<HTMLSpanElement>) => {\r\n    setRewardsAnchor(ev.currentTarget);\r\n  }\r\n\r\n  const closeRewards = () => {\r\n    setRewardsAnchor(null)\r\n  }\r\n\r\n\r\n  return (\r\n    <Card {...rest} className={cls(classes.root, className)}>\r\n      <CardContent className={cls(classes.content, { [classes.selectedCard]: showDetail })}>\r\n        <Box flex={.5} mr={2} justifyContent=\"center\" display=\"flex\">\r\n          <Box display=\"flex\" flexDirection=\"column\" minWidth=\"60px\">\r\n            <Box display=\"flex\" justifyContent=\"flex-start\">\r\n              <CurrencyLogo className={classes.logo} currency={token.symbol} address={token.address} />\r\n            </Box>\r\n            <Divider className={classes.divider} />\r\n            <Box display=\"flex\" justifyContent=\"flex-end\">\r\n              <CurrencyLogo className={classes.logo} currency=\"PELE\" address={PELE_ADDRESS[network]} />\r\n            </Box>\r\n          </Box>\r\n        </Box>\r\n        <Box flex={2} justifyContent=\"flex-start\" display=\"flex\" flexDirection=\"column\">\r\n          <Box px={\"16px\"} display=\"flex\">\r\n            <Text className={classes.poolSize}>{toHumanNumber(token.pool?.tokenReserve.shiftedBy(-decimals), 2)}</Text>\r\n            <Text className={classes.token}>{token.symbol}</Text>\r\n          </Box>\r\n          <Box px={\"16px\"} display=\"flex\">\r\n            <Text className={classes.poolSize}>{toHumanNumber(token.pool?.zilReserve.shiftedBy(-PELE_DECIMALS), 2)}</Text>\r\n            <Text className={classes.token}>PELE</Text>\r\n          </Box>\r\n        </Box>\r\n\r\n        <Box flex={2} justifyContent=\"flex-start\" display=\"flex\" className={classes.statContainer} px={1}>\r\n          <Box display=\"flex\" className={classes.statItem}>\r\n            <Text variant=\"h1\" color=\"textPrimary\" className={classes.rewardValue}>\r\n              {poolRewards.length > 0 ?\r\n                \"$\" + Object.entries(groupBy(poolRewards, (reward) => reward.rewardToken.address))\r\n                  .filter(([address, rewards]) => {\r\n                    return !preStartDistributors?.find(distributor => toBech32Address(distributor.reward_token_address_hex) === address)\r\n                  })\r\n                  .reduce((total, [address, rewards]) =>\r\n                    total.plus(rewards.reduce((acc, reward) =>\r\n                      acc.plus(reward.amountPerEpoch), BIG_ZERO).shiftedBy(-rewards[0].rewardToken.decimals).times(tokenState.prices[address] || BIG_ONE)), BIG_ZERO)\r\n                  .toFormat(2)\r\n                :\r\n                \"-\"}\r\n              {\r\n                poolRewards.length > 0 ?\r\n                  <>\r\n                    {Object.entries(groupBy(poolRewards, (reward) => reward.rewardToken.address))\r\n                      .slice(0, 2)\r\n                      .filter(([address, rewards]) => {\r\n                        return !preStartDistributors?.find(distributor => toBech32Address(distributor.reward_token_address_hex) === address)\r\n                      })\r\n                      .map(([address, rewards]) => {\r\n                        return (\r\n                          <Text key={address} variant=\"body2\" color=\"textPrimary\" className={classes.currencyReward}>\r\n                            <Text className={classes.textColoured}>{rewards.reduce((acc, reward) => acc.plus(reward.amountPerEpoch), BIG_ZERO).shiftedBy(-rewards[0].rewardToken.decimals).toFormat(2)}</Text>&nbsp;{rewards[0].rewardToken.symbol}\r\n                          </Text>\r\n                        )\r\n                      })}\r\n                  </>\r\n                  :\r\n                  <Text color=\"textPrimary\" className={classes.rewardValue}>\r\n                    -\r\n                  </Text>\r\n              }\r\n              {poolRewards.length > 2 && (<Text onClick={(ev) => openRewards(ev)} className={classes.more}>More&nbsp;<Visibility fontSize=\"small\" /></Text>)}\r\n              <Popover\r\n                open={Boolean(rewardsAnchor)}\r\n                anchorEl={rewardsAnchor}\r\n                anchorOrigin={{\r\n                  vertical: \"bottom\",\r\n                  horizontal: \"left\",\r\n                }}\r\n                onClose={closeRewards}\r\n                className={classes.rewardPopper}\r\n              >\r\n                {Object.entries(groupBy(poolRewards, (reward) => reward.rewardToken.address))\r\n                  .filter(([address, rewards]) => {\r\n                    return !preStartDistributors?.find(distributor => toBech32Address(distributor.reward_token_address_hex) === address)\r\n                  })\r\n                  .map(([address, rewards]) => {\r\n                    return (\r\n                      <Text key={address} variant=\"body2\" color=\"textPrimary\" className={classes.currencyReward}>\r\n                        <Text className={classes.textColoured}>\r\n                          {rewards.reduce((acc, reward) => acc.plus(reward.amountPerEpoch), BIG_ZERO)\r\n                            .shiftedBy(-rewards[0].rewardToken.decimals).toFormat(2)}\r\n                        </Text>&nbsp;{rewards[0].rewardToken.symbol}&nbsp;<Text className={classes.halfOpacity}>{(rewards[0].rewardToken.isZil || rewards[0].rewardToken.isZwap) ? \"by ZilSwap\" : `by ${rewards[0].rewardToken.symbol}`}</Text>\r\n                      </Text>\r\n                    )\r\n                  })}\r\n              </Popover>\r\n            </Text>\r\n          </Box>\r\n        </Box>\r\n\r\n\r\n        <Box flex={1.5} display=\"flex\" flexDirection=\"column\" >\r\n          <Box display=\"flex\" className={classes.statItem}>\r\n            <Text color=\"textPrimary\" className={classes.rewardValue}>\r\n              {apr}\r\n            </Text>\r\n          </Box>\r\n          <Box display=\"flex\" className={classes.statItem}>\r\n            <Text color=\"textPrimary\" className={classes.roiValue}>\r\n              Daily ROI <Text className={classes.roiNumber}>{roi}</Text>\r\n            </Text>\r\n          </Box>\r\n        </Box>\r\n        <Box flex={1} pr={2}>\r\n          <Button onClick={() => setShowDetail(!showDetail)} className={classes.detailButton}>Details {showDetail ? <ArrowDropUp /> : <ArrowDropDown />}</Button>\r\n        </Box>\r\n        <Box flex={1.5} display=\"flex\" justifyContent=\"center\" flexDirection=\"column\" alignItems=\"center\">\r\n          <FancyButton onClick={() => onGotoAddLiquidity()} className={classes.addLiquidity}>Add Liquidity</FancyButton>\r\n          {showTag && (\r\n            <Chip label={\r\n              `${token.whitelisted && showCoreTag ? ((showDropTag && poolRewards.length > 1) ? \"CORE // \" : \"CORE\") : \"\"}\r\n            ${(showDropTag && poolRewards.length > 1) ? `${poolRewards.length}x Drops` : \"\"}`}\r\n              className={cls(classes.coreDropChip, { [classes.coreDrop]: token.whitelisted })}\r\n            />\r\n          )}\r\n        </Box>\r\n      </CardContent>\r\n\r\n      {showDetail && (\r\n        <CardContent className={classes.extraContent}>\r\n          <Box flex={1}>\r\n            <KeyValueDisplay marginBottom={1.5} kkey=\"Pool Name\" ValueComponent=\"span\" className={classes.keyDisplay}>\r\n              <Box mt={1}>\r\n                <Text variant=\"h4\"> <span className={classes.titleColoured}>{token.symbol}</span> - <span className={classes.titleColoured}> PELE </span></Text>\r\n              </Box>\r\n            </KeyValueDisplay>\r\n          </Box>\r\n\r\n          <Box flex={1}>\r\n            <KeyValueDisplay marginBottom={1.5} kkey=\"Total Liquidity\" ValueComponent=\"span\" className={classes.keyDisplay}>\r\n              <Box mt={1}>\r\n                <Text variant=\"h4\" >${usdValues?.poolLiquidity.dp(0).toFormat()}</Text>\r\n              </Box>\r\n            </KeyValueDisplay>\r\n          </Box>\r\n          <Box flex={1}>\r\n            <KeyValueDisplay marginBottom={1.5} kkey=\"24-Hour Volume\" ValueComponent=\"span\" className={classes.keyDisplay}>\r\n              <Box mt={1}>\r\n                <Text variant=\"h4\">\r\n                  <span className={classes.titleColoured}>{(swapVolumes[token.address]?.totalZilVolume || BIG_ZERO).shiftedBy(-PELE_DECIMALS).dp(0).toFormat()}</span> PELE\r\n                </Text>\r\n                <Text className={classes.label}>\r\n                  ${totalZilVolumeUSD?.dp(0).toFormat()}\r\n                </Text>\r\n              </Box>\r\n            </KeyValueDisplay>\r\n          </Box>\r\n          <Box flex={3} display=\"flex\">\r\n            {!walletState.wallet && (\r\n              <Box>\r\n                <KeyValueDisplay marginBottom={1.5} kkey=\"Your Stake\" ValueComponent=\"span\" className={classes.keyDisplay}>\r\n                  <Box display=\"flex\" alignItems=\"center\" mt={1}>\r\n                    <ConnectWalletButton connectText=\"Connect Wallet\" /><Text color=\"textSecondary\" variant=\"h4\">to view.</Text>\r\n                  </Box>\r\n                </KeyValueDisplay>\r\n              </Box>\r\n            )}\r\n            {walletState.wallet && !poolShare.isZero() && (\r\n              <>\r\n                <Box flex={3}>\r\n                  <KeyValueDisplay marginBottom={1.5} kkey=\"Your Stake\" ValueComponent=\"span\" className={classes.keyDisplay}>\r\n                    <Box display=\"flex\" flexDirection=\"column\" mt={1}>\r\n                      <Text variant=\"h4\" className={classes.stakeText}>\r\n                        <span className={classes.textColoured}>{tokenAmount}</span> {token.symbol}  <ViewHeadline className={classes.viewIcon} /><span className={classes.textColoured}>{peleAmount}</span> PELE\r\n                      </Text>\r\n                      <Text className={classes.label}>\r\n                        {poolShareLabel}%\r\n                      </Text>\r\n                    </Box>\r\n                  </KeyValueDisplay>\r\n                </Box>\r\n                <Box flex={2}>\r\n                  <KeyValueDisplay marginBottom={1.5} kkey=\"Your Expected Reward\" ValueComponent=\"span\" className={classes.keyDisplay}>\r\n                    <Box display=\"flex\" flexDirection=\"column\" mt={1}>\r\n                      {\r\n                        potentialRewards.flatMap(reward => {\r\n                          const rewardToken = tokenState.tokens[reward.tokenAddress]\r\n                          if (!rewardToken) return []\r\n                          return [\r\n                            <Text variant=\"h4\">\r\n                              <span className={classes.textColoured}>{reward.amount.shiftedBy(-rewardToken.decimals).dp(5).toFormat()}</span> {rewardToken.symbol}\r\n                            </Text>\r\n                          ]\r\n                        })\r\n                      }\r\n                    </Box>\r\n                  </KeyValueDisplay>\r\n                </Box>\r\n              </>\r\n            )}\r\n          </Box>\r\n          {/* <Box marginBottom={1} display=\"flex\" flexDirection=\"column\" className={classes.liquidityVolumeContainer}>\r\n            <KeyValueDisplay marginBottom={1.5} kkey=\"Total Liquidity\" ValueComponent=\"span\">\r\n              <Text className={classes.label}>${usdValues?.poolLiquidity.dp(0).toFormat()}</Text>\r\n            </KeyValueDisplay>\r\n            <KeyValueDisplay marginBottom={1.5} kkey=\"24-Hour Volume\" ValueComponent=\"span\">\r\n              <Text align=\"right\" className={classes.label}>\r\n                <span className={classes.textColoured}>{(swapVolumes[token.address]?.totalZilVolume || BIG_ZERO).shiftedBy(-12).dp(0).toFormat()}</span> ZIL\r\n                (${totalZilVolumeUSD?.dp(0).toFormat()})\r\n              </Text>\r\n            </KeyValueDisplay>\r\n            {\r\n              !poolShare.isZero() &&\r\n              <KeyValueDisplay marginBottom={1.5} kkey={`Your Pool Share (${poolShareLabel}%)`} ValueComponent=\"span\">\r\n                <Text align=\"right\" className={classes.label}>\r\n                  <span className={classes.textColoured}>{tokenAmount}</span> {token.symbol} + <span className={classes.textColoured}>{peleAmount}</span> ZIL\r\n                  (${toHumanNumber(depositedValue, 2)})\r\n                </Text>\r\n              </KeyValueDisplay>\r\n            }\r\n            {\r\n              potentialRewards.flatMap(reward => {\r\n                const rewardToken = tokenState.tokens[reward.tokenAddress]\r\n                if (!rewardToken) return []\r\n                return [\r\n                  <KeyValueDisplay key={token.address} marginBottom={1.5} kkey=\"Your Estimated Rewards\" ValueComponent=\"span\">\r\n                    <Text align=\"right\" className={classes.label}>\r\n                      <span className={classes.textColoured}>{reward.amount.shiftedBy(-rewardToken.decimals).dp(5).toFormat()}</span> {rewardToken.symbol}\r\n                    </Text>\r\n                  </KeyValueDisplay>\r\n                ]\r\n              })\r\n            }\r\n          </Box> */}\r\n        </CardContent>\r\n      )}\r\n    </Card >\r\n  );\r\n};\r\n\r\nconst useStyles = makeStyles((theme: AppTheme) => ({\r\n  root: {\r\n    borderRadius: 12,\r\n    boxShadow: theme.palette.cardBoxShadow,\r\n    border: theme.palette.border,\r\n    backgroundColor: \"transparent\",\r\n    \"& .MuiCardContent-root:last-child\": {\r\n      paddingBottom: 0\r\n    }\r\n  },\r\n  title: {\r\n    padding: theme.spacing(0, 4),\r\n    paddingTop: theme.spacing(2)\r\n  },\r\n  poolIcon: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  content: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    padding: theme.spacing(3),\r\n    \"&.MuiCardContent-root:last-child\": {\r\n      paddingBottom: theme.spacing(3),\r\n    },\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      padding: theme.spacing(1, 2),\r\n    },\r\n  },\r\n  extraContent: {\r\n    display: \"flex\",\r\n    alignItems: \"flex-start\",\r\n    padding: theme.spacing(3),\r\n    \"&.MuiCardContent-root:last-child\": {\r\n      paddingBottom: theme.spacing(3),\r\n    },\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      padding: theme.spacing(0, 2),\r\n    },\r\n  },\r\n  rewardValue: {\r\n    fontSize: 22,\r\n    lineHeight: \"24px\",\r\n    fontWeight: \"bold\",\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      fontSize: '14px',\r\n      lineHeight: '16px',\r\n    },\r\n    color: theme.palette.text?.primary,\r\n  },\r\n  rewardContainer: {\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      alignItems: \"center\"\r\n    },\r\n  },\r\n  roiContainer: {\r\n    alignItems: \"baseline\",\r\n    justifyContent: \"flex-end\",\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      flexDirection: \"column\",\r\n      alignItems: \"flex-end\",\r\n    },\r\n  },\r\n  roiValue: {\r\n    fontSize: 12,\r\n    lineHeight: \"12px\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n  },\r\n  roiNumber: {\r\n    marginLeft: theme.spacing(1),\r\n    color: theme.palette.primary.dark,\r\n    fontWeight: 700,\r\n  },\r\n  thinSubtitle: {\r\n    fontWeight: 400,\r\n    [theme.breakpoints.down(\"xs\")]: {\r\n      display: \"none\",\r\n    },\r\n  },\r\n  dropdown: {\r\n    \"& .MuiMenu-list\": {\r\n      padding: theme.spacing(.5),\r\n    },\r\n  },\r\n  dropdownItem: {\r\n    borderRadius: theme.spacing(.5),\r\n    minWidth: theme.spacing(15),\r\n  },\r\n  statContainer: {\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n    [theme.breakpoints.down(\"xs\")]: {\r\n      flexDirection: \"column\",\r\n    },\r\n  },\r\n  statItem: {\r\n    flex: 1,\r\n    flexDirection: \"column\",\r\n    alignItems: \"flex-start\",\r\n    [theme.breakpoints.down(\"xs\")]: {\r\n      flexDirection: \"row\",\r\n      justifyContent: \"space-between\",\r\n      alignItems: \"flex-start\",\r\n      marginBottom: theme.spacing(1),\r\n      \"& $rewardContainer\": {\r\n        alignItems: \"flex-start\",\r\n      },\r\n    },\r\n  },\r\n  titleColoured: {\r\n    color: theme.palette.type === \"dark\" ? \"#00FFB0\" : `rgba${hexToRGBA(\"#003340\", 0.5)}`\r\n  },\r\n  addIcon: {\r\n    color: theme.palette.text?.secondary,\r\n    height: \"16px\",\r\n    width: \"16px\",\r\n    marginRight: theme.spacing(0.2)\r\n  },\r\n  viewIcon: {\r\n    color: theme.palette.type === \"dark\" ? \"#00FFB0\" : `rgba${hexToRGBA(\"#003340\", 0.5)}`,\r\n    fontSize: 14,\r\n  },\r\n  box: {\r\n    backgroundColor: theme.palette?.currencyInput,\r\n    border: `3px solid rgba${hexToRGBA(\"#00FFB0\", 0.2)}`,\r\n    margin: \"2px\",\r\n  },\r\n  token: {\r\n    fontSize: 22,\r\n    lineHeight: \"24px\",\r\n    [theme.breakpoints.down(\"md\")]: {\r\n      fontSize: 16,\r\n    },\r\n    marginLeft: theme.spacing(0.5)\r\n  },\r\n  poolSize: {\r\n    fontSize: 22,\r\n    lineHeight: \"24px\",\r\n    fontWeight: \"bold\",\r\n    [theme.breakpoints.down(\"md\")]: {\r\n      fontSize: 18,\r\n    },\r\n    color: theme.palette.primary.dark,\r\n  },\r\n  rewardTokenLogo: {\r\n    marginLeft: theme.spacing(.5),\r\n    height: 26,\r\n    width: 26,\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      paddingBottom: theme.spacing(1.8),\r\n      marginLeft: 0\r\n    },\r\n  },\r\n  divider: {\r\n    transform: \"skew(0, -45deg)\",\r\n    maxWidth: 30,\r\n    marginLeft: 15,\r\n    borderBottom: theme.palette.type === \"dark\" ? \"1px solid transparent\" : `1px solid rgba${hexToRGBA(\"#003340\", 0.5)}`,\r\n    borderImage: theme.palette.type === \"dark\"\r\n      ? \"linear-gradient(to left, #003340 1%, #00FFB0  50%, #003340 100%) 0 0 100% 0/0 0 1px 0 stretch\"\r\n      : \"\",\r\n  },\r\n  label: {\r\n    marginTop: theme.spacing(.5),\r\n    color: theme.palette.label\r\n  },\r\n  textColoured: {\r\n    color: theme.palette.primary.dark\r\n  },\r\n  liquidityVolumeContainer: {\r\n    padding: theme.spacing(0, 3),\r\n    [theme.breakpoints.down(\"xs\")]: {\r\n      padding: theme.spacing(0, 1),\r\n    },\r\n  },\r\n  logo: {\r\n    height: 27,\r\n    width: 27,\r\n    marginRight: 3,\r\n    [theme.breakpoints.down(\"xs\")]: {\r\n      height: 23,\r\n      width: 23\r\n    },\r\n  },\r\n  detailButton: {\r\n    padding: theme.spacing(2, 3),\r\n    color: theme.palette.text?.primary,\r\n    borderRadius: 12,\r\n    fontWeight: 500,\r\n  },\r\n  addLiquidity: {\r\n    backgroundColor: \"#FFDF6B\",\r\n    color: \"#003340\",\r\n    padding: theme.spacing(2, 4),\r\n    borderRadius: theme.spacing(1.5),\r\n    \"&.MuiButtonBase-root\": {\r\n      \"&:hover\": {\r\n        opacity: 0.8,\r\n        backgroundColor: \"#FFDF6B\",\r\n      }\r\n    }\r\n  },\r\n  selectedCard: {\r\n    backgroundColor: \"#DEFFFF18\",\r\n    borderRadius: theme.spacing(1.5),\r\n  },\r\n  keyDisplay: {\r\n    flexDirection: \"column\",\r\n    padding: theme.spacing(1, 1, 0, 1),\r\n    \"&.MuiBox-root\": {\r\n      marginBottom: 0,\r\n    }\r\n  },\r\n  stakeText: {\r\n    display: \"flex\",\r\n    justifyContent: \"flex-start\",\r\n    alignItems: \"center\",\r\n  },\r\n  currencyReward: {\r\n    display: \"flex\",\r\n    fontSize: 12,\r\n    alignItems: \"center\",\r\n  },\r\n  coreDropChip: {\r\n    position: \"absolute\",\r\n    transform: \"translateY(26px)\",\r\n    minWidth: 120,\r\n    height: 24,\r\n    padding: theme.spacing(.5, 0),\r\n    backgroundColor: \"#3290FF\",\r\n    color: \"#DEFFFF\",\r\n    fontFamily: \"Raleway\"\r\n  },\r\n  coreDrop: {\r\n    backgroundColor: \"#7B61FF\",\r\n  },\r\n  more: {\r\n    fontSize: 12,\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    cursor: \"pointer\",\r\n  },\r\n  rewardPopper: {\r\n    \"& .MuiPaper-root\": {\r\n      backgroundColor: theme.palette.background.default,\r\n      borderRadius: \"12px\",\r\n      border: theme.palette.border,\r\n      overflow: \"hidden\",\r\n      marginTop: 8,\r\n      padding: theme.spacing(1.5),\r\n    },\r\n    \"& .MuiTypography-root\": {\r\n      lineHeight: 1.6,\r\n      fontWeight: 500\r\n    }\r\n  },\r\n  halfOpacity: {\r\n    opacity: 0.5\r\n  },\r\n}));\r\n\r\nexport default PoolInfoCard;\r\n","import React from \"react\";\r\nimport { Box, BoxProps } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport cls from \"classnames\";\r\nimport { SearchInput } from \"app/components\";\r\nimport { AppTheme } from \"app/theme/types\";\r\n\r\ninterface Props extends BoxProps {\r\n  onSearch: (query: string | undefined) => void;\r\n}\r\n\r\nconst useStyles = makeStyles((theme: AppTheme) => ({\r\n  root: {\r\n    \"& .MuiSvgIcon-colorPrimary\": {\r\n      color: \"currentColor\"\r\n    }\r\n  },\r\n}));\r\n\r\nconst PoolsSearchInput: React.FC<Props> = (props: Props) => {\r\n  const { children, className, onSearch, ...rest } = props;\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Box {...rest} className={cls(classes.root, className)}>\r\n      <SearchInput\r\n        placeholder=\"Search Pool\"\r\n        onSearch={onSearch}\r\n        fullWidth />\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default PoolsSearchInput;\r\n","import React, { useMemo, useState } from \"react\";\r\nimport { Box, Button, Card, CardContent, CardProps, Chip, Divider, Popover, Typography } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { ArrowDropUp, ArrowDropDown, Visibility } from \"@material-ui/icons\";\r\nimport cls from \"classnames\";\r\nimport dayjs from \"dayjs\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useHistory } from \"react-router\";\r\nimport groupBy from \"lodash/groupBy\";\r\nimport { toBech32Address } from \"@zilliqa-js/crypto\";\r\nimport { KeyValueDisplay, Text, FancyButton, PoolLogo } from \"app/components\";\r\nimport { actions } from \"app/store\";\r\nimport { EMPTY_USD_VALUE } from \"app/store/token/reducer\";\r\nimport { PoolSwapVolumeMap, RewardsState, RootState, TokenInfo, TokenState, WalletState } from \"app/store/types\";\r\nimport { AppTheme } from \"app/theme/types\";\r\nimport { hexToRGBA, toHumanNumber, useNetwork, useValueCalculators } from \"app/utils\";\r\nimport { BIG_ONE, BIG_ZERO, ZIL_ADDRESS } from \"app/utils/constants\";\r\n\r\ninterface Props extends CardProps {\r\n  token: TokenInfo;\r\n  showCoreTag?: boolean;\r\n  showDropTag?: boolean;\r\n}\r\n\r\nconst PoolMobileInfoCard: React.FC<Props> = (props: Props) => {\r\n  const { children, className, token, showCoreTag = true, showDropTag = true, ...rest } = props;\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const valueCalculators = useValueCalculators();\r\n  const tokenState = useSelector<RootState, TokenState>(state => state.token);\r\n  const rewardsState = useSelector<RootState, RewardsState>(state => state.rewards);\r\n  const swapVolumes = useSelector<RootState, PoolSwapVolumeMap>(state => state.stats.dailySwapVolumes);\r\n  const walletState = useSelector<RootState, WalletState>(state => state.wallet);\r\n  const network = useNetwork();\r\n  const classes = useStyles();\r\n  const [showDetail, setShowDetail] = useState(false);\r\n  const [rewardsAnchor, setRewardsAnchor] = useState<HTMLButtonElement | null>(null);\r\n\r\n  const onGotoAddLiquidity = () => {\r\n    dispatch(actions.Pool.select({ network, token }));\r\n    dispatch(actions.Layout.showPoolType(\"add\"));\r\n    history.push(\"/pool\");\r\n  }\r\n  const { totalZilVolumeUSD, usdValues } = useMemo(() => {\r\n    if (token.isZil) {\r\n      return { totalLiquidity: BIG_ZERO, usdValues: EMPTY_USD_VALUE };\r\n    }\r\n\r\n    const usdValues = tokenState.values[token.address] ?? EMPTY_USD_VALUE;\r\n    const totalZilVolume = swapVolumes[token.address]?.totalZilVolume ?? BIG_ZERO;\r\n    const totalZilVolumeUSD = valueCalculators.amount(tokenState.prices, tokenState.tokens[ZIL_ADDRESS], totalZilVolume);\r\n\r\n    return {\r\n      totalZilVolumeUSD,\r\n      usdValues,\r\n    };\r\n  }, [tokenState, token, valueCalculators, swapVolumes]);\r\n\r\n\r\n  const {\r\n    poolRewards,\r\n    roi,\r\n    apr,\r\n    preStartDistributors\r\n  } = React.useMemo(() => {\r\n    const poolRewards = rewardsState.rewardsByPool[token.address] || [];\r\n\r\n    // calculate total roi and apr\r\n    const roiPerSecond = usdValues.rewardsPerSecond.dividedBy(usdValues.poolLiquidity);\r\n    const secondsPerDay = 24 * 3600\r\n    const roiPerDay = roiPerSecond.times(secondsPerDay).shiftedBy(2).decimalPlaces(2);\r\n    const apr = roiPerSecond.times(secondsPerDay * 365).shiftedBy(2).decimalPlaces(1);\r\n    const preStartDistributors = rewardsState.distributors.filter((distributor) => !dayjs().isAfter(distributor.emission_info.distribution_start_time * 1000));\r\n\r\n    return {\r\n      poolRewards,\r\n      roi: roiPerDay.isZero() || roiPerDay.isNaN() ? \"-\" : `${roiPerDay.dp(2).toFormat()}%`,\r\n      apr: apr.isZero() || apr.isNaN() ? '-' : `${apr.dp(2).toFormat()}%`,\r\n      preStartDistributors,\r\n    };\r\n  }, [rewardsState.rewardsByPool, rewardsState.distributors, token, usdValues]);\r\n\r\n\r\n  if (token.isZil) return null;\r\n\r\n  const decimals = token.address === ZIL_ADDRESS ? 12 : (token.decimals ?? 0);\r\n\r\n  const poolShare = token.pool?.contributionPercentage.shiftedBy(-2) ?? BIG_ZERO;\r\n  const poolShareLabel = poolShare.shiftedBy(2).decimalPlaces(3).toString(10) ?? \"\";\r\n  const tokenAmount = toHumanNumber(poolShare.times(token.pool?.tokenReserve ?? BIG_ZERO).shiftedBy(-decimals));\r\n  const zilAmount = toHumanNumber(poolShare.times(token.pool?.zilReserve ?? BIG_ZERO).shiftedBy(-12));\r\n  const depositedValue = poolShare.times(usdValues?.poolLiquidity ?? BIG_ZERO);\r\n\r\n  const potentialRewards = rewardsState.potentialRewardsByPool[token.address] || [];\r\n\r\n  const showTag = (showCoreTag && token.whitelisted) || (showDropTag && poolRewards.length > 1);\r\n\r\n  const openRewards = (ev: React.MouseEvent<HTMLButtonElement>) => {\r\n    setRewardsAnchor(ev.currentTarget);\r\n  }\r\n\r\n  const closeRewards = () => {\r\n    setRewardsAnchor(null)\r\n  }\r\n\r\n  return (\r\n    <Card {...rest} className={cls(classes.root, className)}>\r\n      <CardContent className={classes.title}>\r\n        <Box display=\"flex\" alignItems=\"center\">\r\n          <PoolLogo noBg={true} className={classes.poolIcon} pair={[token.symbol, \"ZIL\"]} tokenAddress={token.address} noOverlap={true} /><Text variant=\"h6\">{token.symbol} - ZIL</Text>\r\n        </Box>\r\n      </CardContent>\r\n\r\n\r\n      <Box className={classes.dividerBox}>\r\n        <Divider className={classes.divider} />\r\n      </Box>\r\n\r\n      <CardContent className={classes.content}>\r\n        <KeyValueDisplay wrapLabel={true} kkey=\"Total Stake\" ValueComponent=\"span\">\r\n          <Box>\r\n            <Text variant=\"h4\" className={classes.flexText}><Text variant=\"h4\" className={classes.textColoured}>{toHumanNumber(token.pool?.tokenReserve.shiftedBy(-decimals), 2)}</Text>&nbsp;{token.symbol}</Text>\r\n            <Text variant=\"h4\" className={classes.flexText}><Text variant=\"h4\" className={classes.textColoured}>{toHumanNumber(token.pool?.zilReserve.shiftedBy(-12), 2)}</Text>&nbsp;ZIL</Text>\r\n          </Box>\r\n        </KeyValueDisplay>\r\n\r\n        <KeyValueDisplay wrapLabel={true} kkey=\"Rewards to be Distributed\" ValueComponent=\"span\" mt={2}>\r\n          <Text variant=\"h4\" color=\"textPrimary\">\r\n            {\r\n              poolRewards.length > 0 ?\r\n                \"$\" + Object.entries(groupBy(poolRewards, (reward) => reward.rewardToken.address))\r\n                  .filter(([address, rewards]) => {\r\n                    return !preStartDistributors?.find(distributor => toBech32Address(distributor.reward_token_address_hex) === address)\r\n                  })\r\n                  .reduce((total, [address, rewards]) =>\r\n                    total.plus(rewards.reduce((acc, reward) =>\r\n                      acc.plus(reward.amountPerEpoch), BIG_ZERO).shiftedBy(-rewards[0].rewardToken.decimals).times(tokenState.prices[address] || BIG_ONE)), BIG_ZERO)\r\n                  .toFormat(2)\r\n                :\r\n                \"-\"\r\n            }\r\n          </Text>\r\n\r\n          {poolRewards.length > 2 && (\r\n            <Box display=\"flex\" justifyContent=\"flex-end\">\r\n              <Button onClick={(ev) => openRewards(ev)} className={classes.moreText}>More&nbsp;<Visibility fontSize=\"small\" /></Button>\r\n              <Popover\r\n                open={Boolean(rewardsAnchor)}\r\n                anchorEl={rewardsAnchor}\r\n                anchorOrigin={{\r\n                  vertical: \"bottom\",\r\n                  horizontal: \"left\",\r\n                }}\r\n                onClose={closeRewards}\r\n                className={classes.rewardPopper}\r\n              >\r\n                {Object.entries(groupBy(poolRewards, (reward) => reward.rewardToken.address))\r\n                  .filter(([address, rewards]) => {\r\n                    return !preStartDistributors?.find(distributor => toBech32Address(distributor.reward_token_address_hex) === address)\r\n                  })\r\n                  .map(([address, rewards]) => {\r\n                    return (\r\n                      <Text key={address} variant=\"body2\" color=\"textPrimary\" className={classes.currencyReward}>\r\n                        <Text className={classes.textColoured}>\r\n                          {rewards.reduce((acc, reward) => acc.plus(reward.amountPerEpoch), BIG_ZERO)\r\n                            .shiftedBy(-rewards[0].rewardToken.decimals).toFormat(2)}\r\n                        </Text>\r\n                        {\" \"}\r\n                        {rewards[0].rewardToken.symbol}\r\n                        <Text marginLeft={1} className={classes.halfOpacity}>\r\n                          {(rewards[0].rewardToken.isZil || rewards[0].rewardToken.isZwap) ? \"by ZilSwap\" : `by ${rewards[0].rewardToken.symbol}`}\r\n                        </Text>\r\n                      </Text>\r\n                    )\r\n                  })}\r\n              </Popover>\r\n            </Box>\r\n          )}\r\n        </KeyValueDisplay>\r\n\r\n        <KeyValueDisplay wrapLabel={true} kkey=\"APR\" ValueComponent=\"span\" mt={2}>\r\n          <Text variant=\"h4\" className={classes.flexText}>\r\n            <Box marginRight={1}>\r\n              <Typography variant=\"h4\">{apr}</Typography>\r\n            </Box>\r\n            <Typography variant=\"h4\" className={classes.boldless}>(Daily ROI {roi})</Typography>\r\n          </Text>\r\n        </KeyValueDisplay>\r\n\r\n\r\n        <Box display=\"flex\" alignItems=\"center\" mt={2}>\r\n          <Text variant=\"h4\" className={cls(classes.detailSelect, { [classes.textColoured]: !!showDetail })} onClick={() => setShowDetail(!showDetail)} >Details {showDetail ? <ArrowDropUp /> : <ArrowDropDown />}</Text>\r\n          <Box flexGrow={1} />\r\n          <Box display=\"flex\" justifyContent=\"center\" flexDirection=\"column\" alignItems=\"center\">\r\n            <FancyButton onClick={() => onGotoAddLiquidity()} className={classes.addLiquidity}>Add Liquidity</FancyButton>\r\n            {showTag && (\r\n              <Chip label={\r\n                `${token.whitelisted && showCoreTag ? ((showDropTag && poolRewards.length > 1) ? \"CORE // \" : \"CORE\") : \"\"}\r\n            ${(showDropTag && poolRewards.length > 1) ? `${poolRewards.length}x Drops` : \"\"}`}\r\n                className={cls(classes.coreDropChip, { [classes.coreDrop]: token.whitelisted })}\r\n              />\r\n            )}\r\n          </Box>\r\n        </Box>\r\n\r\n        {showDetail && <Box className={classes.detailBox}>\r\n          <KeyValueDisplay wrapLabel={true} kkey=\"Total Liquidity\" ValueComponent=\"span\">\r\n            <Text variant=\"h4\" >${usdValues?.poolLiquidity.dp(0).toFormat()}</Text>\r\n          </KeyValueDisplay>\r\n          <KeyValueDisplay wrapLabel={true} kkey=\"24H Volume\" ValueComponent=\"span\" mt={.5}>\r\n            <Box display=\"flex\" flexDirection=\"column\" textAlign=\"end\">\r\n              <Text variant=\"h4\">\r\n                <span className={classes.titleColoured}>{(swapVolumes[token.address]?.totalZilVolume || BIG_ZERO).shiftedBy(-12).dp(0).toFormat()}</span> ZIL\r\n              </Text>\r\n              <Text className={classes.label}>\r\n                ${totalZilVolumeUSD?.dp(0).toFormat()}\r\n              </Text>\r\n            </Box>\r\n          </KeyValueDisplay>\r\n          {walletState.wallet && !poolShare.isZero() && <Box my={1}>\r\n            <KeyValueDisplay marginBottom={1.5} kkey=\"Your Stake\" ValueComponent=\"span\">\r\n              <Box display=\"flex\" flexDirection=\"column\" textAlign=\"end\">\r\n                <Text variant=\"h4\">\r\n                  <span className={classes.textColoured}>{tokenAmount}</span> {token.symbol}\r\n                </Text>\r\n                <Text variant=\"h4\">\r\n                  <span className={classes.textColoured}>{zilAmount}</span> ZIL\r\n                </Text>\r\n                <Text className={classes.label}>\r\n                  ${depositedValue.toFormat(2) || \"-\"} ({poolShareLabel || \"-\"}%)\r\n                </Text>\r\n              </Box>\r\n            </KeyValueDisplay>\r\n            <KeyValueDisplay marginBottom={1.5} kkey=\"Your Expected Rewards\" ValueComponent=\"span\" wrapLabel={true}>\r\n              <Box display=\"flex\" flexDirection=\"column\">\r\n                {\r\n                  potentialRewards.flatMap(reward => {\r\n                    const rewardToken = tokenState.tokens[reward.tokenAddress]\r\n                    if (!rewardToken) return []\r\n                    return [\r\n                      <Text variant=\"h4\">\r\n                        <span className={classes.textColoured}>{reward.amount.shiftedBy(-rewardToken.decimals).dp(5).toFormat()}</span> {rewardToken.symbol}\r\n                      </Text>\r\n                    ]\r\n                  })\r\n                }\r\n              </Box>\r\n            </KeyValueDisplay>\r\n          </Box>}\r\n        </Box>}\r\n      </CardContent>\r\n    </Card >\r\n  );\r\n};\r\n\r\n\r\nconst useStyles = makeStyles((theme: AppTheme) => ({\r\n  root: {\r\n    borderRadius: 12,\r\n    boxShadow: theme.palette.cardBoxShadow,\r\n    border: theme.palette.border,\r\n    backgroundColor: \"transparent\",\r\n    \"& .MuiCardContent-root:last-child\": {\r\n      paddingBottom: 0\r\n    }\r\n  },\r\n  title: {\r\n    padding: theme.spacing(2),\r\n  },\r\n  poolIcon: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  content: {\r\n    padding: theme.spacing(2),\r\n    \"&.MuiCardContent-root:last-child\": {\r\n      paddingBottom: theme.spacing(2),\r\n    }\r\n  },\r\n  rewardValue: {\r\n    fontSize: 22,\r\n    lineHeight: \"24px\",\r\n    fontWeight: \"bold\",\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      fontSize: '14px',\r\n      lineHeight: '16px',\r\n    },\r\n    color: theme.palette.text?.primary,\r\n  },\r\n  rewardContainer: {\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      alignItems: \"center\"\r\n    },\r\n  },\r\n  dropdown: {\r\n    \"& .MuiMenu-list\": {\r\n      padding: theme.spacing(.5),\r\n    },\r\n  },\r\n  titleColoured: {\r\n    color: theme.palette.type === \"dark\" ? \"#00FFB0\" : `rgba${hexToRGBA(\"#003340\", 0.5)}`\r\n  },\r\n  box: {\r\n    backgroundColor: theme.palette?.currencyInput,\r\n    border: `3px solid rgba${hexToRGBA(\"#00FFB0\", 0.2)}`,\r\n    margin: \"2px\",\r\n  },\r\n  token: {\r\n    fontSize: 22,\r\n    lineHeight: \"24px\",\r\n    [theme.breakpoints.down(\"md\")]: {\r\n      fontSize: 16,\r\n    },\r\n    marginLeft: theme.spacing(0.5)\r\n  },\r\n  dividerBox: {\r\n  },\r\n  divider: {\r\n    borderBottom: theme.palette.type === \"dark\" ? \"1px solid transparent\" : `1px solid rgba${hexToRGBA(\"#003340\", 0.5)}`,\r\n    borderImage: theme.palette.type === \"dark\"\r\n      ? \"linear-gradient(to left, #003340 1%, #00FFB0  50%, #003340 100%) 0 0 100% 0/0 0 1px 0 stretch\"\r\n      : \"\",\r\n  },\r\n  label: {\r\n    color: theme.palette.label,\r\n    fontWeight: 400\r\n  },\r\n  textColoured: {\r\n    color: theme.palette.primary.dark,\r\n    fontSize: \"inherit\",\r\n  },\r\n  flexText: {\r\n    display: \"flex\",\r\n    justifyContent: \"flex-end\",\r\n  },\r\n  boldless: {\r\n    fontWeight: 400,\r\n  },\r\n  detailSelect: {\r\n    color: theme.palette.text?.primary,\r\n    borderRadius: 12,\r\n    fontWeight: 500,\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n  },\r\n  addLiquidity: {\r\n    backgroundColor: \"#FFDF6B\",\r\n    color: \"#003340\",\r\n    padding: theme.spacing(2, 4),\r\n    borderRadius: theme.spacing(1.5),\r\n    \"&.MuiButtonBase-root\": {\r\n      \"&:hover\": {\r\n        opacity: 0.8,\r\n        backgroundColor: \"#FFDF6B\",\r\n      }\r\n    }\r\n  },\r\n  detailBox: {\r\n    backgroundColor: \"#002A34\",\r\n    border: theme.palette.type === \"dark\" ? \"1px solid #29475A\" : `1px solid rgba${hexToRGBA(\"#003340\", 0.5)}`,\r\n    borderRadius: 12,\r\n    marginTop: theme.spacing(2),\r\n    padding: theme.spacing(2),\r\n  },\r\n  moreText: {\r\n    fontSize: 12,\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    transform: \"translateX(16px)\",\r\n    color: theme.palette.text?.primary\r\n  },\r\n  currencyReward: {\r\n    display: \"flex\",\r\n    fontSize: 15,\r\n    alignItems: \"center\",\r\n  },\r\n  rewardPopper: {\r\n    \"& .MuiPaper-root\": {\r\n      backgroundColor: theme.palette.background.default,\r\n      borderRadius: \"12px\",\r\n      border: theme.palette.border,\r\n      overflow: \"hidden\",\r\n      marginTop: 8,\r\n      padding: theme.spacing(1.5),\r\n    },\r\n    \"& .MuiTypography-root\": {\r\n      lineHeight: 1.3,\r\n      fontWeight: 500\r\n    }\r\n  },\r\n  halfOpacity: {\r\n    opacity: 0.5\r\n  },\r\n  coreDropChip: {\r\n    position: \"absolute\",\r\n    transform: \"translateY(26px)\",\r\n    minWidth: 120,\r\n    height: 24,\r\n    padding: theme.spacing(.5, 0),\r\n    backgroundColor: \"#3290FF\",\r\n    color: \"#DEFFFF\",\r\n    fontFamily: \"Raleway\"\r\n  },\r\n  coreDrop: {\r\n    backgroundColor: \"#7B61FF\",\r\n  }\r\n}));\r\n\r\n\r\nexport default PoolMobileInfoCard;\r\n","var _path, _path2;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgDesc(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 22,\n    height: 30,\n    viewBox: \"0 0 22 30\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M14.4325 17.6798L11.7616 20.3507C11.3594 20.7529 10.7097 20.7529 10.3075 20.3507L7.6366 17.6798C6.98691 17.0301 7.45097 15.9163 8.36879 15.9163H13.7107C14.6285 15.9163 15.0822 17.0301 14.4325 17.6798Z\",\n    fill: \"#DEFFFF\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M7.56746 12.3202L10.2384 9.6493C10.6406 9.24711 11.2903 9.24711 11.6925 9.6493L14.3634 12.3202C15.0131 12.9699 14.549 14.0837 13.6312 14.0837H8.28934C7.37152 14.0837 6.91777 12.9699 7.56746 12.3202Z\",\n    fill: \"#DEFFFF\",\n    fillOpacity: 0.5\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgDesc);\nexport default __webpack_public_path__ + \"static/media/desc.964f1b87.svg\";\nexport { ForwardRef as ReactComponent };","var _path, _path2;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgAsc(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 22,\n    height: 30,\n    viewBox: \"0 0 22 30\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M14.4325 17.6798L11.7616 20.3507C11.3594 20.7529 10.7097 20.7529 10.3075 20.3507L7.6366 17.6798C6.98691 17.0301 7.45097 15.9163 8.36879 15.9163H13.7107C14.6285 15.9163 15.0822 17.0301 14.4325 17.6798Z\",\n    fill: \"#DEFFFF\",\n    fillOpacity: 0.5\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M7.56746 12.3202L10.2384 9.6493C10.6406 9.24711 11.2903 9.24711 11.6925 9.6493L14.3634 12.3202C15.0131 12.9699 14.549 14.0837 13.6312 14.0837H8.28934C7.37152 14.0837 6.91777 12.9699 7.56746 12.3202Z\",\n    fill: \"#DEFFFF\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgAsc);\nexport default __webpack_public_path__ + \"static/media/asc.50fa3dc1.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgSingleDesc(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M15.7446 10.9237L12.8308 13.8374C12.3921 14.2762 11.6833 14.2762 11.2446 13.8374L8.33084 10.9237C7.62209 10.2149 8.12834 8.99994 9.12959 8.99994H14.9571C15.9583 8.99994 16.4533 10.2149 15.7446 10.9237Z\",\n    fill: \"#DEFFFF\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgSingleDesc);\nexport default __webpack_public_path__ + \"static/media/single-desc.d29446de.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgSingleAsc(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 22,\n    height: 23,\n    viewBox: \"0 0 22 23\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M7.56746 12.3202L10.2384 9.6493C10.6406 9.24711 11.2903 9.24711 11.6925 9.6493L14.3634 12.3202C15.0131 12.9699 14.549 14.0837 13.6312 14.0837H8.28934C7.37152 14.0837 6.91777 12.9699 7.56746 12.3202Z\",\n    fill: \"#DEFFFF\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgSingleAsc);\nexport default __webpack_public_path__ + \"static/media/single-asc.9b8c1b33.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgCheckmark(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 15,\n    height: 12,\n    viewBox: \"0 0 15 12\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M14.292 2.52278L14.2921 2.5227C14.6999 2.11493 14.6999 1.4636 14.2921 1.05583C13.8843 0.648057 13.233 0.648057 12.8252 1.05583L5.12922 8.75181L2.5227 6.14529C2.11493 5.73752 1.4636 5.73752 1.05583 6.14529C0.648057 6.55306 0.648057 7.20439 1.05583 7.61216L4.38784 10.9442C4.79558 11.3519 5.4548 11.3519 5.86258 10.9443C5.86261 10.9442 5.86263 10.9442 5.86266 10.9442L14.292 2.52278Z\",\n    fill: \"#00FFB0\",\n    stroke: \"#00FFB0\",\n    strokeWidth: 0.5\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgCheckmark);\nexport default __webpack_public_path__ + \"static/media/checkmark.8ba8a52d.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useEffect, useState } from \"react\";\r\nimport { Box, BoxProps, Button, Grid, Hidden, Tabs, Tab, Popover } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport cls from \"classnames\";\r\nimport groupBy from \"lodash/groupBy\";\r\nimport dayjs from \"dayjs\";\r\nimport { toBech32Address } from \"@zilliqa-js/crypto\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { Blockchain } from \"tradehub-api-js\";\r\nimport { Text } from \"app/components\";\r\nimport { RewardsState, RootState, TokenInfo, TokenState } from \"app/store/types\";\r\nimport { AppTheme } from \"app/theme/types\";\r\nimport { BIG_ZERO } from \"app/utils/constants\";\r\nimport { EMPTY_USD_VALUE } from \"app/store/token/reducer\";\r\nimport { hexToRGBA, SimpleMap } from 'app/utils';\r\nimport PoolInfoCard from \"../PoolInfoCard\";\r\nimport PoolsSearchInput from \"../PoolsSearchInput\";\r\nimport PoolMobileInfoCard from \"../PoolMobileInfoCard\";\r\nimport { ReactComponent as Unsorted } from \"./sort.svg\";\r\nimport { ReactComponent as Desc } from \"./desc.svg\";\r\nimport { ReactComponent as Asc } from \"./asc.svg\";\r\nimport { ReactComponent as SingleDesc } from \"./single-desc.svg\";\r\nimport { ReactComponent as SingleAsc } from \"./single-asc.svg\";\r\nimport { ReactComponent as Checkmark } from \"./checkmark.svg\";\r\n\r\ninterface Props extends BoxProps {\r\n  query?: string;\r\n  ownedLiquidity?: boolean;\r\n}\r\n\r\nconst initialLimits = {\r\n  mega: 20,\r\n  single: 20,\r\n  core: 20,\r\n  registered: 40,\r\n  all: 40,\r\n};\r\n\r\nconst limitArr = [\"mega\", \"single\", \"core\", \"registered\", \"all\"];\r\n\r\nconst PoolsListing: React.FC<Props> = (props: Props) => {\r\n  const { children, className, ownedLiquidity, ...rest } = props;\r\n  const [limits, setLimits] = useState<SimpleMap<number>>(initialLimits);\r\n  const [searchQuery, setSearchQuery] = useState<string | undefined>();\r\n  const [tabValue, setTabValue] = useState(ownedLiquidity ? 4 : 0);\r\n  const tokenState = useSelector<RootState, TokenState>(state => state.token);\r\n  const rewardsState = useSelector<RootState, RewardsState>(state => state.rewards);\r\n  const classes = useStyles();\r\n  const currentLimit = limitArr[tabValue];\r\n  const [sortBy, setSortBy] = useState(\"apr:desc\");\r\n  const [anchorEl, setAnchorEl] = useState<HTMLButtonElement | null>(null);\r\n\r\n  useEffect(() => {\r\n    setLimits(initialLimits);\r\n  }, [searchQuery]);\r\n\r\n  const onSearch = (query?: string) => {\r\n    setSearchQuery(query);\r\n  };\r\n\r\n  const {\r\n    registeredTokens,\r\n    otherTokens,\r\n    megaDrop,\r\n    singleDrop,\r\n    coreDrop,\r\n  } = React.useMemo(() => {\r\n    const queryRegexp = !!searchQuery ? new RegExp(searchQuery, \"i\") : undefined;\r\n    const preStartDistributors = rewardsState.distributors.filter((distributor) => !dayjs().isAfter(distributor.emission_info.distribution_start_time * 1000));\r\n    const result = Object.values(tokenState.tokens)\r\n      .sort((lhs, rhs) => {\r\n        const lhsValues = tokenState.values[lhs.address];\r\n        const rhsValues = tokenState.values[rhs.address];\r\n\r\n        const lhsTVL = lhsValues?.poolLiquidity ?? BIG_ZERO;\r\n        const rhsTVL = rhsValues?.poolLiquidity ?? BIG_ZERO;\r\n\r\n        const core = ['ZWAP', 'gZIL', 'XSGD']\r\n        if (core.includes(lhs.symbol) || core.includes(rhs.symbol))\r\n          return rhsTVL.comparedTo(lhsTVL);\r\n\r\n        const lhsRewardValue = lhsValues ? lhsValues.rewardsPerSecond.dividedBy(lhsValues.poolLiquidity) : BIG_ZERO;\r\n        const rhsRewardValue = rhsValues ? rhsValues.rewardsPerSecond.dividedBy(rhsValues.poolLiquidity) : BIG_ZERO;\r\n\r\n        if (!lhsRewardValue.eq(rhsRewardValue))\r\n          return rhsRewardValue.comparedTo(lhsRewardValue);\r\n\r\n        return rhsTVL.comparedTo(lhsTVL);\r\n      })\r\n      .sort((lhs, rhs) => {\r\n        const [sortType, sortOrder] = sortBy.split(\":\");\r\n        if (sortType === \"dist\") {\r\n          const lhsRewards = rewardsState.rewardsByPool[lhs.address] || [];\r\n          const rhsRewards = rewardsState.rewardsByPool[rhs.address] || [];\r\n\r\n          const lhsAmount = Object.entries(groupBy(lhsRewards, (reward) => reward.rewardToken.address))\r\n            .filter(([address, rewards]) => {\r\n              return !preStartDistributors?.find(distributor => toBech32Address(distributor.reward_token_address_hex) === address)\r\n            })\r\n            .reduce((total, [address, rewards]) =>\r\n              total.plus(rewards.reduce((acc, reward) =>\r\n                acc.plus(reward.amountPerEpoch), BIG_ZERO).shiftedBy(-rewards[0].rewardToken.decimals).times(tokenState.prices[address])), BIG_ZERO)\r\n\r\n          const rhsAmount = Object.entries(groupBy(rhsRewards, (reward) => reward.rewardToken.address))\r\n            .filter(([address, rewards]) => {\r\n              return !preStartDistributors?.find(distributor => toBech32Address(distributor.reward_token_address_hex) === address)\r\n            })\r\n            .reduce((total, [address, rewards]) =>\r\n              total.plus(rewards.reduce((acc, reward) =>\r\n                acc.plus(reward.amountPerEpoch), BIG_ZERO).shiftedBy(-rewards[0].rewardToken.decimals).times(tokenState.prices[address])), BIG_ZERO)\r\n\r\n\r\n          if (sortOrder === \"asc\") {\r\n            return lhsAmount.comparedTo(rhsAmount);\r\n          }\r\n          return rhsAmount.comparedTo(lhsAmount);\r\n        }\r\n\r\n        const lhsUsdValues = tokenState.values[lhs.address] ?? EMPTY_USD_VALUE;\r\n        const rhsUsdValues = tokenState.values[rhs.address] ?? EMPTY_USD_VALUE;\r\n\r\n        const secondsPerDay = 24 * 3600\r\n\r\n        const lhsRoiPerSec = lhsUsdValues.rewardsPerSecond.dividedBy(lhsUsdValues.poolLiquidity);\r\n        const rhsRoiPerSec = rhsUsdValues.rewardsPerSecond.dividedBy(rhsUsdValues.poolLiquidity);\r\n\r\n        const lhsApr = lhsRoiPerSec.times(secondsPerDay * 365).shiftedBy(2).decimalPlaces(1);\r\n        const rhsApr = rhsRoiPerSec.times(secondsPerDay * 365).shiftedBy(2).decimalPlaces(1);\r\n\r\n        if (sortOrder === \"asc\") {\r\n          return lhsApr.comparedTo(rhsApr);\r\n        }\r\n        return rhsApr.comparedTo(lhsApr);\r\n      })\r\n      .filter((token) => !ownedLiquidity || (token.pool && !token.pool.contributionPercentage.isZero()))\r\n      .reduce((accum, token) => {\r\n        // TODO: proper token blacklist\r\n        if (token.address === \"zil13c62revrh5h3rd6u0mlt9zckyvppsknt55qr3u\") return accum;\r\n\r\n        if (queryRegexp) {\r\n          const fullText = `${token.symbol}${token.name || \"\"}${token.address}`.toLowerCase();\r\n\r\n          if (!fullText.match(queryRegexp))\r\n            return accum;\r\n        }\r\n\r\n        if (token.isZil || token.isWzil) {\r\n          return accum;\r\n        }\r\n\r\n        if (token.blockchain !== Blockchain.Zilliqa) return accum;\r\n\r\n        if (token.registered) {\r\n          accum.registeredTokens.push(token);\r\n        } else {\r\n          accum.otherTokens.push(token);\r\n        }\r\n\r\n        if (token.whitelisted) {\r\n          accum.coreDrop.push(token);\r\n        }\r\n\r\n        let tokenReward = rewardsState.rewardsByPool[token.address]\r\n        if (!tokenReward || tokenReward.length === 0)\r\n          return accum;\r\n\r\n        if (tokenReward.length === 1) {\r\n          accum.singleDrop.push(token)\r\n        }\r\n        if (tokenReward.length > 1) {\r\n          accum.megaDrop.push(token);\r\n        }\r\n\r\n        return accum;\r\n      }, {\r\n        singleDrop: [] as TokenInfo[],\r\n        megaDrop: [] as TokenInfo[],\r\n        registeredTokens: [] as TokenInfo[],\r\n        otherTokens: [] as TokenInfo[],\r\n        coreDrop: [] as TokenInfo[],\r\n      });\r\n\r\n    return result;\r\n  }, [\r\n    tokenState.tokens, tokenState.values, searchQuery,\r\n    ownedLiquidity, rewardsState.rewardsByPool, sortBy,\r\n    rewardsState.distributors, tokenState.prices\r\n  ]);\r\n\r\n  const onLoadMore = () => {\r\n    return () => {\r\n      setLimits({\r\n        ...limits,\r\n        [currentLimit]: limits[currentLimit] + 10,\r\n      })\r\n    };\r\n  };\r\n\r\n  const handleTabChange = (ev: React.ChangeEvent<{}>, newValue: number) => {\r\n    setTabValue(newValue);\r\n  }\r\n\r\n  const updateSort = (type: string) => {\r\n    const [sortType, sortOrder] = sortBy.split(\":\");\r\n    let newOrder = sortOrder;\r\n    let newSort = sortType;\r\n    if (newSort === type) {\r\n      if (newOrder === \"desc\") newOrder = \"asc\";\r\n      else newOrder = \"desc\";\r\n    } else {\r\n      newSort = type;\r\n      newOrder = \"desc\";\r\n    }\r\n    setSortBy(newSort + \":\" + newOrder);\r\n  }\r\n\r\n  const getLogo = (type: string) => {\r\n    const [sortType, sortOrder] = sortBy.split(\":\");\r\n    if (type !== sortType) return <Unsorted />;\r\n    if (sortOrder === \"asc\") return <Asc />;\r\n    return <Desc />;\r\n  }\r\n  const getSortDetail = () => {\r\n    const [sortType, sortOrder] = sortBy.split(\":\");\r\n    const sortString = sortType === \"apr\" ? \"APR\" : \"Rewards\";\r\n    return <>{sortString} {sortOrder === \"asc\" ? <SingleAsc /> : <SingleDesc />}</>\r\n  }\r\n\r\n  const openSortMenu = (ev: React.MouseEvent<HTMLButtonElement>) => {\r\n    setAnchorEl(ev.currentTarget);\r\n  }\r\n\r\n  const closeMenu = () => {\r\n    setAnchorEl(null)\r\n  }\r\n  const allTokens = [...registeredTokens, ...otherTokens];\r\n\r\n  return (\r\n    <Box {...rest} className={cls(classes.root, className)} mt={6} mb={2}>\r\n\r\n      <Box display=\"flex\" flexDirection=\"column\" justifyContent=\"space-between\" mb={3} className={classes.header}>\r\n        <Box display=\"flex\">\r\n          <Text variant=\"h2\">Pools </Text>\r\n          <Box flexGrow={1} />\r\n          <Hidden mdUp>\r\n            <Button className={cls(classes.menuItem, classes.selectButton)} onClick={(ev) => openSortMenu(ev)}>\r\n              Sort by: {getSortDetail()}\r\n            </Button>\r\n            <Popover\r\n              open={Boolean(anchorEl)}\r\n              anchorEl={anchorEl}\r\n              anchorOrigin={{\r\n                vertical: 'bottom',\r\n                horizontal: 'right',\r\n              }}\r\n              className={classes.selectMenu}\r\n              onClose={closeMenu}\r\n            >\r\n              <Text\r\n                className={cls(classes.menuItem, { [classes.selectedMenu]: sortBy === \"apr:desc\" })}\r\n                onClick={() => { closeMenu(); setSortBy(\"apr:desc\"); }}>\r\n                APR&nbsp;<Text className={classes.noBold}>High - Low</Text><Box flexGrow={1} />{sortBy === \"apr:desc\" && <Checkmark />}\r\n              </Text>\r\n              <Text\r\n                className={cls(classes.menuItem, { [classes.selectedMenu]: sortBy === \"apr:asc\" })}\r\n                onClick={() => { closeMenu(); setSortBy(\"apr:asc\"); }}>\r\n                APR&nbsp;<Text className={classes.noBold}>Low - High</Text><Box flexGrow={1} />{sortBy === \"apr:asc\" && <Checkmark />}\r\n              </Text>\r\n              <Text\r\n                className={cls(classes.menuItem, { [classes.selectedMenu]: sortBy === \"dist:desc\" })}\r\n                onClick={() => { closeMenu(); setSortBy(\"dist:desc\"); }}>\r\n                Rewards&nbsp;<Text className={classes.noBold}>High - Low</Text> <Box flexGrow={1} />{sortBy === \"dist:desc\" && <Checkmark />}\r\n              </Text>\r\n              <Text\r\n                className={cls(classes.menuItem, { [classes.selectedMenu]: sortBy === \"dist:asc\" })}\r\n                onClick={() => { closeMenu(); setSortBy(\"dist:asc\"); }}>\r\n                Rewards&nbsp;<Text className={classes.noBold}>Low - High</Text><Box flexGrow={1} />{sortBy === \"dist:asc\" && <Checkmark />}\r\n              </Text>\r\n            </Popover>\r\n          </Hidden>\r\n        </Box>\r\n        <Box display=\"flex\" mt={1} className={classes.tabSearchBox}>\r\n          <Box display=\"flex\">\r\n            <Tabs className={classes.tabs} value={tabValue} onChange={handleTabChange}>\r\n              <Tab className={classes.tab} label={<Text className={classes.tabText}>Mega Drops {!!megaDrop.length && (<Text className={classes.tabLabel}>{megaDrop.length}</Text>)}</Text>} />\r\n              <Tab className={classes.tab} label={<Text className={classes.tabText}>Single Drops {!!singleDrop.length && (<Text className={classes.tabLabel}>{singleDrop.length}</Text>)}</Text>} />\r\n              <Tab className={classes.tab} label={<Text className={classes.tabText}>Core Pools {!!coreDrop.length && (<Text className={classes.tabLabel}>{coreDrop.length}</Text>)}</Text>} />\r\n              <Tab className={classes.tab} label={<Text className={classes.tabText}>Main Pools {!!registeredTokens.length && (<Text className={classes.tabLabel}>{registeredTokens.length}</Text>)}</Text>} />\r\n              <Tab className={classes.tab} label={<Text className={classes.tabText}>All Pools {!!allTokens.length && (<Text className={classes.tabLabel}>{allTokens.length}</Text>)}</Text>} />\r\n            </Tabs>\r\n          </Box>\r\n          <Box flexGrow={1} />\r\n          <PoolsSearchInput onSearch={onSearch} />\r\n        </Box>\r\n      </Box>\r\n\r\n      {Object.keys(tokenState.tokens).length > 0 && (\r\n        <Hidden smDown>\r\n          <Box padding={3} paddingBottom={1} display=\"flex\" alignItems=\"center\">\r\n            <Box flex={.5} mr={2} justifyContent=\"center\" display=\"flex\">\r\n              <Text>Pool</Text>\r\n            </Box>\r\n            <Box flex={2} justifyContent=\"flex-start\" display=\"flex\" flexDirection=\"column\">\r\n              <Text paddingLeft=\"16px\" >Total staked</Text>\r\n            </Box>\r\n            <Box flex={2} justifyContent=\"flex-start\" display=\"flex\">\r\n              <Text onClick={() => updateSort(\"dist\")} className={classes.headerText}>{getLogo(\"dist\")}Reward to be distributed</Text>\r\n            </Box>\r\n            <Box flex={1.5} display=\"flex\" flexDirection=\"column\" >\r\n              <Text onClick={() => updateSort(\"apr\")} className={classes.headerText}>{getLogo(\"apr\")}APR</Text>\r\n            </Box>\r\n            <Box flex={2.5}>\r\n              <Text></Text>\r\n            </Box>\r\n          </Box>\r\n        </Hidden>\r\n      )}\r\n\r\n      <Grid container spacing={2}>\r\n        {tabValue === 0 && megaDrop.slice(0, limits[currentLimit]).map((token) => (\r\n          <Grid key={token.address} item xs={12} >\r\n            <Hidden smDown>\r\n              <PoolInfoCard showDropTag={false} token={token} />\r\n            </Hidden>\r\n            <Hidden mdUp>\r\n              <PoolMobileInfoCard showDropTag={false} token={token} />\r\n            </Hidden>\r\n          </Grid>\r\n        ))}\r\n        {tabValue === 1 && singleDrop.slice(0, limits[currentLimit]).map((token) => (\r\n          <Grid key={token.address} item xs={12} >\r\n            <Hidden smDown>\r\n              <PoolInfoCard token={token} />\r\n            </Hidden>\r\n            <Hidden mdUp>\r\n              <PoolMobileInfoCard token={token} />\r\n            </Hidden>\r\n          </Grid>\r\n        ))}\r\n        {tabValue === 2 && coreDrop.slice(0, limits[currentLimit]).map((token) => (\r\n          <Grid key={token.address} item xs={12} >\r\n            <Hidden smDown>\r\n              <PoolInfoCard showCoreTag={false} token={token} />\r\n            </Hidden>\r\n            <Hidden mdUp>\r\n              <PoolMobileInfoCard showCoreTag={false} token={token} />\r\n            </Hidden>\r\n          </Grid>\r\n        ))}\r\n        {tabValue === 3 && registeredTokens.slice(0, limits[currentLimit]).map((token) => (\r\n          <Grid key={token.address} item xs={12} >\r\n            <Hidden smDown>\r\n              <PoolInfoCard token={token} />\r\n            </Hidden>\r\n            <Hidden mdUp>\r\n              <PoolMobileInfoCard token={token} />\r\n            </Hidden>\r\n          </Grid>\r\n        ))}\r\n        {tabValue === 4 && allTokens.slice(0, limits[currentLimit]).map((token) => (\r\n          <Grid key={token.address} item xs={12} >\r\n            <Hidden smDown>\r\n              <PoolInfoCard token={token} />\r\n            </Hidden>\r\n            <Hidden mdUp>\r\n              <PoolMobileInfoCard token={token} />\r\n            </Hidden>\r\n          </Grid>\r\n        ))}\r\n\r\n        {([megaDrop, singleDrop, coreDrop, registeredTokens, allTokens][tabValue].length > limits[currentLimit]) && (\r\n          <Box width=\"100%\" display=\"flex\" justifyContent=\"center\" justifySelf=\"center\" marginY={4} marginX={1}>\r\n            <Button\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              onClick={onLoadMore()}>\r\n              Load more\r\n            </Button>\r\n          </Box>\r\n        )}\r\n      </Grid>\r\n    </Box >\r\n  );\r\n};\r\n\r\n\r\nconst useStyles = makeStyles((theme: AppTheme) => ({\r\n  root: {\r\n    background: theme.palette.type === \"dark\" ? \"linear-gradient(#13222C, #002A34)\" : \"#F6FFFC\",\r\n    border: theme.palette.border,\r\n    padding: theme.spacing(4, 6),\r\n    borderRadius: 12,\r\n    boxShadow: theme.palette.cardBoxShadow,\r\n    \"& .MuiOutlinedInput-input\": {\r\n      padding: theme.spacing(2, 2),\r\n      fontSize: \"20px\"\r\n    },\r\n    \"& .MuiOutlinedInput-root\": {\r\n      backgroundColor: theme.palette.background.contrast,\r\n      border: \"transparent\"\r\n    },\r\n    [theme.breakpoints.down(\"xs\")]: {\r\n      padding: theme.spacing(4, 2),\r\n    },\r\n  },\r\n  header: {\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      flexDirection: \"column\"\r\n    },\r\n  },\r\n  tabs: {\r\n    '& .MuiTabs-indicator': {\r\n      display: 'flex',\r\n      justifyContent: 'center',\r\n      backgroundColor: theme.palette.type === \"dark\" ? \"#DEFFFF\" : \"#003340\",\r\n      border: `1px solid ${theme.palette.type === \"dark\" ? \"#555555\" : \"rgba(0, 51, 64, 0.3)\"}`,\r\n      borderRadius: \"2px\",\r\n      height: 4,\r\n    },\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      marginBottom: theme.spacing(1),\r\n    },\r\n    '& .MuiTabs-fixed': {\r\n      overflowX: \"scroll!important\",\r\n      \"&::-webkit-scrollbar\": {\r\n        height: \"0.4rem\"\r\n      },\r\n      \"&::-webkit-scrollbar-thumb\": {\r\n        backgroundColor: `rgba${hexToRGBA(theme.palette.type === \"dark\" ? \"#DEFFFF\" : \"#003340\", 0.1)}`,\r\n        borderRadius: 12\r\n      },\r\n    },\r\n  },\r\n  tab: {\r\n    display: \"flex\",\r\n    textTransform: 'none',\r\n    minWidth: 0,\r\n    fontWeight: 600,\r\n    marginRight: theme.spacing(2),\r\n    borderRadius: \"12px\",\r\n    opacity: 0.5,\r\n    '&:hover': {\r\n      opacity: 1,\r\n    },\r\n    '&.MuiTab-root': {\r\n      padding: \"6px 12px\",\r\n    }\r\n  },\r\n  tabText: {\r\n    fontSize: 16,\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    color: theme.palette.text?.primary,\r\n  },\r\n  tabLabel: {\r\n    marginLeft: theme.spacing(1),\r\n    padding: theme.spacing(.7, 1),\r\n    borderRadius: 8,\r\n    background: `rgba${hexToRGBA(theme.palette.type === \"dark\" ? \"#DEFFFF\" : \"#003340\", 0.1)}`,\r\n  },\r\n  tabSearchBox: {\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      flexDirection: \"column\",\r\n    }\r\n  },\r\n  headerText: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    transform: \"translateX(-10px)\",\r\n    cursor: \"pointer\",\r\n  },\r\n  selectMenu: {\r\n    \"& .MuiPaper-root\": {\r\n      backgroundColor: theme.palette.background.default,\r\n      width: \"100%\",\r\n      maxWidth: 220,\r\n      borderRadius: \"12px\",\r\n      border: theme.palette.border,\r\n      overflow: \"hidden\",\r\n      marginTop: 8,\r\n      padding: theme.spacing(1),\r\n    },\r\n  },\r\n  menuItem: {\r\n    fontSize: 16,\r\n    fontWeight: 'bolder',\r\n    padding: \"5px 14px\",\r\n    color: theme.palette.text!.primary,\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    cursor: \"pointer\",\r\n    \"&:hover\": {\r\n      background: \"rgba(255,255,255,0.1)\"\r\n    }\r\n  },\r\n  selectButton: {\r\n    paddingRight: theme.spacing(0),\r\n  },\r\n  selectedMenu: {\r\n    color: theme.palette.primary.dark,\r\n  },\r\n  noBold: {\r\n    fontWeight: \"bold\",\r\n    color: \"inherit\",\r\n  }\r\n}));\r\n\r\nexport default PoolsListing;\r\n"],"sourceRoot":""}