{"version":3,"sources":["../node_modules/@material-ui/icons/BrightnessLowRounded.js","../node_modules/@material-ui/icons/SwapHorizRounded.js","app/layouts/MainCard/MainCard.tsx","../node_modules/@material-ui/icons/Autorenew.js","../node_modules/@material-ui/icons/Add.js","../node_modules/@material-ui/icons/RemoveRounded.js","app/views/main/Swap/swap_logo.svg","../node_modules/@material-ui/icons/esm/WarningRounded.js","app/views/main/Swap/components/SwapDetail/SwapDetail.tsx","app/views/main/Swap/Swap.tsx"],"names":["_interopRequireDefault","require","_interopRequireWildcard","Object","defineProperty","exports","value","default","React","_default","createElement","d","CustomRouterLink","forwardRef","props","ref","style","flexGrow","flexBasis","useStyles","makeStyles","theme","root","flex","padding","spacing","display","flexDirection","breakpoints","down","graph","height","width","card","maxWidth","margin","background","palette","type","border","boxShadow","mainBoxShadow","borderRadius","tabs","marginBottom","tab","position","paddingTop","paddingBottom","backgroundColor","disabledBackground","color","disabled","active","selected","tabLeft","borderTopLeftRadius","borderBottomLeftRadius","tabNoBorder","borderTopRightRadius","borderBottomRightRadius","borderWidth","tabRight","tabActive","tabNoticeOpposite","borderBottom","paperOpposite","MainCard","children","rest","className","staticContext","classes","isPool","useRouteMatch","isSwap","layoutState","useSelector","state","layout","swapState","swap","poolToken","pool","token","transactionState","transaction","boxRef","useRef","useState","boxHeight","setBoxHeight","dispatch","useDispatch","useEffect","current","clientHeight","hasNotification","liquidityEarnHidden","showPoolType","registered","inToken","outToken","notification","observingTxs","length","submittedTxs","showGraph","closeAdvancedSetting","actions","Layout","showAdvancedSetting","Box","justifyContent","Button","disableElevation","onClick","variant","cls","activeClassName","component","to","Paper","_g","_defs","createSvgIcon","textColoured","primary","dark","textWrapper","label","helpInfo","switchIcon","marginLeft","cursor","transform","transition","verticalAlign","fill","activeSwitchIcon","SwapDetail","store","inAmount","outAmount","expectedExchangeRate","expectedSlippage","moneyFormat","useMoneyFormatter","maxFractionDigits","showCurrency","reversedRate","setReversedRate","kkey","mb","exchangeRate","BIG_ZERO","src","dst","eq","rateResult","ZilswapConnector","getExchangeRate","amount","BIG_ONE","shiftedBy","decimals","exactOf","tokenInID","address","tokenOutID","expectedAmount","isNaN","isNegative","pow","e","shouldReverseRate","isZero","symbol","getExchangeRateValue","isEqualTo","placement","title","multipliedBy","_extends","assign","target","i","arguments","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgSwapLogo","_ref","svgRef","titleId","viewBox","xmlns","id","clipPath","ForwardRef","container","swapButton","marginTop","rotateSwapButton","inputRow","paddingLeft","proportionSelect","currencyButton","text","fontWeight","fontSize","lineHeight","letterSpacing","form","keyValueLabel","exchangeRateLabel","actionButton","advanceDetails","alignItems","secondary","primaryColor","main","accordionButton","addAddressButton","addressLabel","addressInput","addressError","justifySelf","warningText","colors","zilliqa","warning","errorText","danger","errorMessage","swapIcon","icon","iconButton","contrast","swapIconBox","zIndex","initialFormState","showRecipientAddress","Swap","enableChangeRecipient","useSearchParam","buttonRotate","setButtonRotate","formState","setFormState","network","useNetwork","swapFormState","tokenState","walletState","wallet","useAsyncTask","runSwap","loading","error","clearSwapError","runWrap","loadingWrap","errorWrap","clearWrapError","useBlacklistAddress","isBlacklisted","runApproveTx","loadingApproveTx","errorApproveTx","clearApproveError","errorRecipientAddress","setErrorRecipientAddress","queryParams","URLSearchParams","useLocation","search","recipientAddrBlacklisted","setRecipientAddrBlacklisted","toaster","useToaster","forNetwork","clearForm","zwapAddress","ZWAP_TOKEN_CONTRACT","queryInput","get","PELE_ADDRESS","queryOutput","newIntoken","tokens","newOuttoken","initNewToken","blacklisted","recipientAddress","newTokens","update","isWrap","isWzil","calculateAmounts","_inAmount","_outAmount","_inToken","_outToken","_exactOf","srcToken","dstToken","srcAmount","dstAmount","isInsufficientReserves","abs","gt","decimalPlaces","expectedAmountUnits","srcAmountUnits","div","slippage","toNumber","onOutAmountChange","reverseTokens","BigNumber","isFinite","result","toString","onInAmountChange","onApproveTx","isZil","a","tokenAddress","tokenAmount","approveTokenTransfer","tokenID","observedTx","Error","walletObservedTx","addressInfo","bech32","Transaction","observe","hash","onDoneEditing","showTxApprove","zilswapContractAddress","CONTRACTS","byte20ContractAddress","fromBech32Address","toLowerCase","unitlessInAmount","bnOrZero","allowances","comparedTo","IconButton","dialogOpts","hideNoPool","wrapZil","onEditorBlur","onAmountChange","onCurrencyChange","ZIL_ADDRESS","size","onSelectProp","percentage","balance","intendedAmount","times","netGasAmount","adjustedForGas","onReverse","InputLabel","Typography","OutlinedInput","onBlur","undefined","ZilValidation","isBech32","placeholder","PlaceholderStrings","ZilAddress","onChange","event","WarningRounded","message","walletRequired","loadingTxApprove","onClickTxApprove","arkClient","ArkClient","zilswap","getSDK","unwrapZil","observeTx","deadline","Number","MAX_SAFE_INTEGER","expiry","setDeadlineBlocks","maxAdditionalSlippage","toBasisPoints","showAdvanced"],"mappings":"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","file":"static/js/8.c58b66ad.chunk.js","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M20 15.31l1.9-1.9c.78-.78.78-2.05 0-2.83L20 8.69V6c0-1.1-.9-2-2-2h-2.69l-1.9-1.9c-.78-.78-2.05-.78-2.83 0L8.69 4H6c-1.1 0-2 .9-2 2v2.69l-1.9 1.9c-.78.78-.78 2.05 0 2.83l1.9 1.9V18c0 1.1.9 2 2 2h2.69l1.9 1.9c.78.78 2.05.78 2.83 0l1.9-1.9H18c1.1 0 2-.9 2-2v-2.69zM12 18c-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.69 6-6 6z\"\n}), 'BrightnessLowRounded');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M6.14 11.86l-2.78 2.79c-.19.2-.19.51 0 .71l2.78 2.79c.31.32.85.09.85-.35V16H13c.55 0 1-.45 1-1s-.45-1-1-1H6.99v-1.79c0-.45-.54-.67-.85-.35zm14.51-3.21l-2.78-2.79c-.31-.32-.85-.09-.85.35V8H11c-.55 0-1 .45-1 1s.45 1 1 1h6.01v1.79c0 .45.54.67.85.35l2.78-2.79c.2-.19.2-.51.01-.7z\"\n}), 'SwapHorizRounded');\n\nexports.default = _default;","import React, {\r\n  Fragment,\r\n  forwardRef,\r\n  useEffect,\r\n  useRef,\r\n  useState,\r\n} from \"react\";\r\nimport { Box, Button, Paper } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport cls from \"classnames\";\r\nimport { PaperProps } from \"material-ui\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { NavLink as RouterLink, useRouteMatch } from \"react-router-dom\";\r\nimport { TokenGraph } from \"app/components\";\r\nimport { actions } from \"app/store\";\r\nimport {\r\n  LayoutState,\r\n  RootState,\r\n  SwapFormState,\r\n  TokenInfo,\r\n  TransactionState,\r\n} from \"app/store/types\";\r\nimport { AppTheme } from \"app/theme/types\";\r\n\r\nconst CustomRouterLink = forwardRef((props: any, ref: any) => (\r\n  <div ref={ref} style={{ flexGrow: 1, flexBasis: 1 }}>\r\n    <RouterLink {...props} />\r\n  </div>\r\n));\r\n\r\nconst CARD_BORDER_RADIUS = 12;\r\n\r\nconst useStyles = makeStyles((theme: AppTheme) => ({\r\n  root: {\r\n    flex: 1,\r\n    padding: theme.spacing(8, 0, 2),\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      padding: theme.spacing(6, 0, 2),\r\n    },\r\n    [theme.breakpoints.down(\"xs\")]: {\r\n      padding: theme.spacing(6, 2, 2),\r\n    },\r\n  },\r\n  graph: {\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      height: 400,\r\n    },\r\n    [theme.breakpoints.down(\"xs\")]: {},\r\n    [theme.breakpoints.down(\"md\")]: {\r\n      padding: theme.spacing(6, 0, 2),\r\n      flexDirection: \"row\",\r\n      width: \"100%\",\r\n    },\r\n  },\r\n  card: {\r\n    maxWidth: 488,\r\n    margin: \"0 auto\",\r\n    background:\r\n      theme.palette.type === \"dark\"\r\n        ? \"linear-gradient(#13222C, #002A34)\"\r\n        : \"#F6FFFC\",\r\n    border:\r\n      theme.palette.border,\r\n    boxShadow: theme.palette.mainBoxShadow,\r\n    borderRadius: CARD_BORDER_RADIUS,\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      maxWidth: 450,\r\n    },\r\n  },\r\n  tabs: {\r\n    display: \"flex\",\r\n    width: \"488px\",\r\n    marginBottom: \"2em\",\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      maxWidth: 450,\r\n    },\r\n  },\r\n  tab: {\r\n    position: \"relative\",\r\n    width: \"100%\",\r\n    borderRadius: 0,\r\n    paddingTop: theme.spacing(2),\r\n    paddingBottom: theme.spacing(2),\r\n    backgroundColor: theme.palette.tab.disabledBackground,\r\n    color: theme.palette.tab.disabled,\r\n    \"&:hover\": {\r\n      backgroundColor: theme.palette.tab.active,\r\n      color: theme.palette.tab.selected,\r\n    },\r\n    \"&.Mui-disabled\": {\r\n      backgroundColor: theme.palette.tab.disabledBackground,\r\n    },\r\n  },\r\n  tabLeft: {\r\n    borderTopLeftRadius: CARD_BORDER_RADIUS,\r\n    borderBottomLeftRadius: CARD_BORDER_RADIUS,\r\n    border:\r\n      theme.palette.border,\r\n  },\r\n  tabNoBorder: {\r\n    borderTopRightRadius: 0,\r\n    borderBottomRightRadius: 0,\r\n    border:\r\n      theme.palette.border,\r\n    borderWidth: \"1px 1px 1px 0\",\r\n  },\r\n  tabRight: {\r\n    borderTopRightRadius: CARD_BORDER_RADIUS,\r\n    borderBottomRightRadius: CARD_BORDER_RADIUS,\r\n    border:\r\n      theme.palette.border,\r\n    borderWidth: \"1px 1px 1px 0\",\r\n  },\r\n  tabActive: {\r\n    backgroundColor: theme.palette.tab.active,\r\n    color: theme.palette.tab.selected,\r\n    \"&:hover\": {\r\n      backgroundColor: theme.palette.tab.active,\r\n      color: theme.palette.tab.selected,\r\n    },\r\n  },\r\n  tabNoticeOpposite: {\r\n    \"&:after\": {\r\n      borderBottom: `8px solid ${theme.palette.background.paperOpposite!}`,\r\n    },\r\n  },\r\n}));\r\nconst MainCard: React.FC<PaperProps> = (props: any) => {\r\n  const { children, className, staticContext, ...rest } = props;\r\n  const classes = useStyles();\r\n  const isPool = useRouteMatch(\"/pool\");\r\n  const isSwap = useRouteMatch(\"/swap\");\r\n  const layoutState = useSelector<RootState, LayoutState>(\r\n    (state) => state.layout\r\n  );\r\n  const swapState = useSelector<RootState, SwapFormState>(\r\n    (state) => state.swap\r\n  );\r\n  const poolToken = useSelector<RootState, TokenInfo | null>(\r\n    (state) => state.pool.token\r\n  );\r\n  const transactionState = useSelector<RootState, TransactionState>(\r\n    (state) => state.transaction\r\n  );\r\n  const boxRef = useRef<HTMLDivElement | null>(null);\r\n  const [boxHeight, setBoxHeight] = useState<number>(0);\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    if (boxRef.current?.clientHeight) {\r\n      setBoxHeight(boxRef.current?.clientHeight || 0);\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [boxRef.current?.clientHeight]);\r\n\r\n  const hasNotification =\r\n    // show new pool warning\r\n    (isPool && poolToken && !poolToken?.pool) ||\r\n    // show liquidity fee (add liquidity incentive) message\r\n    (isPool &&\r\n      !layoutState.liquidityEarnHidden &&\r\n      layoutState.showPoolType === \"add\") ||\r\n    // show user created token warning for pool\r\n    (isPool && poolToken?.pool && !poolToken?.registered) ||\r\n    // show user created token warning for swap\r\n    (isSwap &&\r\n      ((swapState.inToken && !swapState.inToken.registered) ||\r\n        (swapState.outToken && !swapState.outToken.registered))) ||\r\n    // show generic notification\r\n    !!layoutState.notification ||\r\n    // show confirming tx message\r\n    transactionState.observingTxs.length > 0 ||\r\n    // show confirmed tx message\r\n    transactionState.submittedTxs.length > 0;\r\n\r\n  const showGraph = isSwap && (swapState.inToken || swapState.outToken);\r\n\r\n  const closeAdvancedSetting = () => {\r\n    dispatch(actions.Layout.showAdvancedSetting(false));\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      <Box className={classes.root}>\r\n        <Box display=\"flex\" justifyContent=\"center\">\r\n          <Box className={classes.tabs}>\r\n            <Button\r\n              disableElevation\r\n              onClick={closeAdvancedSetting}\r\n              color=\"primary\"\r\n              variant=\"contained\"\r\n              className={cls(classes.tab, classes.tabLeft)}\r\n              activeClassName={cls(classes.tabActive, {\r\n                [classes.tabNoticeOpposite]: hasNotification,\r\n              })}\r\n              component={CustomRouterLink}\r\n              to=\"/swap\"\r\n            >\r\n              Swap\r\n            </Button>\r\n            <Button\r\n              disableElevation\r\n              onClick={closeAdvancedSetting}\r\n              color=\"primary\"\r\n              variant=\"contained\"\r\n              className={cls(classes.tab, classes.tabRight)}\r\n              activeClassName={cls(classes.tabActive, {\r\n                [classes.tabNoticeOpposite]: hasNotification,\r\n              })}\r\n              component={CustomRouterLink}\r\n              to=\"/pool\"\r\n            >\r\n              Pool\r\n            </Button>\r\n            {/* <Button\r\n              disableElevation\r\n              color=\"primary\"\r\n              variant=\"contained\"\r\n              className={cls(classes.tab, classes.tabRight)}\r\n              activeClassName={cls(classes.tabActive, { [classes.tabNoticeOpposite]: hasNotification })}\r\n              component={CustomRouterLink}\r\n              to=\"/bridge\">Bridge</Button> */}\r\n          </Box>\r\n        </Box>\r\n        <Box display=\"flex\" justifyContent=\"center\">\r\n          {showGraph && (\r\n            <TokenGraph\r\n              boxHeight={boxHeight}\r\n              inToken={swapState.inToken}\r\n              outToken={swapState.outToken}\r\n            />\r\n          )}\r\n          <Box width={488}>\r\n            <Paper {...{ ref: boxRef }} {...rest} className={classes.card}>\r\n              <Box>{children}</Box>\r\n            </Paper>\r\n          </Box>\r\n        </Box>\r\n      </Box>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default MainCard;\r\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12 6v3l4-4-4-4v3c-4.42 0-8 3.58-8 8 0 1.57.46 3.03 1.24 4.26L6.7 14.8c-.45-.83-.7-1.79-.7-2.8 0-3.31 2.69-6 6-6zm6.76 1.74L17.3 9.2c.44.84.7 1.79.7 2.8 0 3.31-2.69 6-6 6v-3l-4 4 4 4v-3c4.42 0 8-3.58 8-8 0-1.57-.46-3.03-1.24-4.26z\"\n}), 'Autorenew');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\"\n}), 'Add');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M18 13H6c-.55 0-1-.45-1-1s.45-1 1-1h12c.55 0 1 .45 1 1s-.45 1-1 1z\"\n}), 'RemoveRounded');\n\nexports.default = _default;","var _g, _defs;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgSwapLogo(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 54,\n    height: 54,\n    viewBox: \"0 0 54 54\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    clipPath: \"url(#clip0)\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M25.5381 40.5149L32.0206 46.9216C32.4853 47.3595 33.2056 47.3595 33.6703 46.9216L40.1529 40.5149C40.8964 39.8005 40.362 38.556 39.3397 38.556L35.1574 38.556L35.1574 24.7055C35.1574 23.438 34.1118 22.401 32.8339 22.401C31.5559 22.401 30.5104 23.438 30.5104 24.7055L30.5104 38.556L26.3513 38.556C25.3057 38.556 24.7946 39.8005 25.5381 40.5149ZM18.0797 7.07558L11.5971 13.4823C10.8536 14.1967 11.388 15.4412 12.4103 15.4412L16.5694 15.4412L16.5694 29.3147C16.5694 30.5822 17.615 31.6193 18.8929 31.6193C20.1708 31.6193 21.2164 30.5822 21.2164 29.3147L21.2164 15.4642L25.3754 15.4642C26.421 15.4642 26.9322 14.2197 26.1887 13.5053L19.7061 7.09863C19.2647 6.63771 18.5211 6.63771 18.0797 7.07558Z\"\n  }))), _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"clipPath\", {\n    id: \"clip0\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    width: 54,\n    height: 54,\n    fill: \"white\",\n    transform: \"translate(0 54) rotate(-90)\"\n  })))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgSwapLogo);\nexport default __webpack_public_path__ + \"static/media/swap_logo.0b8397cb.svg\";\nexport { ForwardRef as ReactComponent };","import * as React from 'react';\nimport createSvgIcon from './utils/createSvgIcon';\nexport default createSvgIcon( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M4.47 21h15.06c1.54 0 2.5-1.67 1.73-3L13.73 4.99c-.77-1.33-2.69-1.33-3.46 0L2.74 18c-.77 1.33.19 3 1.73 3zM12 14c-.55 0-1-.45-1-1v-2c0-.55.45-1 1-1s1 .45 1 1v2c0 .55-.45 1-1 1zm1 4h-2v-2h2v2z\"\n}), 'WarningRounded');","import React, { useState } from \"react\";\r\nimport { Box, BoxProps } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport cls from \"classnames\";\r\nimport { useSelector } from \"react-redux\";\r\nimport SwapHorizontalCircleIcon from '@material-ui/icons/SwapHorizRounded';\r\nimport { ZilswapConnector } from \"core/zilswap\";\r\nimport { HelpInfo, KeyValueDisplay } from \"app/components\";\r\nimport { RootState, SwapFormState, TokenInfo } from \"app/store/types\";\r\nimport { AppTheme } from \"app/theme/types\";\r\nimport { useMoneyFormatter } from \"app/utils\";\r\nimport { BIG_ONE, BIG_ZERO } from \"app/utils/constants\";\r\n\r\n\r\nexport interface SwapDetailProps extends BoxProps {\r\n  token?: TokenInfo;\r\n};\r\n\r\nconst useStyles = makeStyles((theme: AppTheme) => ({\r\n  root: {\r\n  },\r\n  textColoured: {\r\n    color: theme.palette.primary.dark\r\n  },\r\n  textWrapper: {\r\n    color: theme.palette.label\r\n  },\r\n  helpInfo: {\r\n    marginBottom: theme.spacing(0.4)\r\n  },\r\n  switchIcon: {\r\n    height: 14,\r\n    width: 14,\r\n    backgroundColor: theme.palette.type === \"dark\" ? \"#2B4648\" : \"#E4F1F2\",\r\n    marginLeft: 8,\r\n    borderRadius: \"50%\",\r\n    cursor: \"pointer\",\r\n    transform: \"rotate(0)\",\r\n    transition: \"transform .5s ease-in-out\",\r\n    verticalAlign: \"middle\",\r\n    marginBottom: theme.spacing(0.4),\r\n    \"& path\": {\r\n      fill: theme.palette.label,\r\n    },\r\n    \"&:hover\": {\r\n      \"& path\": {\r\n        fill: theme.palette.primary.dark,\r\n      }\r\n    }\r\n  },\r\n  activeSwitchIcon: {\r\n    transform: \"rotate(180deg)\",\r\n  },\r\n}));\r\nconst SwapDetail: React.FC<SwapDetailProps> = (props: SwapDetailProps) => {\r\n  const { children, className, token, ...rest } = props;\r\n  const classes = useStyles();\r\n  const { inAmount, inToken, outAmount, outToken, expectedExchangeRate, expectedSlippage } = useSelector<RootState, SwapFormState>(store => store.swap);\r\n  const moneyFormat = useMoneyFormatter({ maxFractionDigits: 5, showCurrency: true });\r\n  const [reversedRate, setReversedRate] = useState(false);\r\n  \r\n  const getMinimumValue = () => {\r\n    if (outAmount.isEqualTo(0)) return <span className={classes.textWrapper}>-</span>;\r\n\r\n    return (\r\n      <span className={classes.textWrapper}><span className={classes.textColoured}>{moneyFormat(outAmount, { maxFractionDigits: outToken?.decimals })}</span> {outToken?.symbol}</span>\r\n    )\r\n  };\r\n\r\n  const getPriceImpact = () => {\r\n    if (!expectedSlippage) return <span className={classes.textWrapper}>-</span>;\r\n\r\n    return (\r\n      <span className={classes.textWrapper}><span className={classes.textColoured}>{moneyFormat((expectedSlippage || 0) * 100)}%</span></span>\r\n    )\r\n  }\r\n\r\n  const getFeeValue = () => {\r\n    if (inAmount.isEqualTo(0)) return <span className={classes.textWrapper}>-</span>;\r\n\r\n    return (\r\n      <span className={classes.textWrapper}><span className={classes.textColoured}>≈ {moneyFormat(inAmount.multipliedBy(0.003))} {inToken?.symbol}</span></span>\r\n    )\r\n  };\r\n\r\n  const getExchangeRateValue = () => {\r\n    if (!(inToken && outToken)) return <span className={classes.textWrapper}>-</span>;\r\n\r\n    let exchangeRate = expectedExchangeRate || BIG_ZERO;\r\n\r\n    let src = inToken, dst = outToken;\r\n\r\n    if (reversedRate) {\r\n      dst = inToken;\r\n      src = outToken;\r\n    }\r\n\r\n    if (exchangeRate.eq(0)) {\r\n      try {\r\n        const rateResult = ZilswapConnector.getExchangeRate({\r\n          amount: BIG_ONE.shiftedBy(src!.decimals),\r\n          exactOf: reversedRate ? \"out\" : \"in\",\r\n          tokenInID: inToken!.address,\r\n          tokenOutID: outToken!.address,\r\n        });\r\n        if (!rateResult.expectedAmount.isNaN() && !rateResult.expectedAmount.isNegative())\r\n          exchangeRate = rateResult.expectedAmount.shiftedBy(-dst!.decimals).pow(reversedRate ? -1 : 1);\r\n      } catch (e) {\r\n        exchangeRate = BIG_ZERO;\r\n      }\r\n    }\r\n    \r\n    const shouldReverseRate = reversedRate && !exchangeRate.isZero();\r\n\r\n    return (\r\n      <span className={classes.textWrapper}>1 {src?.symbol || \"\"} = <span className={classes.textColoured}>{moneyFormat(exchangeRate.pow(shouldReverseRate ? -1 : 1))}</span> {dst?.symbol}</span>\r\n    )\r\n  };\r\n\r\n  return (\r\n    <Box {...rest} className={cls(classes.root, className)}>\r\n      <KeyValueDisplay kkey={\"Price\"} mb=\"8px\">\r\n        {getExchangeRateValue()}\r\n        { \" \" }\r\n        <SwapHorizontalCircleIcon onClick={() => setReversedRate(!reversedRate)}\r\n          className={cls(classes.switchIcon, {\r\n            [classes.activeSwitchIcon]: reversedRate,\r\n          })} />\r\n      </KeyValueDisplay>              \r\n      <KeyValueDisplay kkey={\"Min. Received\"} mb=\"8px\">{getMinimumValue()} <HelpInfo className={classes.helpInfo} placement=\"top\" title={<span>Minimum amount you will receive for this swap.<br />Note: Your transaction will be reverted if there is large, unfavorable price movements prior to confirmation.</span>} /></KeyValueDisplay>\r\n      <KeyValueDisplay kkey={\"Price Impact\"} mb=\"8px\">{getPriceImpact()} <HelpInfo className={classes.helpInfo} placement=\"top\" title=\"Difference between the market price and estimated price due to amount swapped.\" /></KeyValueDisplay>\r\n      <KeyValueDisplay kkey={\"Estimated Fee\"} mb=\"8px\">{getFeeValue()} <HelpInfo className={classes.helpInfo} placement=\"top\" title=\"Liquidity providers will receive 0.3% of this trade.\" /></KeyValueDisplay>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default SwapDetail;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Box, Button, IconButton, InputLabel, OutlinedInput, Typography, makeStyles } from \"@material-ui/core\";\r\nimport { WarningRounded } from \"@material-ui/icons\";\r\nimport AddIcon from \"@material-ui/icons/Add\";\r\nimport AutorenewIcon from '@material-ui/icons/Autorenew';\r\nimport BrightnessLowIcon from '@material-ui/icons/BrightnessLowRounded';\r\nimport RemoveIcon from \"@material-ui/icons/RemoveRounded\";\r\nimport { fromBech32Address } from \"@zilliqa-js/crypto\";\r\nimport { validation as ZilValidation } from \"@zilliqa-js/util\";\r\nimport BigNumber from \"bignumber.js\";\r\nimport cls from \"classnames\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useLocation } from \"react-router\";\r\nimport { CONTRACTS } from \"peleswap-sdk/lib/constants\";\r\nimport { ZWAP_TOKEN_CONTRACT } from \"core/zilswap/constants\";\r\nimport { ZilswapConnector, toBasisPoints } from \"core/zilswap\";\r\nimport { CurrencyInput, FancyButton, Notifications, ProportionSelect, ShowAdvanced, Text } from \"app/components\";\r\nimport MainCard from \"app/layouts/MainCard\";\r\nimport { actions } from \"app/store\";\r\nimport { ExactOfOptions, LayoutState, RootState, SwapFormState, TokenInfo, TokenState, WalletObservedTx, WalletState } from \"app/store/types\";\r\nimport { AppTheme } from \"app/theme/types\";\r\nimport { bnOrZero, useAsyncTask, useBlacklistAddress, useNetwork, useSearchParam, useToaster } from \"app/utils\";\r\nimport { BIG_ONE, BIG_ZERO, PlaceholderStrings, ZIL_ADDRESS, PELE_ADDRESS } from \"app/utils/constants\";\r\nimport { ArkClient } from \"core/utilities/ark\";\r\nimport SwapDetail from \"./components/SwapDetail\";\r\nimport { ReactComponent as SwapSVG } from \"./swap_logo.svg\";\r\n\r\nconst useStyles = makeStyles((theme: AppTheme) => ({\r\n  root: {\r\n  },\r\n  container: {\r\n    padding: theme.spacing(2, 4, 2),\r\n    [theme.breakpoints.down(\"xs\")]: {\r\n      padding: theme.spacing(2, 2, 2),\r\n    },\r\n  },\r\n  swapButton: {\r\n    padding: 0,\r\n    marginTop: -49,\r\n    marginBottom: -15,\r\n    transform: \"rotate(0)\",\r\n    transition: \"transform .5s ease-in-out\",\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      marginTop: -55\r\n    },\r\n    zIndex: 1\r\n  },\r\n  rotateSwapButton: {\r\n    transform: \"rotate(180deg)\",\r\n  },\r\n  switchIcon: {\r\n    height: 16,\r\n    width: 16,\r\n    marginLeft: 8,\r\n    backgroundColor: theme.palette.type === \"dark\" ? \"#2B4648\" : \"#E4F1F2\",\r\n    borderRadius: 8,\r\n    cursor: \"pointer\",\r\n    transform: \"rotate(0)\",\r\n    transition: \"transform .5s ease-in-out\",\r\n  },\r\n  activeSwitchIcon: {\r\n    transform: \"rotate(180deg)\",\r\n  },\r\n  inputRow: {\r\n    paddingLeft: 0\r\n  },\r\n  proportionSelect: {\r\n    marginTop: 3,\r\n    marginBottom: 4,\r\n  },\r\n  currencyButton: {\r\n    borderRadius: 0,\r\n    color: theme.palette.text!.primary,\r\n    fontWeight: 600,\r\n    width: 150,\r\n    display: \"flex\",\r\n    justifyContent: \"space-between\"\r\n  },\r\n  label: {\r\n    fontSize: \"12px\",\r\n    lineHeight: \"14px\",\r\n    fontWeight: \"bold\",\r\n    letterSpacing: 0,\r\n    marginBottom: theme.spacing(1),\r\n  },\r\n  form: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n  },\r\n  keyValueLabel: {\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  exchangeRateLabel: {\r\n    flex: 1,\r\n    marginBottom: theme.spacing(2),\r\n  },\r\n  actionButton: {\r\n    marginTop: theme.spacing(4),\r\n    marginBottom: theme.spacing(4),\r\n    height: 46\r\n  },\r\n  advanceDetails: {\r\n    marginBottom: theme.spacing(2),\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    display: \"flex\",\r\n    color: theme.palette.text!.secondary,\r\n    cursor: \"pointer\"\r\n  },\r\n  primaryColor: {\r\n    color: theme.palette.primary.main\r\n  },\r\n  accordionButton: {\r\n    verticalAlign: \"middle\",\r\n    paddingBottom: 3,\r\n    cursor: \"pointer\",\r\n    color: theme.palette.primary.main,\r\n  },\r\n  addAddressButton: {\r\n    borderRadius: 0,\r\n    padding: 0,\r\n    fontSize: \"12px\",\r\n    \"& .MuiButton-label\": {\r\n      justifyContent: \"flex-start\",\r\n    },\r\n  },\r\n  addressLabel: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n  },\r\n  addressInput: {\r\n    marginBottom: theme.spacing(2),\r\n    \"& input\": {\r\n      padding: \"17.5px 14px\",\r\n      fontSize: \"14px\",\r\n    },\r\n  },\r\n  addressError: {\r\n    justifySelf: \"flex-end\",\r\n    marginLeft: \"auto\",\r\n  },\r\n  warningText: {\r\n    color: theme.palette.colors.zilliqa.warning,\r\n    \"& svg\": {\r\n      verticalAlign: \"middle\",\r\n      fontSize: \"inherit\",\r\n    },\r\n    paddingBottom: theme.spacing(0.5),\r\n  },\r\n  errorText: {\r\n    color: theme.palette.colors.zilliqa.danger,\r\n    \"& svg\": {\r\n      verticalAlign: \"middle\",\r\n      fontSize: \"inherit\",\r\n    }\r\n  },\r\n  errorMessage: {\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  swapIcon: {\r\n    \"& path\": {\r\n      fill: theme.palette.icon\r\n    }\r\n  },\r\n  iconButton: {\r\n    color: theme.palette.type === \"dark\" ? \"rgba(222, 255, 255, 0.5)\" : \"#003340\",\r\n    backgroundColor: theme.palette.background.contrast,\r\n    borderRadius: 12,\r\n    padding: 5,\r\n    marginLeft: 5,\r\n  },\r\n  swapIconBox: {\r\n    zIndex: 1,\r\n    justifyContent: \"center\",\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      justifyContent: \"flex-start\"\r\n    },\r\n  }\r\n}));\r\n\r\nconst initialFormState = {\r\n  inAmount: \"0\",\r\n  outAmount: \"0\",\r\n  showRecipientAddress: false,\r\n};\r\n\r\ntype CalculateAmountProps = {\r\n  exactOf?: ExactOfOptions;\r\n  inToken?: TokenInfo;\r\n  inAmount?: BigNumber;\r\n  outToken?: TokenInfo;\r\n  outAmount?: BigNumber;\r\n};\r\n\r\ninterface InitTokenProps {\r\n  inToken?: TokenInfo,\r\n  outToken?: TokenInfo\r\n}\r\n\r\nconst Swap: React.FC<React.HTMLAttributes<HTMLDivElement>> = (props: any) => {\r\n  const { children, className, ...rest } = props;\r\n  const classes = useStyles();\r\n  const enableChangeRecipient = useSearchParam(\"enableChangeRecipient\") === \"true\";\r\n  const [buttonRotate, setButtonRotate] = useState(false);\r\n  const [formState, setFormState] = useState<typeof initialFormState>(initialFormState);\r\n  const network = useNetwork()\r\n  const swapFormState: SwapFormState = useSelector<RootState, SwapFormState>(store => store.swap);\r\n  const dispatch = useDispatch();\r\n  const tokenState = useSelector<RootState, TokenState>(store => store.token);\r\n  const walletState = useSelector<RootState, WalletState>(store => store.wallet);\r\n  const layoutState = useSelector<RootState, LayoutState>(store => store.layout);\r\n  const [runSwap, loading, error, clearSwapError] = useAsyncTask(\"swap\");\r\n  const [runWrap, loadingWrap, errorWrap, clearWrapError] = useAsyncTask(\"wrap\");\r\n  const [isBlacklisted] = useBlacklistAddress();\r\n  const [runApproveTx, loadingApproveTx, errorApproveTx, clearApproveError] = useAsyncTask(\"approveTx\");\r\n  const [errorRecipientAddress, setErrorRecipientAddress] = useState<string | undefined>();\r\n  const queryParams = new URLSearchParams(useLocation().search);\r\n  const [recipientAddrBlacklisted, setRecipientAddrBlacklisted] = useState(false);\r\n  const toaster = useToaster();\r\n\r\n  useEffect(() => {\r\n    if (!swapFormState.forNetwork) return\r\n\r\n    // clear form if network changed\r\n    if (swapFormState.forNetwork !== network) {\r\n      setFormState({\r\n        ...formState,\r\n        inAmount: \"0\",\r\n        outAmount: \"0\",\r\n      });\r\n      dispatch(actions.Swap.clearForm());\r\n    }\r\n\r\n    // eslint-disable-next-line\r\n  }, [network]);\r\n\r\n  useEffect(() => {\r\n    if (inToken || outToken) {\r\n      return;\r\n    }\r\n\r\n    const zwapAddress = ZWAP_TOKEN_CONTRACT[network];\r\n    const queryInput = queryParams.get(\"tokenIn\") ?? PELE_ADDRESS[network];\r\n    const queryOutput = queryParams.get(\"tokenOut\") ?? zwapAddress;\r\n    if (queryInput === queryOutput && queryOutput) {\r\n      return;\r\n    }\r\n    const newIntoken = queryInput ? tokenState.tokens[queryInput] : null;\r\n    const newOuttoken = queryOutput ? tokenState.tokens[queryOutput] : null;\r\n\r\n    initNewToken({\r\n      ...newIntoken && {\r\n        inToken: newIntoken,\r\n      },\r\n\r\n      ...newOuttoken && {\r\n        outToken: newOuttoken,\r\n      },\r\n    });\r\n\r\n    // eslint-disable-next-line\r\n  }, [tokenState.tokens, network]);\r\n\r\n  useEffect(() => {\r\n    const blacklisted = !!swapFormState.recipientAddress ? isBlacklisted(swapFormState.recipientAddress) : false;\r\n    setRecipientAddrBlacklisted(blacklisted)\r\n  }, [swapFormState.recipientAddress, isBlacklisted]);\r\n\r\n  const initNewToken = (newTokens: InitTokenProps) => {\r\n    dispatch(actions.Swap.update({\r\n      forNetwork: network,\r\n      ...newTokens,\r\n    }));\r\n  }\r\n\r\n  const isWrap = swapFormState.inToken?.isWzil || swapFormState.outToken?.isWzil;\r\n\r\n  const onReverse = () => {\r\n    setButtonRotate(!buttonRotate);\r\n    const result = calculateAmounts({\r\n      inToken: swapFormState.outToken,\r\n      outToken: swapFormState.inToken,\r\n    });\r\n\r\n    if (result.exactOf === \"in\") {\r\n      onOutAmountChange(result.inAmount.toString(), true)\r\n    } else if (result.exactOf === \"out\") {\r\n      onInAmountChange(result.outAmount.toString(), true)\r\n    }\r\n  };\r\n\r\n  const onPercentage = (percentage: number) => {\r\n    const { inToken } = swapFormState;\r\n    if (!inToken) return;\r\n\r\n    const balance = bnOrZero(inToken.balance);\r\n    const intendedAmount = balance.times(percentage).decimalPlaces(0);\r\n    const netGasAmount = inToken.isZil ? ZilswapConnector.adjustedForGas(intendedAmount, balance) : intendedAmount;\r\n    onInAmountChange(netGasAmount.shiftedBy(-inToken.decimals).toString());\r\n  };\r\n\r\n  const calculateAmounts = (props: CalculateAmountProps = {}) => {\r\n    let _inAmount: BigNumber = props.inAmount || swapFormState.inAmount;\r\n    let _outAmount: BigNumber = props.outAmount || swapFormState.outAmount;\r\n    const _inToken: TokenInfo | undefined = props.inToken || swapFormState.inToken;\r\n    const _outToken: TokenInfo | undefined = props.outToken || swapFormState.outToken;\r\n    const _exactOf: ExactOfOptions = props.exactOf || swapFormState.exactOf;\r\n\r\n    if (!_inToken || !_outToken) return {\r\n      inAmount: _inAmount,\r\n      outAmount: _outAmount,\r\n      inToken: _inToken,\r\n      outToken: _outToken,\r\n      exactOf: _exactOf,\r\n    };\r\n\r\n    const srcToken = _exactOf === \"in\" ? _inToken : _outToken;\r\n    const dstToken = _exactOf === \"in\" ? _outToken : _inToken;\r\n\r\n    const srcAmount = (_exactOf === \"in\" ? _inAmount : _outAmount).shiftedBy(srcToken.decimals);\r\n    let expectedExchangeRate = BIG_ONE;\r\n    let expectedSlippage = 0;\r\n    let dstAmount = srcAmount;\r\n    let isInsufficientReserves = false;\r\n\r\n    if (srcAmount.abs().gt(0)) {\r\n      if (_inToken?.isWzil || _outToken?.isWzil) {\r\n        dstAmount = srcAmount.shiftedBy(-srcToken.decimals);\r\n      } else {\r\n        const rateResult = ZilswapConnector.getExchangeRate({\r\n          amount: srcAmount.decimalPlaces(0),\r\n          exactOf: _exactOf,\r\n          tokenInID: _inToken!.address,\r\n          tokenOutID: _outToken!.address,\r\n        });\r\n  \r\n        if (rateResult.expectedAmount.isNaN() || rateResult.expectedAmount.isNegative()) {\r\n          isInsufficientReserves = true;\r\n          expectedExchangeRate = BIG_ZERO;\r\n          expectedSlippage = 0;\r\n          dstAmount = BIG_ZERO;\r\n        } else {\r\n          const expectedAmountUnits = rateResult.expectedAmount.shiftedBy(-dstToken.decimals);\r\n          const srcAmountUnits = srcAmount.shiftedBy(-srcToken.decimals);\r\n          expectedExchangeRate = expectedAmountUnits.div(srcAmountUnits).pow(_exactOf === \"in\" ? 1 : -1).abs();\r\n  \r\n          expectedSlippage = rateResult.slippage.shiftedBy(-2).toNumber();\r\n  \r\n          dstAmount = rateResult.expectedAmount.shiftedBy(-dstToken?.decimals || 0).decimalPlaces(dstToken?.decimals || 0);\r\n        }\r\n      }\r\n    } else {\r\n      expectedExchangeRate = BIG_ZERO;\r\n\r\n      dstAmount = BIG_ZERO;\r\n    }\r\n\r\n    return {\r\n      inAmount: _inAmount,\r\n      outAmount: _outAmount,\r\n      inToken: _inToken,\r\n      outToken: _outToken,\r\n      exactOf: _exactOf,\r\n      ..._exactOf === \"in\" && {\r\n        outAmount: dstAmount,\r\n      },\r\n      ..._exactOf === \"out\" && {\r\n        inAmount: dstAmount,\r\n      },\r\n\r\n      isInsufficientReserves,\r\n      expectedExchangeRate,\r\n      expectedSlippage,\r\n    };\r\n  };\r\n\r\n  const onOutAmountChange = (amount: string = \"0\", reverseTokens?: boolean) => {\r\n    let outAmount = new BigNumber(amount);\r\n    if (outAmount.isNaN() || outAmount.isNegative() || !outAmount.isFinite()) outAmount = BIG_ZERO;\r\n    const result = calculateAmounts({\r\n      exactOf: \"out\",\r\n      outAmount,\r\n      ...reverseTokens && {\r\n        inToken: swapFormState.outToken,\r\n        outToken: swapFormState.inToken,\r\n      },\r\n    });\r\n    setFormState({\r\n      ...formState,\r\n      outAmount: amount,\r\n      inAmount: result.inAmount.toString(),\r\n    });\r\n    dispatch(actions.Swap.update({\r\n      forNetwork: network,\r\n      ...result,\r\n    }));\r\n  };\r\n  const onInAmountChange = (amount: string = \"0\", reverseTokens?: boolean) => {\r\n    let inAmount = new BigNumber(amount);\r\n    if (inAmount.isNaN() || inAmount.isNegative() || !inAmount.isFinite()) inAmount = BIG_ZERO;\r\n    const result = calculateAmounts({\r\n      exactOf: \"in\",\r\n      inAmount,\r\n      ...reverseTokens && {\r\n        inToken: swapFormState.outToken,\r\n        outToken: swapFormState.inToken,\r\n      },\r\n    });\r\n    setFormState({\r\n      ...formState,\r\n      inAmount: amount,\r\n      outAmount: result.outAmount.toString(),\r\n    });\r\n    dispatch(actions.Swap.update({\r\n      forNetwork: network,\r\n      ...result,\r\n    }));\r\n  };\r\n  const onOutCurrencyChange = (token: TokenInfo) => {\r\n    let { inToken } = swapFormState;\r\n    if (swapFormState.inToken?.address === token.address) {\r\n      if (token.isWzil) {\r\n        inToken = tokenState.tokens[ZIL_ADDRESS];\r\n      } else {\r\n        return;\r\n      }\r\n    };\r\n    if (swapFormState.outToken?.address === token.address) return;\r\n\r\n    if (!token.isZil && !inToken) {\r\n      inToken = tokenState.tokens[ZIL_ADDRESS];\r\n    }\r\n\r\n    if (token.isWzil) {\r\n      inToken = tokenState.tokens[ZIL_ADDRESS];\r\n    }\r\n\r\n    const result = calculateAmounts({ inToken, outToken: token });\r\n\r\n    setFormState({\r\n      ...formState,\r\n      outAmount: result.outAmount.toString(),\r\n      inAmount: result.inAmount.toString(),\r\n    });\r\n\r\n    dispatch(actions.Swap.update({\r\n      forNetwork: network,\r\n      ...result,\r\n    }));\r\n  };\r\n  const onInCurrencyChange = (token: TokenInfo) => {\r\n    let { outToken } = swapFormState;\r\n    if (swapFormState.outToken?.address === token.address) {\r\n      if (token.isWzil) {\r\n        outToken =  tokenState.tokens[ZIL_ADDRESS];\r\n      } else {\r\n        return;\r\n      }\r\n    };\r\n    if (swapFormState.inToken?.address === token.address) return;\r\n\r\n    if (!token.isZil && !outToken) {\r\n      outToken = tokenState.tokens[ZIL_ADDRESS];\r\n    }\r\n\r\n    if (token.isWzil) {\r\n      outToken = tokenState.tokens[ZIL_ADDRESS];\r\n    }\r\n\r\n    const result = calculateAmounts({ inToken: token, outToken });\r\n\r\n    setFormState({\r\n      ...formState,\r\n      outAmount: result.outAmount.toString(),\r\n      inAmount: result.inAmount.toString(),\r\n    });\r\n\r\n    dispatch(actions.Swap.update({\r\n      forNetwork: network,\r\n      ...result,\r\n    }));\r\n  };\r\n\r\n  const onRecipientAddressChange = (event: any) => {\r\n    dispatch(actions.Swap.update({\r\n      recipientAddress: event.target.value,\r\n    }));\r\n  };\r\n\r\n  const onSwap = () => {\r\n    const { outToken, inToken, inAmount, outAmount, exactOf, slippage, expiry, recipientAddress } = swapFormState;\r\n    if (!inToken || !outToken) return;\r\n    if (inAmount.isZero() || outAmount.isZero()) return;\r\n    if (loading) return;\r\n\r\n    clearApproveError();\r\n\r\n    runSwap(async () => {\r\n      const amount: BigNumber = exactOf === \"in\" ? inAmount.shiftedBy(inToken.decimals) : outAmount.shiftedBy(outToken.decimals);\r\n      if (amount.isNaN() || !amount.isFinite())\r\n        throw new Error(\"Invalid input amount\");\r\n\r\n      const balance: BigNumber = bnOrZero(inToken.balance)\r\n\r\n      if (inAmount.shiftedBy(inToken.decimals).gt(balance)) {\r\n        throw new Error(`Insufficient ${inToken.symbol} balance.`)\r\n      }\r\n\r\n      ZilswapConnector.setDeadlineBlocks(expiry);\r\n\r\n      const observedTx = await ZilswapConnector.swap({\r\n        tokenInID: inToken.address,\r\n        tokenOutID: outToken.address,\r\n        amount, exactOf,\r\n        maxAdditionalSlippage: toBasisPoints(slippage).toNumber(),\r\n        ...formState.showRecipientAddress && {\r\n          recipientAddress,\r\n        },\r\n      });\r\n      const walletObservedTx: WalletObservedTx = {\r\n        ...observedTx,\r\n        address: walletState.wallet?.addressInfo.bech32 || \"\",\r\n        network,\r\n      };\r\n\r\n      dispatch(actions.Transaction.observe({ observedTx: walletObservedTx }));\r\n      toaster(\"Submitted\", { hash: walletObservedTx.hash });\r\n    });\r\n  };\r\n\r\n  const onWrap = () => {\r\n    const { outToken, inToken, inAmount, outAmount } = swapFormState;\r\n    if (!inToken || !outToken) return;\r\n    if (inAmount.isZero() || outAmount.isZero()) return;\r\n    if (loading) return;\r\n\r\n    clearApproveError();\r\n\r\n    runWrap(async () => {\r\n      const amount: BigNumber = inAmount.shiftedBy(inToken.decimals);\r\n      if (amount.isNaN() || !amount.isFinite())\r\n        throw new Error(\"Invalid input amount\");\r\n\r\n      const balance: BigNumber = bnOrZero(inToken.balance)\r\n\r\n      if (inAmount.shiftedBy(inToken.decimals).gt(balance)) {\r\n        throw new Error(`Insufficient ${inToken.symbol} balance.`)\r\n      }\r\n\r\n      const arkClient = new ArkClient(network);\r\n      const zilswap = ZilswapConnector.getSDK();\r\n      let result;\r\n\r\n      if (inToken.isZil) {\r\n        result = await arkClient.wrapZil(amount, zilswap);\r\n      } else {\r\n        result = await arkClient.unwrapZil(amount, zilswap);\r\n      }\r\n\r\n      zilswap.observeTx({\r\n        hash: result.id!,\r\n        deadline: Number.MAX_SAFE_INTEGER,\r\n      });\r\n\r\n      toaster(`${inToken.isZil ? \"Wrap\" : \"Unwrap\"} token txn submitted!`, { hash: result.id });\r\n    });\r\n  }\r\n\r\n  const onApproveTx = () => {\r\n    if (!swapFormState.inToken) return;\r\n    if (swapFormState.inToken.isZil) return;\r\n    if (swapFormState.inAmount.isZero()) return;\r\n    if (loading) return;\r\n\r\n    clearSwapError();\r\n    clearWrapError();\r\n\r\n    runApproveTx(async () => {\r\n      const tokenAddress = swapFormState.inToken!.address;\r\n      const tokenAmount = swapFormState.inAmount;\r\n      const observedTx = await ZilswapConnector.approveTokenTransfer({\r\n        tokenAmount: tokenAmount.shiftedBy(swapFormState.inToken!.decimals),\r\n        tokenID: tokenAddress,\r\n      });\r\n\r\n      if (!observedTx)\r\n        throw new Error(\"Transfer allowance already sufficient for specified amount\");\r\n\r\n      const walletObservedTx: WalletObservedTx = {\r\n        ...observedTx!,\r\n        address: walletState.wallet?.addressInfo.bech32 || \"\",\r\n        network,\r\n      };\r\n      dispatch(actions.Transaction.observe({ observedTx: walletObservedTx }));\r\n      toaster(\"Submitted\", { hash: walletObservedTx.hash });\r\n    });\r\n  };\r\n\r\n  const onDoneEditing = () => {\r\n    setFormState({\r\n      ...formState,\r\n      inAmount: swapFormState.inAmount.toString(),\r\n      outAmount: swapFormState.outAmount.toString(),\r\n    });\r\n  };\r\n\r\n  const onEnterRecipientAddress = () => {\r\n    const address = swapFormState.recipientAddress;\r\n    let error = undefined;\r\n    if (address && !ZilValidation.isBech32(address)) {\r\n      error = \"Invalid address format\";\r\n    }\r\n\r\n    if (error !== errorRecipientAddress)\r\n      setErrorRecipientAddress(error);\r\n  };\r\n\r\n  const { outToken, inToken } = swapFormState;\r\n  let showTxApprove = false;\r\n  if (inToken && !inToken?.isZil) {\r\n    const zilswapContractAddress = CONTRACTS[network];\r\n    const byte20ContractAddress = fromBech32Address(zilswapContractAddress).toLowerCase();\r\n    const unitlessInAmount = swapFormState.inAmount.shiftedBy(swapFormState.inToken!.decimals);\r\n    showTxApprove = bnOrZero(inToken?.allowances?.[byte20ContractAddress]).comparedTo(unitlessInAmount) < 0;\r\n  }\r\n\r\n  const toggleAdvanceSetting = () => {\r\n    dispatch(actions.Layout.showAdvancedSetting(!layoutState.showAdvancedSetting));\r\n  }\r\n\r\n  // Recalculate Exchange Rate\r\n  const refreshRate = () => {\r\n    onInAmountChange(formState.inAmount);\r\n  }\r\n\r\n  return (\r\n    <MainCard {...rest} className={cls(classes.root, className)}>\r\n      <Notifications />\r\n      {!layoutState.showAdvancedSetting && (\r\n        <Box display=\"flex\" flexDirection=\"column\" className={classes.container}>\r\n          <Box display=\"flex\" justifyContent=\"flex-end\" mb={1.5}>\r\n            <IconButton onClick={() => toggleAdvanceSetting()} className={classes.iconButton}>\r\n              <BrightnessLowIcon />\r\n            </IconButton>\r\n            <IconButton onClick={() => refreshRate()} className={classes.iconButton}>\r\n              <AutorenewIcon />\r\n            </IconButton>\r\n          </Box>\r\n\r\n          <CurrencyInput\r\n            label=\"From\"\r\n            token={inToken || null}\r\n            amount={formState.inAmount}\r\n            disabled={!inToken}\r\n            dialogOpts={{ hideNoPool: true, wrapZil: outToken?.isWzil }}\r\n            onEditorBlur={onDoneEditing}\r\n            onAmountChange={onInAmountChange}\r\n            onCurrencyChange={onInCurrencyChange} />\r\n          <Box display=\"flex\" justifyContent=\"flex-end\">\r\n            <ProportionSelect size=\"small\" className={classes.proportionSelect} onSelectProp={onPercentage} />\r\n          </Box>\r\n          <Box display=\"flex\" className={classes.swapIconBox}>\r\n            <IconButton\r\n              disabled={!inToken || !outToken}\r\n              onClick={() => onReverse()}\r\n              className={cls(classes.swapButton, { [classes.rotateSwapButton]: buttonRotate })}>\r\n              <SwapSVG className={classes.swapIcon} />\r\n            </IconButton>\r\n          </Box>\r\n          <CurrencyInput\r\n            label=\"To\"\r\n            token={outToken || null}\r\n            amount={formState.outAmount}\r\n            disabled={!outToken}\r\n            dialogOpts={{ hideNoPool: true, wrapZil: inToken?.isWzil }}\r\n            onEditorBlur={onDoneEditing}\r\n            onAmountChange={onOutAmountChange}\r\n            onCurrencyChange={onOutCurrencyChange} />\r\n\r\n          {enableChangeRecipient && (\r\n            <Box display=\"flex\" flexDirection=\"column\" marginTop={3}>\r\n              {!formState.showRecipientAddress && (\r\n                <Button variant=\"text\" className={classes.addAddressButton} onClick={() => setFormState({ ...formState, showRecipientAddress: true })}>\r\n                  <AddIcon className={classes.accordionButton} />\r\n                  <span>Add Receiving Address</span>\r\n                </Button>\r\n              )}\r\n              {formState.showRecipientAddress && (\r\n                <>\r\n                  <InputLabel className={classes.addressLabel}>\r\n                    <RemoveIcon className={classes.accordionButton} onClick={() => setFormState({ ...formState, showRecipientAddress: false })} />\r\n                    <span>Receiving Address</span>\r\n                    {!!errorRecipientAddress && <Typography className={classes.addressError} component=\"span\" color=\"error\">{errorRecipientAddress}</Typography>}\r\n                  </InputLabel>\r\n                  <OutlinedInput\r\n                    onBlur={onEnterRecipientAddress}\r\n                    className={classes.addressInput}\r\n                    value={swapFormState.recipientAddress || \"\"}\r\n                    placeholder={PlaceholderStrings.ZilAddress}\r\n                    onChange={onRecipientAddressChange} />\r\n                  {recipientAddrBlacklisted && (\r\n                    <Text className={classes.errorText}>\r\n                      <WarningRounded color=\"error\" />  Address appears to be a known CEX/DEX address. Please ensure you have entered a correct address!\r\n                    </Text>\r\n                  )}\r\n                  <Text className={classes.warningText}>\r\n                    <WarningRounded color=\"inherit\" />  Do not send tokens directly to an exchange address as it may result in failure to receive your fund.\r\n                  </Text>\r\n                </>\r\n              )}\r\n            </Box>\r\n          )}\r\n\r\n          <Typography className={classes.errorMessage} color=\"error\">{error?.message || errorApproveTx?.message || errorWrap?.message}</Typography>\r\n          {swapFormState.isInsufficientReserves && (\r\n            <Typography color=\"error\">Pool reserve is too small to fulfill desired output.</Typography>\r\n          )}\r\n          \r\n          {isWrap ?\r\n            <FancyButton walletRequired\r\n              loading={loadingWrap}\r\n              className={classes.actionButton}\r\n              showTxApprove={showTxApprove}\r\n              loadingTxApprove={loadingApproveTx}\r\n              onClickTxApprove={onApproveTx}\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              disabled={!inToken || !outToken || recipientAddrBlacklisted}\r\n              onClick={onWrap}>\r\n              {inToken?.isWzil ? \"Unwrap\" : \"Wrap\"}\r\n            </FancyButton>\r\n           :  <FancyButton walletRequired\r\n                loading={loading}\r\n                className={classes.actionButton}\r\n                showTxApprove={showTxApprove}\r\n                loadingTxApprove={loadingApproveTx}\r\n                onClickTxApprove={onApproveTx}\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                disabled={!inToken || !outToken || recipientAddrBlacklisted}\r\n                onClick={onSwap}>\r\n                Swap\r\n              </FancyButton>\r\n          }\r\n          <SwapDetail token={outToken || undefined} />\r\n        </Box>\r\n      )}\r\n      <ShowAdvanced showAdvanced={layoutState.showAdvancedSetting} />\r\n    </MainCard >\r\n  );\r\n};\r\n\r\nexport default Swap;\r\n"],"sourceRoot":""}