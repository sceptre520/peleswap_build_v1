(this["webpackJsonpzilswap-webapp"]=this["webpackJsonpzilswap-webapp"]||[]).push([[9],{2014:function(e,t,o){"use strict";var n=o(70),a=o(71);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(o(1)),i=(0,n(o(72)).default)(r.createElement("path",{d:"M20 15.31l1.9-1.9c.78-.78.78-2.05 0-2.83L20 8.69V6c0-1.1-.9-2-2-2h-2.69l-1.9-1.9c-.78-.78-2.05-.78-2.83 0L8.69 4H6c-1.1 0-2 .9-2 2v2.69l-1.9 1.9c-.78.78-.78 2.05 0 2.83l1.9 1.9V18c0 1.1.9 2 2 2h2.69l1.9 1.9c.78.78 2.05.78 2.83 0l1.9-1.9H18c1.1 0 2-.9 2-2v-2.69zM12 18c-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.69 6-6 6z"}),"BrightnessLowRounded");t.default=i},2017:function(e,t,o){"use strict";var n=o(70),a=o(71);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(o(1)),i=(0,n(o(72)).default)(r.createElement("path",{d:"M6.14 11.86l-2.78 2.79c-.19.2-.19.51 0 .71l2.78 2.79c.31.32.85.09.85-.35V16H13c.55 0 1-.45 1-1s-.45-1-1-1H6.99v-1.79c0-.45-.54-.67-.85-.35zm14.51-3.21l-2.78-2.79c-.31-.32-.85-.09-.85.35V8H11c-.55 0-1 .45-1 1s.45 1 1 1h6.01v1.79c0 .45.54.67.85.35l2.78-2.79c.2-.19.2-.51.01-.7z"}),"SwapHorizRounded");t.default=i},2020:function(e,t,o){"use strict";o.d(t,"a",(function(){return k}));var n=o(12),a=o(26),r=o(7),i=o(3),c=o(1),l=o(2001),s=o(1900),d=o(257),u=o(1947),b=o(10),p=o.n(b),j=o(16),m=o(73),f=o(61),O=o(34),h=o(23),x=o(0),g=["children","className","staticContext"],v=Object(c.forwardRef)((function(e,t){return Object(x.jsx)("div",{ref:t,style:{flexGrow:1,flexBasis:1},children:Object(x.jsx)(m.NavLink,Object(i.a)({},e))})})),y=Object(u.a)((function(e){var t,o;return{root:(t={flex:1,padding:e.spacing(8,0,2),display:"flex",flexDirection:"column"},Object(r.a)(t,e.breakpoints.down("sm"),{padding:e.spacing(6,0,2)}),Object(r.a)(t,e.breakpoints.down("xs"),{padding:e.spacing(6,2,2)}),t),graph:(o={},Object(r.a)(o,e.breakpoints.down("sm"),{height:400}),Object(r.a)(o,e.breakpoints.down("xs"),{}),Object(r.a)(o,e.breakpoints.down("md"),{padding:e.spacing(6,0,2),flexDirection:"row",width:"100%"}),o),card:Object(r.a)({maxWidth:488,margin:"0 auto",background:"dark"===e.palette.type?"linear-gradient(#13222C, #002A34)":"#F6FFFC",border:e.palette.border,boxShadow:e.palette.mainBoxShadow,borderRadius:12},e.breakpoints.down("sm"),{maxWidth:450}),tabs:Object(r.a)({display:"flex",width:"488px",marginBottom:"2em"},e.breakpoints.down("sm"),{maxWidth:450}),tab:{position:"relative",width:"100%",borderRadius:0,paddingTop:e.spacing(2),paddingBottom:e.spacing(2),backgroundColor:e.palette.tab.disabledBackground,color:e.palette.tab.disabled,"&:hover":{backgroundColor:e.palette.tab.active,color:e.palette.tab.selected},"&.Mui-disabled":{backgroundColor:e.palette.tab.disabledBackground}},tabLeft:{borderTopLeftRadius:12,borderBottomLeftRadius:12,border:e.palette.border},tabNoBorder:{borderTopRightRadius:0,borderBottomRightRadius:0,border:e.palette.border,borderWidth:"1px 1px 1px 0"},tabRight:{borderTopRightRadius:12,borderBottomRightRadius:12,border:e.palette.border,borderWidth:"1px 1px 1px 0"},tabActive:{backgroundColor:e.palette.tab.active,color:e.palette.tab.selected,"&:hover":{backgroundColor:e.palette.tab.active,color:e.palette.tab.selected}},tabNoticeOpposite:{"&:after":{borderBottom:"8px solid ".concat(e.palette.background.paperOpposite)}}}})),k=function(e){var t,o=e.children,u=(e.className,e.staticContext,Object(a.a)(e,g)),b=y(),m=Object(f.n)("/pool"),k=Object(f.n)("/swap"),w=Object(j.c)((function(e){return e.layout})),C=Object(j.c)((function(e){return e.swap})),N=Object(j.c)((function(e){return e.pool.token})),L=Object(j.c)((function(e){return e.transaction})),B=Object(c.useRef)(null),T=Object(c.useState)(0),P=Object(n.a)(T,2),A=P[0],S=P[1],R=Object(j.b)();Object(c.useEffect)((function(){var e,t;(null===(e=B.current)||void 0===e?void 0:e.clientHeight)&&S((null===(t=B.current)||void 0===t?void 0:t.clientHeight)||0)}),[null===(t=B.current)||void 0===t?void 0:t.clientHeight]);var E=m&&N&&!(null===N||void 0===N?void 0:N.pool)||m&&!w.liquidityEarnHidden&&"add"===w.showPoolType||m&&(null===N||void 0===N?void 0:N.pool)&&!(null===N||void 0===N?void 0:N.registered)||k&&(C.inToken&&!C.inToken.registered||C.outToken&&!C.outToken.registered)||!!w.notification||L.observingTxs.length>0||L.submittedTxs.length>0,I=k&&(C.inToken||C.outToken),D=function(){R(h.a.Layout.showAdvancedSetting(!1))};return Object(x.jsx)(c.Fragment,{children:Object(x.jsxs)(l.a,{className:b.root,children:[Object(x.jsx)(l.a,{display:"flex",justifyContent:"center",children:Object(x.jsxs)(l.a,{className:b.tabs,children:[Object(x.jsx)(s.a,{disableElevation:!0,onClick:D,color:"primary",variant:"contained",className:p()(b.tab,b.tabLeft),activeClassName:p()(b.tabActive,Object(r.a)({},b.tabNoticeOpposite,E)),component:v,to:"/swap",children:"Swap"}),Object(x.jsx)(s.a,{disableElevation:!0,onClick:D,color:"primary",variant:"contained",className:p()(b.tab,b.tabRight),activeClassName:p()(b.tabActive,Object(r.a)({},b.tabNoticeOpposite,E)),component:v,to:"/pool",children:"Pool"})]})}),Object(x.jsxs)(l.a,{display:"flex",justifyContent:"center",children:[I&&Object(x.jsx)(O.kb,{boxHeight:A,inToken:C.inToken,outToken:C.outToken}),Object(x.jsx)(l.a,{width:488,children:Object(x.jsx)(d.a,Object(i.a)(Object(i.a)({ref:B},u),{},{className:b.card,children:Object(x.jsx)(l.a,{children:o})}))})]})]})})}},2038:function(e,t,o){"use strict";o.r(t),o.d(t,"default",(function(){return jt}));var n,a=o(3),r=o(26),i=o(7),c=o(1),l=o.n(c),s=o(2001),d=o(1900),u=o(910),b=o(1947),p=o(10),j=o.n(p),m=o(16),f=o(2014),O=o.n(f),h=o(34),x=o(2020),g=o(23),v=o(121),y=["title","titleId"];function k(){return(k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e}).apply(this,arguments)}function w(e,t){if(null==e)return{};var o,n,a=function(e,t){if(null==e)return{};var o,n,a={},r=Object.keys(e);for(n=0;n<r.length;n++)o=r[n],t.indexOf(o)>=0||(a[o]=e[o]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)o=r[n],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(a[o]=e[o])}return a}function C(e,t){var o=e.title,a=e.titleId,r=w(e,y);return c.createElement("svg",k({viewBox:"0 0 14 13",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",ref:t,"aria-labelledby":a},r),o?c.createElement("title",{id:a},o):null,n||(n=c.createElement("path",{fill:"#29CCC4",d:"M7.59847551,6.5 C7.8305837,6.5 8.02089391,6.31718254 8.02089391,6.09375 L8.02089391,5.64688492 C8.82127435,5.55546379 9.42669246,4.85977554 9.32121247,4.04727554 C9.2446659,3.46329117 8.77532267,2.99862289 8.18958119,2.83613777 L6.87053542,2.47305679 C6.78432855,2.45198059 6.71212555,2.35984039 6.70939599,2.26737785 C6.70939599,2.1505909 6.80879972,2.05411148 6.93106062,2.05411148 L7.79630983,2.05411148 C7.87451788,2.05423546 7.99680251,2.07925415 8.06926659,2.10995102 C8.19639324,2.16581535 8.34343386,2.15312004 8.44112865,2.05916977 L8.90292403,1.61483383 C8.92013217,1.5989151 8.94374887,1.56935883 8.95566402,1.54882812 C8.97840251,1.51022148 8.99684489,1.44210815 8.99684489,1.39678192 C8.99684489,1.30625343 8.93658078,1.1948719 8.86233654,1.14815712 C8.64793494,1.01379013 8.27203787,0.882968903 8.02333865,0.856164932 L8.02333865,0.40625 C8.02333865,0.182817459 7.8332658,0 7.60115761,0 L7.17897656,0 C6.94686837,0 6.75679552,0.182817459 6.75679552,0.40625 L6.75679552,0.853115082 C5.95741196,0.944536209 5.35075962,1.64022446 5.45623961,2.45272446 C5.53254882,3.03670883 6.00333991,3.50137711 6.58810824,3.66386223 L7.90715401,4.02694321 C7.99338461,4.04801941 8.06556388,4.14015961 8.06829344,4.23262215 C8.06829344,4.3494091 7.96888971,4.44588852 7.84662881,4.44588852 L6.9813796,4.44588852 C6.90345638,4.44566536 6.78159898,4.42064667 6.70939599,4.39004898 C6.58203199,4.33418465 6.43522872,4.34687996 6.33753393,4.44083023 L5.87573855,4.88516617 C5.85796076,4.90140724 5.83346586,4.93168259 5.82105226,4.9526844 C5.79864607,4.99106789 5.78048851,5.0586853 5.78048851,5.1036396 C5.78048851,5.19431686 5.84089503,5.30572319 5.91535289,5.35233879 C6.12970702,5.48673058 6.50546168,5.61752701 6.75411342,5.64433098 L6.75411342,6.09375 C6.75411342,6.31718254 6.94442363,6.5 7.17629447,6.5 L7.59847551,6.5 Z M9.0614051,13 C9.3622984,13 9.79729654,12.8407383 10.0323717,12.6445312 L13.7080312,9.57226562 C13.8691944,9.43760109 14,9.15334511 14,8.93774796 C14,8.73643303 13.883127,8.46445084 13.7391483,8.33065414 L13.7388872,8.33065414 C13.4520927,8.05899429 13.0048946,8.07674789 12.7035028,8.33065414 L10.4577095,10.2070312 C10.2235838,10.4032631 9.78996231,10.5625 9.48980481,10.5625 L6.6109654,10.5625 C6.39630271,10.5625 6.22208508,10.3805008 6.22208508,10.15625 C6.22208508,9.93199921 6.39630271,9.75 6.6109654,9.75 L8.51380636,9.75 C8.90026567,9.75 9.26021257,9.47323227 9.32194827,9.07461929 C9.32811946,9.03747559 9.33312763,8.97672653 9.33312763,8.93903732 L9.33312763,8.93598747 C9.33232062,8.48832893 8.98388538,8.125 8.55536699,8.125 L4.66656381,8.125 C4.10697871,8.12514877 3.30011851,8.42420769 2.86557134,8.79252052 L1.73538791,9.75 L0.388880318,9.75 C0.174217623,9.75 0,9.93199921 0,10.15625 L0,12.59375 C0,12.8180008 0.174217623,13 0.388880318,13 L9.0614051,13 Z"})))}var N,L=c.forwardRef(C),B=(o.p,o(0)),T=["children","className"],P=Object(b.a)((function(e){return{root:{},notificationMessage:{fontWeight:400,margin:e.spacing(1,0),color:"light"===e.palette.type?e.palette.colors.zilliqa.neutral[200]:e.palette.colors.zilliqa.neutral[100]},notificationSymbol:{margin:e.spacing(1,1.5,0),"& path":{fill:e.palette.primary.dark}},warning:{width:e.spacing(8)}}})),A=function(e){e.children;var t=e.className,o=Object(r.a)(e,T),n=Object(m.c)((function(e){return e.layout})),i=Object(m.b)(),c=P();return n.liquidityEarnHidden||"add"!==n.showPoolType?null:Object(B.jsxs)(h.T,Object(a.a)(Object(a.a)({},o),{},{className:j()(c.root,t),onRemove:function(){i(g.a.Layout.hideLiquidityEarn())},children:[Object(B.jsx)(s.a,{className:j()(c.notificationSymbol,c.warning),children:Object(B.jsx)(L,{})}),Object(B.jsx)(s.a,{ml:1,children:Object(B.jsx)(v.a,{className:c.notificationMessage,variant:"body1",children:"By adding liquidity, you will earn 0.3% on trades for this pool, proportional to your share of liquidity. Earned fees are added back to the pool and claimable by removing liquidity."})})]}))},S=o(2),R=o.n(S),E=o(20),I=o(12),D=o(1958),z=o(35),W=o(47),Z=o(9),M=o(21),q=o(1905),F=o(1914),H=o(22),V=["children","className","placeholder","onTokenChanged"],Y=Object(b.a)((function(e){var t;return{root:{},input:{marginBottom:20},inputError:{border:"1px solid ".concat(e.palette.error.main)},inputText:(t={fontSize:"16px!important"},Object(i.a)(t,e.breakpoints.down("xs"),{fontSize:"12px!important"}),Object(i.a)(t,"padding","18.5px 14px!important"),t),preview:{marginTop:e.spacing(3),marginBottom:e.spacing(6)},error:{float:"right"},floatLeft:{float:"left"}}})),G=function(e){e.children;var t=e.className,o=e.placeholder,n=e.onTokenChanged,i=Object(r.a)(e,V),l=Y(),d=Object(c.useState)(""),u=Object(I.a)(d,2),b=u[0],p=u[1],f=Object(c.useState)(),O=Object(I.a)(f,2),x=O[0],g=O[1],y=Object(Z.o)("createPoolQueryTokenAddress"),k=Object(I.a)(y,3),w=k[0],C=k[1],N=k[2],L=Object(m.c)((function(e){return e.wallet}));return Object(c.useEffect)((function(){"function"===typeof n&&n(x)}),[x]),Object(c.useEffect)((function(){if(!C){var e=W.b.isAddress(b)?Object(W.h)(b):b;W.b.isBech32(e)?w(Object(E.a)(R.a.mark((function t(){var o,n,a,r,i;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(L.wallet){t.next=2;break}throw new Error("Connect wallet to view token information");case 2:return t.next=4,W.c.addPoolToken({address:e});case 4:if(n=t.sent,a=n.contract,null===(o=a.init)||void 0===o){t.next=10;break}t.t0=o,t.next=13;break;case 10:return t.next=12,a.getInit();case 12:t.t0=t.sent;case 13:r=t.t0,i=Object(H.l)(r),g({contract:a,name:i.name,symbol:i.symbol,address:e,decimals:parseInt(i.decimals)});case 16:case"end":return t.stop()}}),t)})))):g(void 0)}}),[L.wallet,b]),Object(B.jsxs)(s.a,Object(a.a)(Object(a.a)({},i),{},{className:j()(l.root,t),children:[Object(B.jsx)(q.a,{className:l.floatLeft,children:"Token Address"}),N&&Object(B.jsx)(q.a,{className:l.error,children:Object(B.jsx)(v.a,{color:"error",children:N.message})}),Object(B.jsx)(F.a,{placeholder:o||M.s.ZilAddress,value:b,fullWidth:!0,className:j()(l.input,N?l.inputError:{}),onChange:function(e){return p(e.target.value)},classes:{input:l.inputText}}),Object(B.jsx)(s.a,{className:l.preview,children:Object(B.jsx)(h.P,{loading:C,children:!!x&&Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(h.O,{kkey:"Name",mb:"8px",children:x.name}),Object(B.jsx)(h.O,{kkey:"Symbol",mb:"8px",children:x.symbol}),Object(B.jsx)(h.O,{kkey:"Decimals",mb:"8px",children:x.decimals})]})})})]}))},X=["children","className","open","onCloseDialog"],_=Object(b.a)((function(e){var t;return{root:{},content:(t={display:"flex",flexDirection:"column",width:516},Object(i.a)(t,e.breakpoints.down("xs"),{width:"fit-content"}),Object(i.a)(t,"backgroundColor",e.palette.background.default),Object(i.a)(t,"borderLeft",e.palette.border),Object(i.a)(t,"borderRight",e.palette.border),Object(i.a)(t,"borderBottom",e.palette.border),Object(i.a)(t,"borderRadius","0 0 12px 12px"),t),actionButton:{height:46,marginBottom:e.spacing(6)},error:{marginBottom:e.spacing(2)}}})),K=function(e){e.children;var t=e.className,o=e.open,n=e.onCloseDialog,i=Object(r.a)(e,X),l=_(),s=Object(m.b)(),d=Object(Z.v)(),u=Object(c.useState)(),b=Object(I.a)(u,2),p=b[0],f=b[1],O=Object(Z.o)("createPool"),x=Object(I.a)(O,3),y=x[0],k=x[1],w=x[2],C=Object(m.c)((function(e){return e.wallet}));return Object(B.jsx)(h.H,Object(a.a)(Object(a.a)({header:"Create Pool",open:o,onClose:n},i),{},{className:j()(l.root,t),children:Object(B.jsxs)(D.a,{className:l.content,children:[Object(B.jsx)(G,{placeholder:M.s.ZilTokenAddress,onTokenChanged:function(e){return f(e)}}),w&&Object(B.jsx)(v.a,{className:l.error,color:"error",children:w.message}),Object(B.jsx)(h.K,{walletRequired:!0,fullWidth:!0,disabled:!p,className:l.actionButton,variant:"contained",color:"primary",onClick:function(){k||y(Object(E.a)(R.a.mark((function e(){var t,o,a;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=W.c.getSDK()){e.next=3;break}throw new Error("zilswap not initialized");case 3:if(C.wallet){e.next=5;break}throw new Error("Connect wallet to create pool");case 5:if(p){e.next=7;break}throw new Error("Address not valid");case 7:if(o=p.address,!t.getAppState().tokens[o]){e.next=10;break}throw new Error("Pool for ".concat(p.symbol," already exists"));case 10:return a={address:o,initialized:!1,whitelisted:!1,isWzil:!1,isZil:!1,isZwap:!1,registered:!1,symbol:p.symbol,name:p.name,decimals:p.decimals,balance:M.b,allowances:{},blockchain:z.Blockchain.Zilliqa},s(g.a.Token.add({token:a})),s(g.a.Pool.select({token:a,network:d})),s(g.a.Layout.showPoolType("add")),setTimeout((function(){s(g.a.Token.refetchState())})),e.abrupt("return",n());case 16:case"end":return e.stop()}}),e)}))))},children:"Create Pool"})]})}))},U=o(1955),J=["title","titleId"];function Q(){return(Q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e}).apply(this,arguments)}function $(e,t){if(null==e)return{};var o,n,a=function(e,t){if(null==e)return{};var o,n,a={},r=Object.keys(e);for(n=0;n<r.length;n++)o=r[n],t.indexOf(o)>=0||(a[o]=e[o]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)o=r[n],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(a[o]=e[o])}return a}function ee(e,t){var o=e.title,n=e.titleId,a=$(e,J);return c.createElement("svg",Q({width:"5px",height:"18px",viewBox:"0 0 5 18",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",ref:t,"aria-labelledby":n},a),o?c.createElement("title",{id:n},o):null,N||(N=c.createElement("g",{stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},c.createElement("g",{transform:"translate(-511.000000, -189.000000)",fill:"#DCA00E"},c.createElement("path",{d:"M515.25,205.125 C515.25,204.089466 514.410534,203.25 513.375,203.25 C512.339466,203.25 511.5,204.089466 511.5,205.125 C511.5,206.160534 512.339466,207 513.375,207 C514.410534,207 515.25,206.160534 515.25,205.125 Z",id:"Path"}),c.createElement("path",{d:"M512.015869,189 L514.734131,189 C515.010273,189 515.234131,189.223858 515.234131,189.5 C515.234131,189.505207 515.23405,189.510413 515.233887,189.515617 L514.890137,200.515617 C514.881702,200.785548 514.660443,201 514.390381,201 L512.359619,201 C512.089557,201 511.868298,200.785548 511.859863,200.515617 L511.516113,189.515617 C511.507488,189.23961 511.724244,189.008869 512.000252,189.000244 C512.005456,189.000081 512.010662,189 512.015869,189 Z",id:"Rectangle"})))))}var te,oe=c.forwardRef(ee),ne=(o.p,["children","className","token"]),ae=Object(b.a)((function(e){return{root:{},notificationSymbol:{margin:e.spacing(1.5,3,0)},notificationMessage:{fontWeight:400,margin:e.spacing(1,0),color:"light"===e.palette.type?e.palette.colors.zilliqa.neutral[200]:e.palette.colors.zilliqa.neutral[100]},viewDetail:{color:e.palette.primary.main,marginLeft:e.spacing(1)}}})),re=function(e){e.children;var t=e.className,o=e.token,n=Object(r.a)(e,ne),i=ae();return o?Object(B.jsxs)(h.T,Object(a.a)(Object(a.a)({},n),{},{className:j()(i.root,t),children:[Object(B.jsx)(s.a,{className:i.notificationSymbol,children:Object(B.jsx)(oe,{})}),Object(B.jsx)(s.a,{ml:2,mr:1,children:Object(B.jsxs)(v.a,{className:i.notificationMessage,variant:"body2",children:["You are the first person to add liquidity. The initial exchange rate will be set based on your deposits. Make sure that your PELE and deposits have the same fiat value.",Object(B.jsx)(U.a,{className:i.viewDetail,rel:"noopener noreferrer",target:"_blank",href:"https://docs.zilswap.org/#/smart-contract?id=addliquidity",children:"Learn More"})]})})]})):null},ie=o(62),ce=o(28),le=o.n(ce),se=o(13),de=o(40),ue=o(2017),be=o.n(ue),pe=["children","className","token"],je=Object(b.a)((function(e){return{root:{},textColoured:{color:e.palette.primary.dark},textBold:{fontWeight:"bold"},textWrapper:{color:e.palette.label},helpInfo:{marginBottom:e.spacing(.4)},switchIcon:{height:14,width:14,backgroundColor:"dark"===e.palette.type?"#2B4648":"#E4F1F2",marginLeft:8,borderRadius:"50%",cursor:"pointer",transform:"rotate(0)",transition:"transform .5s ease-in-out",verticalAlign:"middle",marginBottom:e.spacing(.4),"& path":{fill:e.palette.label},"&:hover":{"& path":{fill:e.palette.primary.dark}}},activeSwitchIcon:{transform:"rotate(180deg)"}}})),me=function(e){e.children;var t,o=e.className,n=e.token,l=Object(r.a)(e,pe),d=je(),u=Object(m.c)((function(e){return e.token})),b=Object(m.c)((function(e){return e.layout})),p=Object(m.c)((function(e){return e.pool.token})),f=Object(Z.u)({maxFractionDigits:5,showCurrency:!0}),O=Object(c.useState)(!1),x=Object(I.a)(O,2),g=x[0],v=x[1],y=(null===p||void 0===p||null===(t=p.pool)||void 0===t?void 0:t.totalContribution.isPositive())?p.pool.tokenReserve.div(p.pool.totalContribution):M.b,k={compression:12},w={compression:null===n||void 0===n?void 0:n.decimals};return Object(B.jsxs)(s.a,Object(a.a)(Object(a.a)({},l),{},{className:j()(d.root,o),children:[Object(B.jsxs)(h.O,{kkey:"Price",mb:"8px",children:[function(){if(!(null===n||void 0===n?void 0:n.pool))return Object(B.jsx)("span",{className:d.textWrapper,children:"-"});var e=u.tokens[M.D],t=n.pool.exchangeRate.shiftedBy(n.decimals-e.decimals);return g?Object(B.jsxs)("span",{className:d.textWrapper,children:["1 ",n.symbol," = ",Object(B.jsx)("span",{className:d.textColoured,children:t.pow(1).toNumber().toLocaleString("en-US",{maximumFractionDigits:12})})," ZIL"]}):Object(B.jsxs)("span",{className:d.textWrapper,children:["1 ZIL = ",Object(B.jsx)("span",{className:d.textColoured,children:t.pow(-1).toNumber().toLocaleString("en-US",{maximumFractionDigits:12})})," ",n.symbol]})}()," ",Object(B.jsx)(be.a,{onClick:function(){return v(!g)},className:j()(d.switchIcon,Object(i.a)({},d.activeSwitchIcon,g))})]}),"remove"===b.showPoolType&&Object(B.jsxs)(h.O,{kkey:"Pool Token Value",mb:"8px",children:[function(){var e;return(null===n||void 0===n?void 0:n.pool)?Object(B.jsxs)("span",{className:d.textWrapper,children:[Object(B.jsx)("span",{className:d.textColoured,children:f(new le.a(y).times((null===p||void 0===p||null===(e=p.pool)||void 0===e?void 0:e.exchangeRate)||0),Object(a.a)(Object(a.a)({},k),{},{compression:0}))})," ","ZIL + "," ",Object(B.jsx)("span",{className:d.textColoured,children:f(new le.a(y).shiftedBy((null===p||void 0===p?void 0:p.decimals)||0),w)})," ",n.symbol]}):Object(B.jsx)("span",{className:d.textWrapper,children:"-"})}()," ",Object(B.jsx)(h.M,{className:d.helpInfo,placement:"top",title:"Quantity of tokens you are withdrawing at."})]}),Object(B.jsxs)(h.O,{kkey:"Current Pool Size",mb:"8px",children:[function(){if(!(null===n||void 0===n?void 0:n.pool))return Object(B.jsx)("span",{className:d.textWrapper,children:"-"});var e=n.pool,t=e.zilReserve,o=e.tokenReserve;return Object(B.jsxs)("span",{className:d.textWrapper,children:[Object(B.jsx)("span",{className:d.textColoured,children:f(t,k)})," ZIL + ",Object(B.jsx)("span",{className:d.textColoured,children:f(o,w)})," ",n.symbol]})}()," ",Object(B.jsx)(h.M,{className:d.helpInfo,placement:"top",title:"Total quantity of tokens in the current pool."})]}),Object(B.jsxs)(h.O,{kkey:"Current Pool Share",mb:"8px",children:[Object(B.jsx)("span",{className:j()(d.textColoured,d.textBold),children:function(){if(!(null===n||void 0===n?void 0:n.pool))return"";var e=n.pool.contributionPercentage;return"".concat(e.toFixed(1),"%")}()}),function(){if(!(null===n||void 0===n?void 0:n.pool))return Object(B.jsx)("span",{className:d.textWrapper,children:"-"});var e=n.pool,t=e.contributionPercentage,o=e.zilReserve,a=e.tokenReserve,r=t.shiftedBy(-2),i=r.times(a),c=r.times(o);return Object(B.jsxs)("span",{className:d.textWrapper,children:[" (",Object(B.jsx)("span",{className:d.textColoured,children:f(c,k)})," ZIL + ",Object(B.jsx)("span",{className:d.textColoured,children:f(i,w)})," ",n.symbol,")"]})}()," ",Object(B.jsx)(h.M,{className:d.helpInfo,placement:"top",title:"Your %  share in relation to the current pool size."})]}),"add"===b.showPoolType&&Object(B.jsx)(h.Y,{})]}))},fe=["title","titleId"];function Oe(){return(Oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e}).apply(this,arguments)}function he(e,t){if(null==e)return{};var o,n,a=function(e,t){if(null==e)return{};var o,n,a={},r=Object.keys(e);for(n=0;n<r.length;n++)o=r[n],t.indexOf(o)>=0||(a[o]=e[o]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)o=r[n],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(a[o]=e[o])}return a}function xe(e,t){var o=e.title,n=e.titleId,a=he(e,fe);return c.createElement("svg",Oe({viewBox:"0 0 12 12",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",ref:t,"aria-labelledby":n},a),o?c.createElement("title",{id:n},o):null,te||(te=c.createElement("g",{stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},c.createElement("path",{d:"M12,6 C12,6.30623922 11.7708407,6.55895541 11.4746478,6.59602275 L11.3992969,6.60070308 L0.600703083,6.60070308 C0.268943931,6.60070308 0,6.33175915 0,6 C0,5.69376078 0.229159326,5.44104459 0.525352165,5.40397725 L0.600703083,5.39929692 L11.3992969,5.39929692 C11.7310561,5.39929692 12,5.66824085 12,6 Z",fill:"#149BA3"}))))}var ge,ve=c.forwardRef(xe),ye=(o.p,["title","titleId"]);function ke(){return(ke=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e}).apply(this,arguments)}function we(e,t){if(null==e)return{};var o,n,a=function(e,t){if(null==e)return{};var o,n,a={},r=Object.keys(e);for(n=0;n<r.length;n++)o=r[n],t.indexOf(o)>=0||(a[o]=e[o]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)o=r[n],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(a[o]=e[o])}return a}function Ce(e,t){var o=e.title,n=e.titleId,a=we(e,ye);return c.createElement("svg",ke({viewBox:"0 0 12 12",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",ref:t,"aria-labelledby":n},a),o?c.createElement("title",{id:n},o):null,ge||(ge=c.createElement("g",{stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},c.createElement("path",{d:"M12,6 C12,6.30623922 11.7708407,6.55895541 11.4746478,6.59602275 L11.3992969,6.60070308 L6.6003292,6.6000636 L6.60070308,11.3992969 C6.60070308,11.7310561 6.33175915,12 6,12 C5.69376078,12 5.44104459,11.7708407 5.40397725,11.4746478 L5.39929692,11.3992969 L5.3996708,6.6000636 L0.600703083,6.60070308 C0.268943931,6.60070308 0,6.33175915 0,6 C0,5.69376078 0.229159326,5.44104459 0.525352165,5.40397725 L0.600703083,5.39929692 L5.39919885,5.39893325 L5.39929692,0.600703083 C5.39929692,0.268943931 5.66824085,0 6,0 C6.30623922,0 6.55895541,0.229159326 6.59602275,0.525352165 L6.60070308,0.600703083 L6.60080115,5.39893325 L11.3992969,5.39929692 C11.7310561,5.39929692 12,5.66824085 12,6 Z",fill:"#149BA3"}))))}var Ne,Le=c.forwardRef(Ce),Be=(o.p,["children","className","type"]),Te=Object(b.a)((function(e){return{root:{borderRadius:12,margin:"16px auto",height:24,width:24,padding:6,background:"dark"===e.palette.type?"#303637":"#F7FAFA"},icon:{height:12,width:12,"& path":{fill:e.palette.icon}}}})),Pe=function(e){e.children;var t=e.className,o=e.type,n=Object(r.a)(e,Be),i=Te();return Object(B.jsxs)(s.a,Object(a.a)(Object(a.a)({},n),{},{className:j()(i.root,t),children:["plus"===o&&Object(B.jsx)(Le,{className:i.icon}),"minus"===o&&Object(B.jsx)(ve,{className:i.icon})]}))},Ae=["className"],Se=Object(b.a)((function(e){return{root:{},container:Object(i.a)({display:"flex",flexDirection:"column",justifyContent:"space-around",padding:e.spacing(0,4,2)},e.breakpoints.down("xs"),{padding:e.spacing(0,2,2)}),proportionSelect:{marginTop:3,marginBottom:4},actionButton:{marginTop:e.spacing(4),marginBottom:e.spacing(4),height:46},keyValueLabel:{marginTop:e.spacing(1)},svg:{alignSelf:"center"},errorMessage:{marginTop:e.spacing(1)},primaryColor:{color:e.palette.primary.main},poolIcon:Object(i.a)({margin:12,marginTop:-30,marginBottom:0},e.breakpoints.down("sm"),{marginTop:-33}),poolIconBox:Object(i.a)({justifyContent:"center"},e.breakpoints.down("sm"),{justifyContent:"flex-start"})}})),Re={zilAmount:"0",tokenAmount:"0"},Ee=function(e){var t=e.className,o=Object(r.a)(e,Ae),n=Se(),i=Object(c.useState)(Re),l=Object(I.a)(i,2),d=l[0],u=l[1],b=Object(c.useState)(!1),p=Object(I.a)(b,2),j=p[0],f=p[1],O=Object(Z.o)("poolAddLiquidity"),x=Object(I.a)(O,4),y=x[0],k=x[1],w=x[2],C=x[3],N=Object(Z.o)("approveTx"),L=Object(I.a)(N,4),T=L[0],P=L[1],A=L[2],S=L[3],D=Object(m.b)(),z=Object(Z.v)(),q=Object(m.c)((function(e){return e.pool})),F=Object(m.c)((function(e){return e.swap})),H=Object(m.c)((function(e){return e.pool.token})),V=Object(m.c)((function(e){return e.token})),Y=Object(m.c)((function(e){return e.wallet})),G=Object(Z.z)();Object(c.useEffect)((function(){H&&j&&f(!1)}),[H,j]),Object(c.useEffect)((function(){q.forNetwork&&q.forNetwork!==z&&(u({zilAmount:"0",tokenAmount:"0"}),D(g.a.Pool.clear()))}),[z]);var X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0";if(H){var t,o=e,n=new le.a(e);(n.isNegative()||n.isNaN()||!n.isFinite())&&(n=M.b);var r=V.tokens[M.p[z]],i=null===(t=H.pool)||void 0===t?void 0:t.exchangeRate.shiftedBy(H.decimals-r.decimals),c=n.times(i||1).decimalPlaces((null===r||void 0===r?void 0:r.decimals)||12),l=c.toString();u(Object(a.a)(Object(a.a)({},d),{},{tokenAmount:o},H.pool&&{zilAmount:l})),D(g.a.Pool.update(Object(a.a)({forNetwork:z,addTokenAmount:n},H.pool&&{addZilAmount:c})))}},_=function(){u({tokenAmount:q.addTokenAmount.toString(),zilAmount:q.addZilAmount.toString()})},K=de.CONTRACTS[z],U=Object(ie.fromBech32Address)(K).toLowerCase(),J=!1;if(H){var Q,$,ee=q.addTokenAmount.shiftedBy(H.decimals);J=Object(Z.b)(null===(Q=H.allowances)||void 0===Q?void 0:Q[U]).comparedTo(ee)<0;var te=V.tokens[M.p[z]],oe=q.addZilAmount.shiftedBy(M.q);J=J&&Object(Z.b)(null===($=te.allowances)||void 0===$?void 0:$[U]).comparedTo(oe)<0}return Object(B.jsx)(s.a,Object(a.a)(Object(a.a)({display:"flex",flexDirection:"column"},o),{},{className:Object(se.a)(n.root,t),children:Object(B.jsxs)(s.a,{className:n.container,children:[Object(B.jsx)(h.E,{label:"Deposit",token:H,showCurrencyDialog:j,onCloseDialog:function(){return f(!1)},amount:d.tokenAmount.toString(),disabled:!H,onEditorBlur:_,onAmountChange:X,onCurrencyChange:function(e){"PELE"!==e.symbol&&(D(g.a.Pool.select({token:e,network:z})),X("0"))},dialogOpts:{hideZil:!0}}),Object(B.jsx)(s.a,{display:"flex",justifyContent:"flex-end",children:Object(B.jsx)(h.Z,{color:"primary",size:"small",className:n.proportionSelect,onSelectProp:function(e){var t;if(H){var o=new le.a((null===(t=H.balance)||void 0===t?void 0:t.toString())||0),n=o.times(e-F.slippage).decimalPlaces(0),a=H.isZil?W.c.adjustedForGas(n,o):n;X(a.shiftedBy(-H.decimals).toString())}}})}),Object(B.jsx)(s.a,{display:"flex",className:n.poolIconBox,children:Object(B.jsx)(Pe,{type:"plus",className:n.poolIcon})}),Object(B.jsx)(h.E,{fixedToken:!0,label:"Deposit",token:V.tokens[M.p[z]],amount:d.zilAmount,disabled:!H,onEditorBlur:_,onAmountChange:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0";if(H){var t,o=e,n=new le.a(e);(n.isNegative()||n.isNaN()||!n.isFinite())&&(n=M.b);var r=V.tokens[M.p[z]],i=null===(t=H.pool)||void 0===t?void 0:t.exchangeRate.shiftedBy(H.decimals-r.decimals),c=n.div(i||1).decimalPlaces(H.decimals),l=c.toString();u(Object(a.a)(Object(a.a)({},d),{},{zilAmount:o},H.pool&&{tokenAmount:l})),D(g.a.Pool.update(Object(a.a)({forNetwork:z,addZilAmount:n},H.pool&&{addTokenAmount:c})))}}}),Object(B.jsx)(v.a,{color:"error",className:n.errorMessage,children:(null===w||void 0===w?void 0:w.message)||(null===A||void 0===A?void 0:A.message)}),Object(B.jsx)(h.K,{loading:k,walletRequired:!0,showTxApprove:J,loadingTxApprove:P,onClickTxApprove:function(){H&&(q.addTokenAmount.isZero()||k||(C(),T(Object(E.a)(R.a.mark((function e(){var t,o,n,r,i;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=H.address,n=q.addTokenAmount,e.next=4,W.c.approveTokenTransfer({tokenAmount:n.shiftedBy(H.decimals),tokenID:o});case 4:if(r=e.sent,i=Object(a.a)(Object(a.a)({},r),{},{address:(null===(t=Y.wallet)||void 0===t?void 0:t.addressInfo.bech32)||"",network:z}),r){e.next=8;break}throw new Error("Allowance already sufficient for specified amount");case 8:D(g.a.Transaction.observe({observedTx:i})),G("Submitted",{hash:i.hash});case 10:case"end":return e.stop()}}),e)}))))))},className:n.actionButton,variant:"contained",color:"primary",onClick:function(){if(!H)return f(!0);q.addTokenAmount.isZero()||k||(S(),y(Object(E.a)(R.a.mark((function e(){var t,o,n,r,i,c,l,s,d,u,b;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=H.address,n=q.addTokenAmount,r=q.addZilAmount,i=F.slippage,c=Object(Z.b)(H.balance).shiftedBy(-H.decimals),l=V.tokens[M.p[z]],s=Object(Z.b)(l.balance).shiftedBy(-l.decimals),!n.gt(c)){e.next=8;break}throw new Error("Insufficient ".concat(H.symbol," balance."));case 8:if(!r.gt(s)){e.next=10;break}throw new Error("Insufficient ZIL balance.");case 10:if(!r.lt(10)){e.next=12;break}throw new Error("Minimum contribution is 10 PELEs.");case 12:if(!s.minus(r).lt(5)){e.next=14;break}throw new Error("Please reserve at least 5 ZIL to pay for transaction fees.");case 14:return W.c.setDeadlineBlocks(F.expiry),e.next=17,W.c.addLiquidity({tokenAmount:n.shiftedBy(H.decimals),zilAmount:r.shiftedBy(l.decimals),tokenID:o,maxExchangeRateChange:Object(W.g)(i).toNumber()});case 17:d=e.sent,u=Object(a.a)(Object(a.a)({},d),{},{address:(null===(t=Y.wallet)||void 0===t?void 0:t.addressInfo.bech32)||"",network:z}),b=W.c.getPool(o)||void 0,D(g.a.Token.update({address:o,pool:b})),D(g.a.Transaction.observe({observedTx:u})),G("Submitted",{hash:u.hash});case 23:case"end":return e.stop()}}),e)})))))},children:"Add Liquidity"}),Object(B.jsx)(me,{token:H||void 0})]})}))},Ie=o(57),De=o(1956),ze=o(73),We=o(103),Ze=o(1981),Me=o(75),qe=Object(Me.a)(c.createElement("path",{d:"M8.71 12.29L11.3 9.7c.39-.39 1.02-.39 1.41 0l2.59 2.59c.63.63.18 1.71-.71 1.71H9.41c-.89 0-1.33-1.08-.7-1.71z"}),"ArrowDropUpRounded"),Fe=Object(Me.a)(c.createElement("path",{d:"M8.71 11.71l2.59 2.59c.39.39 1.02.39 1.41 0l2.59-2.59c.63-.63.18-1.71-.71-1.71H9.41c-.89 0-1.33 1.08-.7 1.71z"}),"ArrowDropDownRounded"),He=o(533),Ve=["children","className","token"],Ye=Object(b.a)((function(e){return{root:{},buttonWrapper:{borderRadius:"12px",padding:e.spacing(1)},divider:{backgroundColor:"rgba(20,155,163,0.3)",margin:e.spacing(1,0)},textGreen:{marginTop:e.spacing(.2),color:e.palette.primary.dark},arrowIcon:{color:e.palette.label}}})),Ge=function(e){e.children;var t,o,n,i,l,u,b,p,f,O=e.className,x=e.token,v=Object(r.a)(e,Ve),y=Object(m.b)(),k=Ye(),w=Object(Z.B)(),C=Object(Z.v)(),N=Object(m.c)((function(e){return e.rewards.potentialRewardsByPool})),L=Object(m.c)((function(e){return e.token})),T=Object(c.useState)(!1),P=Object(I.a)(T,2),A=P[0],S=P[1],R=[x.symbol,"PELE"],E=null!==(t=null===(o=x.pool)||void 0===o?void 0:o.contributionPercentage.shiftedBy(-2))&&void 0!==t?t:M.b,D=null!==(n=E.shiftedBy(2).decimalPlaces(3).toString(10))&&void 0!==n?n:"",z=E.times(null!==(i=null===(l=x.pool)||void 0===l?void 0:l.tokenReserve)&&void 0!==i?i:M.b),W=E.times(null!==(u=null===(b=x.pool)||void 0===b?void 0:b.zilReserve)&&void 0!==u?u:M.b),q=w.pool(L.prices,x),F=E.times(q),H=null!==(p=N[x.address])&&void 0!==p?p:[],V=null!==(f=L.values[x.address])&&void 0!==f?f:He.a,Y=H.map((function(e){var t=L.tokens[e.tokenAddress];return{rewardToken:t,amount:e.amount,value:w.amount(L.prices,t,e.amount)}})),G=V.rewardsPerSecond.dividedBy(V.poolLiquidity).times(86400).shiftedBy(2).decimalPlaces(2),X=G.isZero()?"-":"".concat(G.dp(2).toFormat(),"%");return Object(B.jsxs)(s.a,Object(a.a)(Object(a.a)({},v),{},{className:j()(k.root,O),children:[Object(B.jsx)(d.a,{variant:"text",fullWidth:!0,className:k.buttonWrapper,onClick:function(){S(!A)},disableRipple:!0,children:Object(B.jsxs)(s.a,{flex:1,display:"flex",alignItems:"center",children:[Object(B.jsx)(h.V,{pair:R,tokenAddress:x.address}),Object(B.jsx)(h.ib,{marginLeft:1,children:R.join(" - ")}),Object(B.jsx)(s.a,{flex:1}),A&&Object(B.jsx)(qe,{className:k.arrowIcon}),!A&&Object(B.jsx)(Fe,{className:k.arrowIcon})]})}),A&&Object(B.jsxs)(h.D,{children:[Object(B.jsxs)(h.O,{marginBottom:1.5,kkey:"Your Pool Share (".concat(D,"%)"),ValueComponent:"span",children:[Object(B.jsx)(h.a,{iconStyle:"small",justifyContent:"flex-end",marginBottom:1,marginTop:-.5,currency:x.symbol,address:x.address,amount:z,compression:x.decimals}),Object(B.jsx)(h.a,{iconStyle:"small",justifyContent:"flex-end",currency:"PELE",address:M.p[C],amount:W}),Object(B.jsxs)(h.ib,{variant:"body2",className:k.textGreen,align:"right",children:["\u2248 $",Object(Z.i)(F,2)]})]}),Y.map((function(e){return[Object(B.jsxs)(h.O,{marginBottom:1.5,kkey:"Your Potential Rewards",ValueComponent:"span",children:[Object(B.jsxs)(h.ib,{color:"textPrimary",children:[Object(Z.i)(e.amount.shiftedBy(-e.rewardToken.decimals))," ",e.rewardToken.symbol]}),Object(B.jsxs)(h.ib,{variant:"body2",className:k.textGreen,align:"right",children:["\u2248 $",Object(Z.i)(e.value,2)]})]}),Object(B.jsx)(h.O,{marginBottom:1.5,kkey:"ROI",ValueComponent:"span",children:Object(B.jsxs)(h.ib,{color:"textPrimary",children:[X," / daily"]})})]})),Object(B.jsxs)(s.a,{display:"flex",marginTop:3,children:[Object(B.jsx)(d.a,{className:k.buttonWrapper,onClick:function(){y(g.a.Pool.select({token:x,network:C})),y(g.a.Layout.showPoolType("add"))},variant:"contained",color:"primary",fullWidth:!0,children:"Add"}),Object(B.jsx)(s.a,{margin:1}),Object(B.jsx)(d.a,{className:k.buttonWrapper,onClick:function(){y(g.a.Pool.select({token:x,network:C})),y(g.a.Layout.showPoolType("remove"))},component:ze.Link,to:"/pool",variant:"contained",color:"primary",fullWidth:!0,children:"Remove"})]})]}),Object(B.jsx)(Ze.a,{className:k.divider})]}))},Xe=["children","className"],_e=Object(b.a)((function(e){return{root:Object(i.a)({padding:e.spacing(2,4,0)},e.breakpoints.down("xs"),{padding:e.spacing(2,2,0)}),viewPoolsButton:{"& svg":{marginLeft:e.spacing(1)}},actionButton:{height:46},newLinkIcon:{"& path":{fill:e.palette.icon}}}})),Ke=function(e){e.children;var t=e.className,o=Object(r.a)(e,Xe),n=_e(),i=Object(m.b)(),c=Z.y.apply(void 0,Object(Ie.a)(M.n.connectWallet)),u=Object(I.a)(c,1)[0],b=Object(m.c)((function(e){return e.token})),p=Object(m.c)((function(e){return e.wallet})),f=l.a.useMemo((function(){return{tokens:Object.values(b.tokens).reduce((function(e,t){var o;return(null===(o=t.pool)||void 0===o?void 0:o.contributionPercentage.gt(0))&&e.push(t),e}),[])}}),[b]).tokens;return Object(B.jsxs)(s.a,Object(a.a)(Object(a.a)({display:"flex",flexDirection:"column"},o),{},{className:j()(n.root,t),children:[Object(B.jsx)(h.ib,{variant:"h4",children:"Your Pools"}),!u&&Object(B.jsxs)(s.a,{marginTop:2,marginBottom:5,children:[f.map((function(e){return Object(B.jsx)(Ge,{token:e},e.address)})),!f.length&&!!p.wallet&&Object(B.jsxs)(h.D,{display:"flex",flexDirection:"column",alignItems:"center",children:[Object(B.jsx)(h.ib,{marginBottom:2,children:"You don't have shares in any liquidity pool yet."}),Object(B.jsx)(d.a,{variant:"contained",color:"primary",onClick:function(){i(g.a.Layout.showPoolType("add"))},children:"Add Liquidity Now"})]}),!p.wallet&&Object(B.jsx)(d.a,{onClick:function(){u||i(g.a.Layout.toggleShowWallet("open"))},className:n.actionButton,fullWidth:!0,variant:"contained",color:"primary",children:"Connect Wallet"})]}),u&&Object(B.jsx)(h.D,{padding:3,marginY:2,justifyContent:"center",display:"flex",children:Object(B.jsx)(De.a,{color:"primary"})}),Object(B.jsx)(s.a,{display:"flex",justifyContent:"center",marginBottom:5,children:Object(B.jsx)(d.a,{component:ze.Link,variant:"text",to:"/pools",size:"small",className:n.viewPoolsButton,children:Object(B.jsxs)(s.a,{display:"flex",alignItems:"center",children:[Object(B.jsx)(h.ib,{color:"inherit",children:"View All Pools"}),Object(B.jsx)(We.a,{className:n.newLinkIcon})]})})})]}))},Ue=o(1979),Je=["children","className"],Qe=Object(b.a)((function(e){var t;return{root:{},tab:(t={borderRadius:12,width:90,padding:e.spacing(1.5,4)},Object(i.a)(t,e.breakpoints.down("xs"),{width:76,padding:e.spacing(1,2),"& .MuiButton-label":{fontSize:"14px"}}),Object(i.a)(t,"&:not(:first-child)",{borderTopLeftRadius:0,borderBottomLeftRadius:0,border:e.palette.border}),Object(i.a)(t,"&:not(:last-child)",{borderTopRightRadius:0,borderBottomRightRadius:0,border:e.palette.border}),t)}})),$e=function(e){e.children;var t=e.className,o=Object(r.a)(e,Je),n=Qe(),i=Object(m.b)(),c=Object(m.c)((function(e){return e.layout.showPoolType})),l=function(e){e!==c&&i(g.a.Layout.showPoolType(e))};return Object(B.jsxs)(Ue.a,Object(a.a)(Object(a.a)({},o),{},{color:"secondary",className:j()(n.root,t),children:[Object(B.jsx)(d.a,{onClick:function(){return l("add")},variant:"add"===c?"contained":"outlined",className:n.tab,children:"Add"}),Object(B.jsx)(d.a,{onClick:function(){return l("manage")},variant:"manage"===c?"contained":"outlined",className:n.tab,children:"Manage"})]}))},et=o(1949),tt=o(288),ot=o.n(tt),nt=["children","className"],at=Object(b.a)((function(e){var t,o,n,a,r,c,l;return{root:{},container:Object(i.a)({display:"flex",flexDirection:"column",justifyContent:"space-around",padding:e.spacing(0,4,0)},e.breakpoints.down("xs"),{padding:e.spacing(0,2,0)}),proportionSelect:{marginTop:3,marginBottom:4},input:{marginTop:12,marginBottom:20},svg:{alignSelf:"center",marginBottom:12},actionButton:{marginTop:e.spacing(4),marginBottom:e.spacing(4),height:46},backButton:{borderRadius:12,marginLeft:e.spacing(-2),color:null===(t=e.palette.text)||void 0===t?void 0:t.primary},readOnly:{textAlign:"left",color:null===(o=e.palette.text)||void 0===o?void 0:o.primary,padding:e.spacing(1.5,2.5)},previewAmount:(n={fontSize:22,lineHeight:"24px",fontWeight:"bold"},Object(i.a)(n,e.breakpoints.down("md"),{fontSize:20}),Object(i.a)(n,"color",e.palette.primary.dark),Object(i.a)(n,"marginBottom",e.spacing(1)),n),keyValueLabel:{marginTop:e.spacing(1)},poolDetails:{marginBottom:e.spacing(2)},advanceDetails:{marginBottom:e.spacing(2),justifyContent:"center",alignItems:"center",display:"flex",color:e.palette.text.secondary,cursor:"pointer"},primaryColor:{color:e.palette.primary.main},showAdvanced:Object(i.a)({padding:e.spacing(2.5,8)},e.breakpoints.down("xs"),{padding:e.spacing(2.5,2)}),text:{fontWeight:400,letterSpacing:0},divider:{marginTop:e.spacing(2),backgroundColor:"rgba".concat(Object(Z.f)(e.palette.primary.main,.3))},errorMessage:{marginTop:e.spacing(1)},label:{color:e.palette.primary.contrastText},iconButton:{color:null===(a=e.palette)||void 0===a?void 0:a.label,backgroundColor:null===(r=e.palette)||void 0===r?void 0:r.currencyInput,borderRadius:12,padding:5,marginLeft:5},viewIcon:{color:"dark"===e.palette.type?"#00FFB0":"rgba".concat(Object(Z.f)("#003340",.5)),position:"absolute",top:"50%",left:"50%",marginLeft:"-12px",marginTop:"-12px"},box:{backgroundColor:null===(c=e.palette)||void 0===c?void 0:c.currencyInput,border:"3px solid rgba".concat(Object(Z.f)("#00FFB0",.2)),margin:"2px"},currencyText:{fontSize:20},header:{fontSize:16},token:(l={fontSize:22,lineHeight:"24px"},Object(i.a)(l,e.breakpoints.down("md"),{fontSize:20}),Object(i.a)(l,"marginLeft",4),l)}})),rt={tokenAmount:"0",removeContribution:M.b},it=function(e){e.children;var t,o,n,i,l,b,p,j,f=e.className,x=Object(r.a)(e,nt),y=at(),k=Object(m.b)(),w=Object(c.useState)(rt),C=Object(I.a)(w,2),N=C[0],L=C[1],T=Object(c.useState)(!1),P=Object(I.a)(T,2),A=P[0],S=P[1],D=Object(Z.o)("poolRemoveLiquidity"),z=Object(I.a)(D,3),q=z[0],F=z[1],H=z[2],V=Object(Z.v)(),Y=Object(m.c)((function(e){return e.pool})),G=Object(m.c)((function(e){return e.swap})),X=Object(m.c)((function(e){return e.wallet})),_=Object(m.c)((function(e){return e.pool.token})),K=Object(m.c)((function(e){return e.layout})),U=Object(Z.u)({showCurrency:!0,maxFractionDigits:6}),J=Object(m.c)((function(e){return e.token})),Q=null===_||void 0===_||null===(t=_.pool)||void 0===t?void 0:t.contributionPercentage.shiftedBy(-2),$=null===_||void 0===_||null===(o=_.pool)||void 0===o?void 0:o.tokenReserve.times(Q||0),ee=J.tokens[M.D],te=Object(Z.z)(),oe={compression:12},ne={compression:null===_||void 0===_?void 0:_.decimals};Object(c.useEffect)((function(){_&&A&&S(!1)}),[_,A]),Object(c.useEffect)((function(){Y.forNetwork&&Y.forNetwork!==V&&(L(Object(a.a)({},rt)),k(g.a.Pool.clear()))}),[V]);var ae=function(e,t,o){if(L({tokenAmount:o||e.toString(),removeContribution:t}),null===_||void 0===_?void 0:_.pool){var n=e.times(_.pool.exchangeRate).decimalPlaces(_.decimals);k(g.a.Pool.update({forNetwork:V,removeZilAmount:n.shiftedBy(_.decimals),removeTokenAmount:e.shiftedBy(_.decimals)}))}},re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0";if(null===_||void 0===_?void 0:_.pool){var t=new le.a(e);(t.isNegative()||t.isNaN())&&(t=M.b);var o=_.pool.userContribution,n=t.div(_.pool.tokenReserve.shiftedBy(-_.decimals)),a=_.pool.totalContribution.times(n).decimalPlaces(0);a.isGreaterThan(o)&&(t=$.decimalPlaces(0).shiftedBy(-_.decimals),a=_.pool.userContribution),ae(t,a,e)}},ie=(null===_||void 0===_||null===(n=_.pool)||void 0===n?void 0:n.totalContribution.isPositive())?_.pool.tokenReserve.div(_.pool.totalContribution):M.b;return Object(B.jsxs)(s.a,Object(a.a)(Object(a.a)({display:"flex",flexDirection:"column"},x),{},{className:Object(se.a)(y.root,f),children:[Object(B.jsxs)(s.a,{className:y.container,children:[Object(B.jsxs)(s.a,{display:"flex",justifyContent:"space-between",alignItems:"center",marginY:4,children:[Object(B.jsxs)(d.a,{variant:"text",onClick:function(){k(g.a.Layout.showPoolType("manage"))},className:y.backButton,children:[Object(B.jsx)(et.a,{}),Object(B.jsx)(h.ib,{variant:"h4",marginLeft:1,children:"Remove Liquidity"})]}),Object(B.jsx)(u.a,{onClick:function(){k(g.a.Layout.showAdvancedSetting(!K.showAdvancedSetting))},className:y.iconButton,children:Object(B.jsx)(O.a,{})})]}),Object(B.jsx)(h.E,{hideBalance:!0,showPoolBalance:!0,showCurrencyDialog:A,onCloseDialog:function(){return S(!1)},label:"Withdraw Token",token:_,amount:N.tokenAmount,disabled:!_,onEditorBlur:function(){L(Object(a.a)(Object(a.a)({},N),{},{tokenAmount:Y.removeTokenAmount.shiftedBy(-((null===_||void 0===_?void 0:_.decimals)||0)).toString()}))},onAmountChange:re,onCurrencyChange:function(e){e.pool&&(k(g.a.Pool.select({token:e,network:V})),re("0"))},dialogOpts:{hideNoPool:!0,hideZil:!0}}),Object(B.jsx)(s.a,{display:"flex",justifyContent:"flex-end",children:Object(B.jsx)(h.Z,{color:"primary",size:"small",className:y.proportionSelect,onSelectProp:function(e){if(null===_||void 0===_?void 0:_.pool){var t=_.pool.userContribution.times(e).decimalPlaces(0)||M.b,o=t.div(_.pool.totalContribution).times(_.pool.tokenReserve).decimalPlaces(0);ae(o.shiftedBy(-_.decimals),t)}}})}),Object(B.jsx)(h.ib,{align:"center",marginTop:1,className:y.header,children:"You Receive"}),Object(B.jsxs)(s.a,{marginTop:1.5,display:"flex",bgcolor:"background.contrast",padding:.5,borderRadius:12,position:"relative",children:[Object(B.jsx)(s.a,{className:y.box,display:"flex",flexDirection:"column",alignItems:"start",flex:1,borderRadius:12,children:Object(B.jsxs)(s.a,{py:"4px",px:"16px",children:[Object(B.jsxs)(s.a,{display:"flex",alignItems:"flex-end",mt:1,mb:1,children:[Object(B.jsx)(h.G,{currency:ee.symbol,address:ee.address}),Object(B.jsx)(v.a,{className:y.token,children:"ZIL"})]}),Object(B.jsx)(v.a,{className:y.previewAmount,children:U(Y.removeZilAmount,oe)})]})}),Object(B.jsx)(ot.a,{className:y.viewIcon}),Object(B.jsx)(s.a,{className:y.box,display:"flex",flexDirection:"column",alignItems:"start",flex:1,borderRadius:12,children:Object(B.jsxs)(s.a,{py:"4px",px:"16px",children:[Object(B.jsxs)(s.a,{display:"flex",alignItems:"flex-end",mt:1,mb:1,children:[Object(B.jsx)(h.G,{currency:null===Y||void 0===Y||null===(i=Y.token)||void 0===i?void 0:i.symbol,address:null===Y||void 0===Y||null===(l=Y.token)||void 0===l?void 0:l.address}),Object(B.jsx)(v.a,{className:y.token,children:null===Y||void 0===Y||null===(b=Y.token)||void 0===b?void 0:b.symbol})]}),Object(B.jsxs)(v.a,{className:y.previewAmount,children:["\u2248 ",U(Y.removeTokenAmount,ne)]})]})})]}),Object(B.jsx)(v.a,{className:y.errorMessage,color:"error",children:null===H||void 0===H?void 0:H.message}),Object(B.jsx)(h.K,{walletRequired:!0,loading:F,className:y.actionButton,variant:"contained",color:"primary",onClick:function(){if(!_)return S(!0);Y.removeTokenAmount.isZero()||F||q(Object(E.a)(R.a.mark((function e(){var t,o,n,r,i,c,l;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=_.address,n=N.removeContribution,r=G.slippage,W.c.setDeadlineBlocks(G.expiry),e.next=6,W.c.removeLiquidity({tokenID:o,contributionAmount:n,maxExchangeRateChange:Object(W.g)(r).toNumber()});case 6:i=e.sent,c=Object(a.a)(Object(a.a)({},i),{},{address:(null===(t=X.wallet)||void 0===t?void 0:t.addressInfo.bech32)||"",network:V}),l=W.c.getPool(o)||void 0,k(g.a.Token.update({address:o,pool:l})),k(g.a.Transaction.observe({observedTx:c})),te("Submitted",{hash:c.hash});case 12:case"end":return e.stop()}}),e)}))))},children:"Remove Liquidity"}),Object(B.jsx)(me,{className:y.poolDetails,token:_||void 0})]}),!!K.showAdvancedSetting&&!!_&&Object(B.jsx)(B.Fragment,{children:Object(B.jsxs)(h.D,{className:y.showAdvanced,children:[Object(B.jsxs)(v.a,{className:y.text,variant:"body2",children:["You are removing"," ",Object(B.jsxs)("strong",{children:[U(Y.removeZilAmount,oe)," + ",U(Y.removeTokenAmount,ne)]}),"from the liquidity pool."," ",Object(B.jsxs)("strong",{children:["(~",U(Y.removeTokenAmount,Object(a.a)(Object(a.a)({},ne),{},{showCurrency:!0}))," Pool Token)"]})]}),Object(B.jsx)(Ze.a,{className:y.divider}),Object(B.jsxs)(h.O,{mt:"22px",kkey:"Current Total Supply",children:[U((null===_||void 0===_||null===(p=_.pool)||void 0===p?void 0:p.tokenReserve)||0,Object(a.a)({},ne))," Pool Token"]}),Object(B.jsxs)(h.O,{mt:"8px",kkey:"Each Pool Token Value",children:[U(new le.a(ie).times((null===_||void 0===_||null===(j=_.pool)||void 0===j?void 0:j.exchangeRate)||0),Object(a.a)(Object(a.a)({},oe),{},{compression:0}))," ","+"," ",U(new le.a(ie).shiftedBy((null===_||void 0===_?void 0:_.decimals)||0),ne)]}),Object(B.jsx)(Ze.a,{className:y.divider})]})})]}))},ct=["title","titleId"];function lt(){return(lt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e}).apply(this,arguments)}function st(e,t){if(null==e)return{};var o,n,a=function(e,t){if(null==e)return{};var o,n,a={},r=Object.keys(e);for(n=0;n<r.length;n++)o=r[n],t.indexOf(o)>=0||(a[o]=e[o]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)o=r[n],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(a[o]=e[o])}return a}function dt(e,t){var o=e.title,n=e.titleId,a=st(e,ct);return c.createElement("svg",lt({width:"14px",height:"14px",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",ref:t,"aria-labelledby":n},a),o?c.createElement("title",{id:n},o):null,Ne||(Ne=c.createElement("g",{stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},c.createElement("g",{transform:"translate(-181.000000, -327.000000)",fill:"#149BA3"},c.createElement("path",{d:"M195,334 C195,334.357279 194.732647,334.652115 194.387089,334.69536 L194.29918,334.70082 L188.700384,334.700074 L188.70082,340.29918 C188.70082,340.686232 188.387052,341 188,341 C187.642721,341 187.347885,340.732647 187.30464,340.387089 L187.29918,340.29918 L187.299616,334.700074 L181.70082,334.70082 C181.313768,334.70082 181,334.387052 181,334 C181,333.642721 181.267353,333.347885 181.612911,333.30464 L181.70082,333.29918 L187.299065,333.298755 L187.29918,327.70082 C187.29918,327.313768 187.612948,327 188,327 C188.357279,327 188.652115,327.267353 188.69536,327.612911 L188.70082,327.70082 L188.700935,333.298755 L194.29918,333.29918 C194.686232,333.29918 195,333.612948 195,334 Z",id:"Path"})))))}var ut=c.forwardRef(dt),bt=(o.p,["children","className"]),pt=Object(b.a)((function(e){var t;return{root:{},container:(t={padding:e.spacing(4,4,0)},Object(i.a)(t,e.breakpoints.down("xs"),{padding:e.spacing(2,2,0)}),Object(i.a)(t,"marginBottom",12),t),createButton:{borderRadius:12},actionButton:{marginTop:45,marginBottom:40,height:46},iconButton:{color:e.palette.label,backgroundColor:e.palette.currencyInput,borderRadius:12,padding:5,marginLeft:5},advancedSettingContainer:Object(i.a)({padding:e.spacing(0,4,2)},e.breakpoints.down("xs"),{padding:e.spacing(0,2,2)}),plusIcon:{"& path":{fill:e.palette.icon}}}})),jt=function(e){e.children;var t=e.className,o=Object(r.a)(e,bt),n=pt(),i=Object(m.b)(),c=Object(m.c)((function(e){return e.pool})),l=Object(m.c)((function(e){return e.layout})),b=c.token,p=l.showPoolType,f=l.showCreatePool,v=function(e){i(g.a.Layout.toggleShowCreatePool(e))};return Object(B.jsxs)(x.a,Object(a.a)(Object(a.a)({},o),{},{className:j()(n.root,t),children:[Object(B.jsx)(h.U,{}),!(null===b||void 0===b?void 0:b.pool)&&Object(B.jsx)(re,{token:b||void 0}),Object(B.jsx)(A,{}),!l.showAdvancedSetting&&Object(B.jsxs)(s.a,{display:"flex",flexDirection:"column",children:["remove"!==p&&Object(B.jsxs)(s.a,{display:"flex",justifyContent:"space-between",mb:"28px",className:n.container,children:[Object(B.jsx)($e,{}),Object(B.jsx)(d.a,{className:n.createButton,startIcon:Object(B.jsx)(ut,{className:n.plusIcon}),onClick:function(){return v("open")},children:"Create Pool"})]}),"add"===p&&Object(B.jsx)(s.a,{display:"flex",justifyContent:"flex-end",className:n.advancedSettingContainer,children:Object(B.jsx)(u.a,{onClick:function(){i(g.a.Layout.showAdvancedSetting(!l.showAdvancedSetting))},className:n.iconButton,children:Object(B.jsx)(O.a,{})})}),"add"===p&&Object(B.jsx)(Ee,{}),"manage"===p&&Object(B.jsx)(Ke,{}),"remove"===p&&Object(B.jsx)(it,{})]}),Object(B.jsx)(h.fb,{showAdvanced:l.showAdvancedSetting}),Object(B.jsx)(K,{open:f,onCloseDialog:function(){return v("close")}})]}))}}}]);
//# sourceMappingURL=9.ad8fb20e.chunk.js.map